(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function ev(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var kf={exports:{}},Hl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ny;function zT(){if(Ny)return Hl;Ny=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:a,type:s,key:d,ref:o!==void 0?o:null,props:c}}return Hl.Fragment=e,Hl.jsx=i,Hl.jsxs=i,Hl}var Iy;function BT(){return Iy||(Iy=1,kf.exports=zT()),kf.exports}var B=BT(),jf={exports:{}},bt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vy;function kT(){if(Vy)return bt;Vy=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function C(I){return I===null||typeof I!="object"?null:(I=S&&I[S]||I["@@iterator"],typeof I=="function"?I:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,Y={};function G(I,et,lt){this.props=I,this.context=et,this.refs=Y,this.updater=lt||U}G.prototype.isReactComponent={},G.prototype.setState=function(I,et){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,et,"setState")},G.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function Z(){}Z.prototype=G.prototype;function rt(I,et,lt){this.props=I,this.context=et,this.refs=Y,this.updater=lt||U}var nt=rt.prototype=new Z;nt.constructor=rt,L(nt,G.prototype),nt.isPureReactComponent=!0;var mt=Array.isArray,ht={H:null,A:null,T:null,S:null,V:null},Rt=Object.prototype.hasOwnProperty;function x(I,et,lt,it,pt,Dt){return lt=Dt.ref,{$$typeof:a,type:I,key:et,ref:lt!==void 0?lt:null,props:Dt}}function b(I,et){return x(I.type,et,void 0,void 0,void 0,I.props)}function R(I){return typeof I=="object"&&I!==null&&I.$$typeof===a}function D(I){var et={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(lt){return et[lt]})}var O=/\/+/g;function P(I,et){return typeof I=="object"&&I!==null&&I.key!=null?D(""+I.key):et.toString(36)}function N(){}function ue(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(N,N):(I.status="pending",I.then(function(et){I.status==="pending"&&(I.status="fulfilled",I.value=et)},function(et){I.status==="pending"&&(I.status="rejected",I.reason=et)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function ae(I,et,lt,it,pt){var Dt=typeof I;(Dt==="undefined"||Dt==="boolean")&&(I=null);var Tt=!1;if(I===null)Tt=!0;else switch(Dt){case"bigint":case"string":case"number":Tt=!0;break;case"object":switch(I.$$typeof){case a:case e:Tt=!0;break;case E:return Tt=I._init,ae(Tt(I._payload),et,lt,it,pt)}}if(Tt)return pt=pt(I),Tt=it===""?"."+P(I,0):it,mt(pt)?(lt="",Tt!=null&&(lt=Tt.replace(O,"$&/")+"/"),ae(pt,et,lt,"",function(zn){return zn})):pt!=null&&(R(pt)&&(pt=b(pt,lt+(pt.key==null||I&&I.key===pt.key?"":(""+pt.key).replace(O,"$&/")+"/")+Tt)),et.push(pt)),1;Tt=0;var Ce=it===""?".":it+":";if(mt(I))for(var Zt=0;Zt<I.length;Zt++)it=I[Zt],Dt=Ce+P(it,Zt),Tt+=ae(it,et,lt,Dt,pt);else if(Zt=C(I),typeof Zt=="function")for(I=Zt.call(I),Zt=0;!(it=I.next()).done;)it=it.value,Dt=Ce+P(it,Zt++),Tt+=ae(it,et,lt,Dt,pt);else if(Dt==="object"){if(typeof I.then=="function")return ae(ue(I),et,lt,it,pt);throw et=String(I),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.")}return Tt}function K(I,et,lt){if(I==null)return I;var it=[],pt=0;return ae(I,it,"","",function(Dt){return et.call(lt,Dt,pt++)}),it}function st(I){if(I._status===-1){var et=I._result;et=et(),et.then(function(lt){(I._status===0||I._status===-1)&&(I._status=1,I._result=lt)},function(lt){(I._status===0||I._status===-1)&&(I._status=2,I._result=lt)}),I._status===-1&&(I._status=0,I._result=et)}if(I._status===1)return I._result.default;throw I._result}var dt=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var et=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(et))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function Bt(){}return bt.Children={map:K,forEach:function(I,et,lt){K(I,function(){et.apply(this,arguments)},lt)},count:function(I){var et=0;return K(I,function(){et++}),et},toArray:function(I){return K(I,function(et){return et})||[]},only:function(I){if(!R(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},bt.Component=G,bt.Fragment=i,bt.Profiler=o,bt.PureComponent=rt,bt.StrictMode=s,bt.Suspense=p,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ht,bt.__COMPILER_RUNTIME={__proto__:null,c:function(I){return ht.H.useMemoCache(I)}},bt.cache=function(I){return function(){return I.apply(null,arguments)}},bt.cloneElement=function(I,et,lt){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var it=L({},I.props),pt=I.key,Dt=void 0;if(et!=null)for(Tt in et.ref!==void 0&&(Dt=void 0),et.key!==void 0&&(pt=""+et.key),et)!Rt.call(et,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&et.ref===void 0||(it[Tt]=et[Tt]);var Tt=arguments.length-2;if(Tt===1)it.children=lt;else if(1<Tt){for(var Ce=Array(Tt),Zt=0;Zt<Tt;Zt++)Ce[Zt]=arguments[Zt+2];it.children=Ce}return x(I.type,pt,void 0,void 0,Dt,it)},bt.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:c,_context:I},I},bt.createElement=function(I,et,lt){var it,pt={},Dt=null;if(et!=null)for(it in et.key!==void 0&&(Dt=""+et.key),et)Rt.call(et,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(pt[it]=et[it]);var Tt=arguments.length-2;if(Tt===1)pt.children=lt;else if(1<Tt){for(var Ce=Array(Tt),Zt=0;Zt<Tt;Zt++)Ce[Zt]=arguments[Zt+2];pt.children=Ce}if(I&&I.defaultProps)for(it in Tt=I.defaultProps,Tt)pt[it]===void 0&&(pt[it]=Tt[it]);return x(I,Dt,void 0,void 0,null,pt)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(I){return{$$typeof:g,render:I}},bt.isValidElement=R,bt.lazy=function(I){return{$$typeof:E,_payload:{_status:-1,_result:I},_init:st}},bt.memo=function(I,et){return{$$typeof:y,type:I,compare:et===void 0?null:et}},bt.startTransition=function(I){var et=ht.T,lt={};ht.T=lt;try{var it=I(),pt=ht.S;pt!==null&&pt(lt,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(Bt,dt)}catch(Dt){dt(Dt)}finally{ht.T=et}},bt.unstable_useCacheRefresh=function(){return ht.H.useCacheRefresh()},bt.use=function(I){return ht.H.use(I)},bt.useActionState=function(I,et,lt){return ht.H.useActionState(I,et,lt)},bt.useCallback=function(I,et){return ht.H.useCallback(I,et)},bt.useContext=function(I){return ht.H.useContext(I)},bt.useDebugValue=function(){},bt.useDeferredValue=function(I,et){return ht.H.useDeferredValue(I,et)},bt.useEffect=function(I,et,lt){var it=ht.H;if(typeof lt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return it.useEffect(I,et)},bt.useId=function(){return ht.H.useId()},bt.useImperativeHandle=function(I,et,lt){return ht.H.useImperativeHandle(I,et,lt)},bt.useInsertionEffect=function(I,et){return ht.H.useInsertionEffect(I,et)},bt.useLayoutEffect=function(I,et){return ht.H.useLayoutEffect(I,et)},bt.useMemo=function(I,et){return ht.H.useMemo(I,et)},bt.useOptimistic=function(I,et){return ht.H.useOptimistic(I,et)},bt.useReducer=function(I,et,lt){return ht.H.useReducer(I,et,lt)},bt.useRef=function(I){return ht.H.useRef(I)},bt.useState=function(I){return ht.H.useState(I)},bt.useSyncExternalStore=function(I,et,lt){return ht.H.useSyncExternalStore(I,et,lt)},bt.useTransition=function(){return ht.H.useTransition()},bt.version="19.1.0",bt}var xy;function Nd(){return xy||(xy=1,jf.exports=kT()),jf.exports}var Q=Nd();const nv=ev(Q);var qf={exports:{}},Gl={},Hf={exports:{}},Gf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oy;function jT(){return Oy||(Oy=1,function(a){function e(K,st){var dt=K.length;K.push(st);t:for(;0<dt;){var Bt=dt-1>>>1,I=K[Bt];if(0<o(I,st))K[Bt]=st,K[dt]=I,dt=Bt;else break t}}function i(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var st=K[0],dt=K.pop();if(dt!==st){K[0]=dt;t:for(var Bt=0,I=K.length,et=I>>>1;Bt<et;){var lt=2*(Bt+1)-1,it=K[lt],pt=lt+1,Dt=K[pt];if(0>o(it,dt))pt<I&&0>o(Dt,it)?(K[Bt]=Dt,K[pt]=dt,Bt=pt):(K[Bt]=it,K[lt]=dt,Bt=lt);else if(pt<I&&0>o(Dt,dt))K[Bt]=Dt,K[pt]=dt,Bt=pt;else break t}}return st}function o(K,st){var dt=K.sortIndex-st.sortIndex;return dt!==0?dt:K.id-st.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();a.unstable_now=function(){return d.now()-g}}var p=[],y=[],E=1,S=null,C=3,U=!1,L=!1,Y=!1,G=!1,Z=typeof setTimeout=="function"?setTimeout:null,rt=typeof clearTimeout=="function"?clearTimeout:null,nt=typeof setImmediate<"u"?setImmediate:null;function mt(K){for(var st=i(y);st!==null;){if(st.callback===null)s(y);else if(st.startTime<=K)s(y),st.sortIndex=st.expirationTime,e(p,st);else break;st=i(y)}}function ht(K){if(Y=!1,mt(K),!L)if(i(p)!==null)L=!0,Rt||(Rt=!0,P());else{var st=i(y);st!==null&&ae(ht,st.startTime-K)}}var Rt=!1,x=-1,b=5,R=-1;function D(){return G?!0:!(a.unstable_now()-R<b)}function O(){if(G=!1,Rt){var K=a.unstable_now();R=K;var st=!0;try{t:{L=!1,Y&&(Y=!1,rt(x),x=-1),U=!0;var dt=C;try{e:{for(mt(K),S=i(p);S!==null&&!(S.expirationTime>K&&D());){var Bt=S.callback;if(typeof Bt=="function"){S.callback=null,C=S.priorityLevel;var I=Bt(S.expirationTime<=K);if(K=a.unstable_now(),typeof I=="function"){S.callback=I,mt(K),st=!0;break e}S===i(p)&&s(p),mt(K)}else s(p);S=i(p)}if(S!==null)st=!0;else{var et=i(y);et!==null&&ae(ht,et.startTime-K),st=!1}}break t}finally{S=null,C=dt,U=!1}st=void 0}}finally{st?P():Rt=!1}}}var P;if(typeof nt=="function")P=function(){nt(O)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,ue=N.port2;N.port1.onmessage=O,P=function(){ue.postMessage(null)}}else P=function(){Z(O,0)};function ae(K,st){x=Z(function(){K(a.unstable_now())},st)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(K){K.callback=null},a.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<K?Math.floor(1e3/K):5},a.unstable_getCurrentPriorityLevel=function(){return C},a.unstable_next=function(K){switch(C){case 1:case 2:case 3:var st=3;break;default:st=C}var dt=C;C=st;try{return K()}finally{C=dt}},a.unstable_requestPaint=function(){G=!0},a.unstable_runWithPriority=function(K,st){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var dt=C;C=K;try{return st()}finally{C=dt}},a.unstable_scheduleCallback=function(K,st,dt){var Bt=a.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?Bt+dt:Bt):dt=Bt,K){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=dt+I,K={id:E++,callback:st,priorityLevel:K,startTime:dt,expirationTime:I,sortIndex:-1},dt>Bt?(K.sortIndex=dt,e(y,K),i(p)===null&&K===i(y)&&(Y?(rt(x),x=-1):Y=!0,ae(ht,dt-Bt))):(K.sortIndex=I,e(p,K),L||U||(L=!0,Rt||(Rt=!0,P()))),K},a.unstable_shouldYield=D,a.unstable_wrapCallback=function(K){var st=C;return function(){var dt=C;C=st;try{return K.apply(this,arguments)}finally{C=dt}}}}(Gf)),Gf}var My;function qT(){return My||(My=1,Hf.exports=jT()),Hf.exports}var Qf={exports:{}},Ge={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uy;function HT(){if(Uy)return Ge;Uy=1;var a=Nd();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,y,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:y,implementation:E}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ge.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ge.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(p,y,null,E)},Ge.flushSync=function(p){var y=d.T,E=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=y,s.p=E,s.d.f()}},Ge.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Ge.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Ge.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,S=g(E,y.crossOrigin),C=typeof y.integrity=="string"?y.integrity:void 0,U=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:C,fetchPriority:U}):E==="script"&&s.d.X(p,{crossOrigin:S,integrity:C,fetchPriority:U,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ge.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=g(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Ge.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,S=g(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ge.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=g(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Ge.requestFormReset=function(p){s.d.r(p)},Ge.unstable_batchedUpdates=function(p,y){return p(y)},Ge.useFormState=function(p,y,E){return d.H.useFormState(p,y,E)},Ge.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ge.version="19.1.0",Ge}var Ly;function GT(){if(Ly)return Qf.exports;Ly=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Qf.exports=HT(),Qf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Py;function QT(){if(Py)return Gl;Py=1;var a=qT(),e=Nd(),i=GT();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(s(188))}function p(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(s(188));return n!==t?null:t}for(var r=t,l=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return g(h),t;if(f===l)return g(h),n;f=f.sibling}throw Error(s(188))}if(r.return!==l.return)r=h,l=f;else{for(var v=!1,T=h.child;T;){if(T===r){v=!0,r=h,l=f;break}if(T===l){v=!0,l=h,r=f;break}T=T.sibling}if(!v){for(T=f.child;T;){if(T===r){v=!0,r=f,l=h;break}if(T===l){v=!0,l=f,r=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:n}function y(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=y(t),n!==null)return n;t=t.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),Z=Symbol.for("react.provider"),rt=Symbol.for("react.consumer"),nt=Symbol.for("react.context"),mt=Symbol.for("react.forward_ref"),ht=Symbol.for("react.suspense"),Rt=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function ue(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case L:return"Fragment";case G:return"Profiler";case Y:return"StrictMode";case ht:return"Suspense";case Rt:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case U:return"Portal";case nt:return(t.displayName||"Context")+".Provider";case rt:return(t._context.displayName||"Context")+".Consumer";case mt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return n=t.displayName||null,n!==null?n:ue(t.type)||"Memo";case b:n=t._payload,t=t._init;try{return ue(t(n))}catch{}}return null}var ae=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},Bt=[],I=-1;function et(t){return{current:t}}function lt(t){0>I||(t.current=Bt[I],Bt[I]=null,I--)}function it(t,n){I++,Bt[I]=t.current,t.current=n}var pt=et(null),Dt=et(null),Tt=et(null),Ce=et(null);function Zt(t,n){switch(it(Tt,n),it(Dt,t),it(pt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?iy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=iy(n),t=ry(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}lt(pt),it(pt,t)}function zn(){lt(pt),lt(Dt),lt(Tt)}function zi(t){t.memoizedState!==null&&it(Ce,t);var n=pt.current,r=ry(n,t.type);n!==r&&(it(Dt,t),it(pt,r))}function ai(t){Dt.current===t&&(lt(pt),lt(Dt)),Ce.current===t&&(lt(Ce),zl._currentValue=dt)}var wr=Object.prototype.hasOwnProperty,Cr=a.unstable_scheduleCallback,Dr=a.unstable_cancelCallback,Us=a.unstable_shouldYield,_o=a.unstable_requestPaint,dn=a.unstable_now,Bc=a.unstable_getCurrentPriorityLevel,Ls=a.unstable_ImmediatePriority,va=a.unstable_UserBlockingPriority,Nr=a.unstable_NormalPriority,kc=a.unstable_LowPriority,Ea=a.unstable_IdlePriority,Ps=a.log,vo=a.unstable_setDisableYieldValue,se=null,Ht=null;function nn(t){if(typeof Ps=="function"&&vo(t),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(se,t)}catch{}}var qe=Math.clz32?Math.clz32:Ir,Eo=Math.log,jc=Math.LN2;function Ir(t){return t>>>=0,t===0?32:31-(Eo(t)/jc|0)|0}var Vr=256,xr=4194304;function Dn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ta(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=Dn(l):(v&=T,v!==0?h=Dn(v):r||(r=T&~t,r!==0&&(h=Dn(r))))):(T=l&~f,T!==0?h=Dn(T):v!==0?h=Dn(v):r||(r=l&~t,r!==0&&(h=Dn(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Or(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function zs(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bs(){var t=Vr;return Vr<<=1,(Vr&4194048)===0&&(Vr=256),t}function ks(){var t=xr;return xr<<=1,(xr&62914560)===0&&(xr=4194304),t}function si(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function li(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function js(t,n,r,l,h,f){var v=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var T=t.entanglements,w=t.expirationTimes,j=t.hiddenUpdates;for(r=v&~r;0<r;){var X=31-qe(r),J=1<<X;T[X]=0,w[X]=-1;var q=j[X];if(q!==null)for(j[X]=null,X=0;X<q.length;X++){var H=q[X];H!==null&&(H.lane&=-536870913)}r&=~J}l!==0&&Bn(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~n))}function Bn(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-qe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function qs(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-qe(r),h=1<<l;h&n|t[l]&n&&(t[l]|=n),r&=~h}}function Bi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Aa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ki(){var t=st.p;return t!==0?t:(t=window.event,t===void 0?32:Sy(t.type))}function To(t,n){var r=st.p;try{return st.p=t,n()}finally{st.p=r}}var te=Math.random().toString(36).slice(2),Ee="__reactFiber$"+te,me="__reactProps$"+te,mn="__reactContainer$"+te,Hs="__reactEvents$"+te,qc="__reactListeners$"+te,ji="__reactHandles$"+te,Ao="__reactResources$"+te,Mr="__reactMarker$"+te;function qi(t){delete t[Ee],delete t[me],delete t[Hs],delete t[qc],delete t[ji]}function oi(t){var n=t[Ee];if(n)return n;for(var r=t.parentNode;r;){if(n=r[mn]||r[Ee]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=oy(t);t!==null;){if(r=t[Ee])return r;t=oy(t)}return n}t=r,r=t.parentNode}return null}function kn(t){if(t=t[Ee]||t[mn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function jn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Ke(t){var n=t[Ao];return n||(n=t[Ao]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ce(t){t[Mr]=!0}var Gs=new Set,Sa={};function Nn(t,n){ui(t,n),ui(t+"Capture",n)}function ui(t,n){for(Sa[t]=n,t=0;t<n.length;t++)Gs.add(n[t])}var So=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bo={},Ur={};function Ro(t){return wr.call(Ur,t)?!0:wr.call(bo,t)?!1:So.test(t)?Ur[t]=!0:(bo[t]=!0,!1)}function Hi(t,n,r){if(Ro(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function qn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Me(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var Lr,wo;function ci(t){if(Lr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Lr=n&&n[1]||"",wo=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Lr+t+wo}var ba=!1;function Ra(t,n){if(!t||ba)return"";ba=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(H){var q=H}Reflect.construct(t,[],J)}else{try{J.call()}catch(H){q=H}t.call(J.prototype)}}else{try{throw Error()}catch(H){q=H}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(H){if(H&&q&&typeof H.stack=="string")return[H.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],T=f[1];if(v&&T){var w=v.split(`
`),j=T.split(`
`);for(h=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(l===w.length||h===j.length)for(l=w.length-1,h=j.length-1;1<=l&&0<=h&&w[l]!==j[h];)h--;for(;1<=l&&0<=h;l--,h--)if(w[l]!==j[h]){if(l!==1||h!==1)do if(l--,h--,0>h||w[l]!==j[h]){var X=`
`+w[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{ba=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?ci(r):""}function Qs(t){switch(t.tag){case 26:case 27:case 5:return ci(t.type);case 16:return ci("Lazy");case 13:return ci("Suspense");case 19:return ci("SuspenseList");case 0:case 15:return Ra(t.type,!1);case 11:return Ra(t.type.render,!1);case 1:return Ra(t.type,!0);case 31:return ci("Activity");default:return""}}function wa(t){try{var n="";do n+=Qs(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Xe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Fs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Hc(t){var n=Fs(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var h=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,f.call(this,v)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ca(t){t._valueTracker||(t._valueTracker=Hc(t))}function Ys(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Fs(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Pr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Gc=/[\n"\\]/g;function ge(t){return t.replace(Gc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function rn(t,n,r,l,h,f,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),n!=null?v==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Xe(n)):t.value!==""+Xe(n)&&(t.value=""+Xe(n)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),n!=null?Gi(t,v,Xe(n)):r!=null?Gi(t,v,Xe(r)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Xe(T):t.removeAttribute("name")}function zr(t,n,r,l,h,f,v,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Xe(r):"",n=n!=null?""+Xe(n):r,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function Gi(t,n,r){n==="number"&&Pr(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function hi(t,n,r,l){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Xe(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Ft(t,n,r){if(n!=null&&(n=""+Xe(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Xe(r):""}function Br(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(s(92));if(ae(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Xe(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function gn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var kr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Co(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||kr.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Ks(t,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&Co(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Co(t,f,n[f])}function Xs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Fc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Da(t){return Fc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var fi=null;function pn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var di=null,mi=null;function $s(t){var n=kn(t);if(n&&(t=n.stateNode)){var r=t[me]||null;t:switch(t=n.stateNode,n.type){case"input":if(rn(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+ge(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var h=l[me]||null;if(!h)throw Error(s(90));rn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Ys(l)}break t;case"textarea":Ft(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&hi(t,!!r.multiple,n,!1)}}}var Hn=!1;function Do(t,n,r){if(Hn)return t(n,r);Hn=!0;try{var l=t(n);return l}finally{if(Hn=!1,(di!==null||mi!==null)&&(Tu(),di&&(n=di,t=mi,mi=di=null,$s(n),t)))for(n=0;n<t.length;n++)$s(t[n])}}function jr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[me]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yn=!1;if(In)try{var qr={};Object.defineProperty(qr,"passive",{get:function(){yn=!0}}),window.addEventListener("test",qr,qr),window.removeEventListener("test",qr,qr)}catch{yn=!1}var Gn=null,Qi=null,gi=null;function Zs(){if(gi)return gi;var t,n=Qi,r=n.length,l,h="value"in Gn?Gn.value:Gn.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var v=r-t;for(l=1;l<=v&&n[r-l]===h[f-l];l++);return gi=h.slice(t,1<l?1-l:void 0)}function Qn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Fn(){return!0}function Js(){return!1}function De(t){function n(r,l,h,f,v){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(r=t[T],this[T]=r?r(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Fn:Js,this.isPropagationStopped=Js,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Fn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Fn)},persist:function(){},isPersistent:Fn}),n}var jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Na=De(jt),Hr=E({},jt,{view:0,detail:0}),No=De(Hr),Ia,Va,Yn,Gr=E({},Hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Yn&&(Yn&&t.type==="mousemove"?(Ia=t.screenX-Yn.screenX,Va=t.screenY-Yn.screenY):Va=Ia=0,Yn=t),Ia)},movementY:function(t){return"movementY"in t?t.movementY:Va}}),_n=De(Gr),Io=E({},Gr,{dataTransfer:0}),Yc=De(Io),Qr=E({},Hr,{relatedTarget:0}),xa=De(Qr),Ws=E({},jt,{animationName:0,elapsedTime:0,pseudoElement:0}),Oa=De(Ws),Vo=E({},jt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ma=De(Vo),Kc=E({},jt,{data:0}),tl=De(Kc),Fr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Oo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function el(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Oo[t])?!!n[t]:!1}function Yr(){return el}var Mo=E({},Hr,{key:function(t){if(t.key){var n=Fr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Qn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?xo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yr,charCode:function(t){return t.type==="keypress"?Qn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ua=De(Mo),Uo=E({},Gr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nl=De(Uo),pi=E({},Hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yr}),Lo=De(pi),Po=E({},jt,{propertyName:0,elapsedTime:0,pseudoElement:0}),zo=De(Po),Bo=E({},Gr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),La=De(Bo),$e=E({},jt,{newState:0,oldState:0}),ko=De($e),jo=[9,13,27,32],Kn=In&&"CompositionEvent"in window,u=null;In&&"documentMode"in document&&(u=document.documentMode);var m=In&&"TextEvent"in window&&!u,_=In&&(!Kn||u&&8<u&&11>=u),A=" ",z=!1;function F(t,n){switch(t){case"keyup":return jo.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function at(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ot=!1;function Te(t,n){switch(t){case"compositionend":return at(n);case"keypress":return n.which!==32?null:(z=!0,A);case"textInput":return t=n.data,t===A&&z?null:t;default:return null}}function Mt(t,n){if(Ot)return t==="compositionend"||!Kn&&F(t,n)?(t=Zs(),gi=Qi=Gn=null,Ot=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _&&n.locale!=="ko"?null:n.data;default:return null}}var Ne={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ae(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ne[t.type]:n==="textarea"}function yi(t,n,r,l){di?mi?mi.push(l):mi=[l]:di=l,n=Cu(n,"onChange"),0<n.length&&(r=new Na("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Ue=null,Xn=null;function il(t){Jp(t,0)}function qo(t){var n=jn(t);if(Ys(n))return t}function vm(t,n){if(t==="change")return n}var Em=!1;if(In){var Xc;if(In){var $c="oninput"in document;if(!$c){var Tm=document.createElement("div");Tm.setAttribute("oninput","return;"),$c=typeof Tm.oninput=="function"}Xc=$c}else Xc=!1;Em=Xc&&(!document.documentMode||9<document.documentMode)}function Am(){Ue&&(Ue.detachEvent("onpropertychange",Sm),Xn=Ue=null)}function Sm(t){if(t.propertyName==="value"&&qo(Xn)){var n=[];yi(n,Xn,t,pn(t)),Do(il,n)}}function m0(t,n,r){t==="focusin"?(Am(),Ue=n,Xn=r,Ue.attachEvent("onpropertychange",Sm)):t==="focusout"&&Am()}function g0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return qo(Xn)}function p0(t,n){if(t==="click")return qo(n)}function y0(t,n){if(t==="input"||t==="change")return qo(n)}function _0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var an=typeof Object.is=="function"?Object.is:_0;function rl(t,n){if(an(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!wr.call(n,h)||!an(t[h],n[h]))return!1}return!0}function bm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Rm(t,n){var r=bm(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=bm(r)}}function wm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?wm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Cm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Pr(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Pr(t.document)}return n}function Zc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var v0=In&&"documentMode"in document&&11>=document.documentMode,Pa=null,Jc=null,al=null,Wc=!1;function Dm(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Wc||Pa==null||Pa!==Pr(l)||(l=Pa,"selectionStart"in l&&Zc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),al&&rl(al,l)||(al=l,l=Cu(Jc,"onSelect"),0<l.length&&(n=new Na("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Pa)))}function Kr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var za={animationend:Kr("Animation","AnimationEnd"),animationiteration:Kr("Animation","AnimationIteration"),animationstart:Kr("Animation","AnimationStart"),transitionrun:Kr("Transition","TransitionRun"),transitionstart:Kr("Transition","TransitionStart"),transitioncancel:Kr("Transition","TransitionCancel"),transitionend:Kr("Transition","TransitionEnd")},th={},Nm={};In&&(Nm=document.createElement("div").style,"AnimationEvent"in window||(delete za.animationend.animation,delete za.animationiteration.animation,delete za.animationstart.animation),"TransitionEvent"in window||delete za.transitionend.transition);function Xr(t){if(th[t])return th[t];if(!za[t])return t;var n=za[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Nm)return th[t]=n[r];return t}var Im=Xr("animationend"),Vm=Xr("animationiteration"),xm=Xr("animationstart"),E0=Xr("transitionrun"),T0=Xr("transitionstart"),A0=Xr("transitioncancel"),Om=Xr("transitionend"),Mm=new Map,eh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");eh.push("scrollEnd");function Vn(t,n){Mm.set(t,n),Nn(n,[t])}var Um=new WeakMap;function vn(t,n){if(typeof t=="object"&&t!==null){var r=Um.get(t);return r!==void 0?r:(n={value:t,source:n,stack:wa(n)},Um.set(t,n),n)}return{value:t,source:n,stack:wa(n)}}var En=[],Ba=0,nh=0;function Ho(){for(var t=Ba,n=nh=Ba=0;n<t;){var r=En[n];En[n++]=null;var l=En[n];En[n++]=null;var h=En[n];En[n++]=null;var f=En[n];if(En[n++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}f!==0&&Lm(r,h,f)}}function Go(t,n,r,l){En[Ba++]=t,En[Ba++]=n,En[Ba++]=r,En[Ba++]=l,nh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function ih(t,n,r,l){return Go(t,n,r,l),Qo(t)}function ka(t,n){return Go(t,null,null,n),Qo(t)}function Lm(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-qe(r),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=r|536870912),f):null}function Qo(t){if(50<Il)throw Il=0,cf=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ja={};function S0(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(t,n,r,l){return new S0(t,n,r,l)}function rh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function _i(t,n){var r=t.alternate;return r===null?(r=sn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Pm(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Fo(t,n,r,l,h,f){var v=0;if(l=t,typeof t=="function")rh(t)&&(v=1);else if(typeof t=="string")v=RT(t,r,pt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case R:return t=sn(31,r,n,h),t.elementType=R,t.lanes=f,t;case L:return $r(r.children,h,f,n);case Y:v=8,h|=24;break;case G:return t=sn(12,r,n,h|2),t.elementType=G,t.lanes=f,t;case ht:return t=sn(13,r,n,h),t.elementType=ht,t.lanes=f,t;case Rt:return t=sn(19,r,n,h),t.elementType=Rt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Z:case nt:v=10;break t;case rt:v=9;break t;case mt:v=11;break t;case x:v=14;break t;case b:v=16,l=null;break t}v=29,r=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=sn(v,r,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function $r(t,n,r,l){return t=sn(7,t,l,n),t.lanes=r,t}function ah(t,n,r){return t=sn(6,t,null,n),t.lanes=r,t}function sh(t,n,r){return n=sn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var qa=[],Ha=0,Yo=null,Ko=0,Tn=[],An=0,Zr=null,vi=1,Ei="";function Jr(t,n){qa[Ha++]=Ko,qa[Ha++]=Yo,Yo=t,Ko=n}function zm(t,n,r){Tn[An++]=vi,Tn[An++]=Ei,Tn[An++]=Zr,Zr=t;var l=vi;t=Ei;var h=32-qe(l)-1;l&=~(1<<h),r+=1;var f=32-qe(n)+h;if(30<f){var v=h-h%5;f=(l&(1<<v)-1).toString(32),l>>=v,h-=v,vi=1<<32-qe(n)+h|r<<h|l,Ei=f+t}else vi=1<<f|r<<h|l,Ei=t}function lh(t){t.return!==null&&(Jr(t,1),zm(t,1,0))}function oh(t){for(;t===Yo;)Yo=qa[--Ha],qa[Ha]=null,Ko=qa[--Ha],qa[Ha]=null;for(;t===Zr;)Zr=Tn[--An],Tn[An]=null,Ei=Tn[--An],Tn[An]=null,vi=Tn[--An],Tn[An]=null}var Ze=null,le=null,kt=!1,Wr=null,$n=!1,uh=Error(s(519));function ta(t){var n=Error(s(418,""));throw ol(vn(n,t)),uh}function Bm(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[Ee]=t,n[me]=l,r){case"dialog":Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":case"embed":Vt("load",n);break;case"video":case"audio":for(r=0;r<xl.length;r++)Vt(xl[r],n);break;case"source":Vt("error",n);break;case"img":case"image":case"link":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"input":Vt("invalid",n),zr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ca(n);break;case"select":Vt("invalid",n);break;case"textarea":Vt("invalid",n),Br(n,l.value,l.defaultValue,l.children),Ca(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||ny(n.textContent,r)?(l.popover!=null&&(Vt("beforetoggle",n),Vt("toggle",n)),l.onScroll!=null&&Vt("scroll",n),l.onScrollEnd!=null&&Vt("scrollend",n),l.onClick!=null&&(n.onclick=Du),n=!0):n=!1,n||ta(t)}function km(t){for(Ze=t.return;Ze;)switch(Ze.tag){case 5:case 13:$n=!1;return;case 27:case 3:$n=!0;return;default:Ze=Ze.return}}function sl(t){if(t!==Ze)return!1;if(!kt)return km(t),kt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||wf(t.type,t.memoizedProps)),r=!r),r&&le&&ta(t),km(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){le=On(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}le=null}}else n===27?(n=le,lr(t.type)?(t=If,If=null,le=t):le=n):le=Ze?On(t.stateNode.nextSibling):null;return!0}function ll(){le=Ze=null,kt=!1}function jm(){var t=Wr;return t!==null&&(tn===null?tn=t:tn.push.apply(tn,t),Wr=null),t}function ol(t){Wr===null?Wr=[t]:Wr.push(t)}var ch=et(null),ea=null,Ti=null;function Fi(t,n,r){it(ch,n._currentValue),n._currentValue=r}function Ai(t){t._currentValue=ch.current,lt(ch)}function hh(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function fh(t,n,r,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var v=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var w=0;w<n.length;w++)if(T.context===n[w]){f.lanes|=r,T=f.alternate,T!==null&&(T.lanes|=r),hh(f.return,r,t),l||(v=null);break t}f=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=r,f=v.alternate,f!==null&&(f.lanes|=r),hh(v,r,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function ul(t,n,r,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;an(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===Ce.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(zl):t=[zl])}h=h.return}t!==null&&fh(n,t,r,l),n.flags|=262144}function Xo(t){for(t=t.firstContext;t!==null;){if(!an(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function na(t){ea=t,Ti=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function He(t){return qm(ea,t)}function $o(t,n){return ea===null&&na(t),qm(t,n)}function qm(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ti===null){if(t===null)throw Error(s(308));Ti=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ti=Ti.next=n;return r}var b0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},R0=a.unstable_scheduleCallback,w0=a.unstable_NormalPriority,Se={$$typeof:nt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function dh(){return{controller:new b0,data:new Map,refCount:0}}function cl(t){t.refCount--,t.refCount===0&&R0(w0,function(){t.controller.abort()})}var hl=null,mh=0,Ga=0,Qa=null;function C0(t,n){if(hl===null){var r=hl=[];mh=0,Ga=yf(),Qa={status:"pending",value:void 0,then:function(l){r.push(l)}}}return mh++,n.then(Hm,Hm),n}function Hm(){if(--mh===0&&hl!==null){Qa!==null&&(Qa.status="fulfilled");var t=hl;hl=null,Ga=0,Qa=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function D0(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var Gm=K.S;K.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&C0(t,n),Gm!==null&&Gm(t,n)};var ia=et(null);function gh(){var t=ia.current;return t!==null?t:Jt.pooledCache}function Zo(t,n){n===null?it(ia,ia.current):it(ia,n.pool)}function Qm(){var t=gh();return t===null?null:{parent:Se._currentValue,pool:t}}var fl=Error(s(460)),Fm=Error(s(474)),Jo=Error(s(542)),ph={then:function(){}};function Ym(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Wo(){}function Km(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Wo,Wo),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,$m(t),t;default:if(typeof n.status=="string")n.then(Wo,Wo);else{if(t=Jt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,$m(t),t}throw dl=n,fl}}var dl=null;function Xm(){if(dl===null)throw Error(s(459));var t=dl;return dl=null,t}function $m(t){if(t===fl||t===Jo)throw Error(s(483))}var Yi=!1;function yh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _h(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ki(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Xi(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Gt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Qo(t),Lm(t,null,r),n}return Go(t,l,n,r),Qo(t)}function ml(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,qs(t,r)}}function vh(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var v={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=v:f=f.next=v,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Eh=!1;function gl(){if(Eh){var t=Qa;if(t!==null)throw t}}function pl(t,n,r,l){Eh=!1;var h=t.updateQueue;Yi=!1;var f=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var w=T,j=w.next;w.next=null,v===null?f=j:v.next=j,v=w;var X=t.alternate;X!==null&&(X=X.updateQueue,T=X.lastBaseUpdate,T!==v&&(T===null?X.firstBaseUpdate=j:T.next=j,X.lastBaseUpdate=w))}if(f!==null){var J=h.baseState;v=0,X=j=w=null,T=f;do{var q=T.lane&-536870913,H=q!==T.lane;if(H?(Ut&q)===q:(l&q)===q){q!==0&&q===Ga&&(Eh=!0),X!==null&&(X=X.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var vt=t,yt=T;q=n;var Xt=r;switch(yt.tag){case 1:if(vt=yt.payload,typeof vt=="function"){J=vt.call(Xt,J,q);break t}J=vt;break t;case 3:vt.flags=vt.flags&-65537|128;case 0:if(vt=yt.payload,q=typeof vt=="function"?vt.call(Xt,J,q):vt,q==null)break t;J=E({},J,q);break t;case 2:Yi=!0}}q=T.callback,q!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[q]:H.push(q))}else H={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},X===null?(j=X=H,w=J):X=X.next=H,v|=q;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);X===null&&(w=J),h.baseState=w,h.firstBaseUpdate=j,h.lastBaseUpdate=X,f===null&&(h.shared.lanes=0),ir|=v,t.lanes=v,t.memoizedState=J}}function Zm(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Jm(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Zm(r[t],n)}var Fa=et(null),tu=et(0);function Wm(t,n){t=Ni,it(tu,t),it(Fa,n),Ni=t|n.baseLanes}function Th(){it(tu,Ni),it(Fa,Fa.current)}function Ah(){Ni=tu.current,lt(Fa),lt(tu)}var $i=0,wt=null,Yt=null,pe=null,eu=!1,Ya=!1,ra=!1,nu=0,yl=0,Ka=null,N0=0;function he(){throw Error(s(321))}function Sh(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!an(t[r],n[r]))return!1;return!0}function bh(t,n,r,l,h,f){return $i=f,wt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,K.H=t===null||t.memoizedState===null?Lg:Pg,ra=!1,f=r(l,h),ra=!1,Ya&&(f=eg(n,r,l,h)),tg(t),f}function tg(t){K.H=ou;var n=Yt!==null&&Yt.next!==null;if($i=0,pe=Yt=wt=null,eu=!1,yl=0,Ka=null,n)throw Error(s(300));t===null||Ie||(t=t.dependencies,t!==null&&Xo(t)&&(Ie=!0))}function eg(t,n,r,l){wt=t;var h=0;do{if(Ya&&(Ka=null),yl=0,Ya=!1,25<=h)throw Error(s(301));if(h+=1,pe=Yt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}K.H=L0,f=n(r,l)}while(Ya);return f}function I0(){var t=K.H,n=t.useState()[0];return n=typeof n.then=="function"?_l(n):n,t=t.useState()[0],(Yt!==null?Yt.memoizedState:null)!==t&&(wt.flags|=1024),n}function Rh(){var t=nu!==0;return nu=0,t}function wh(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Ch(t){if(eu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}eu=!1}$i=0,pe=Yt=wt=null,Ya=!1,yl=nu=0,Ka=null}function Je(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pe===null?wt.memoizedState=pe=t:pe=pe.next=t,pe}function ye(){if(Yt===null){var t=wt.alternate;t=t!==null?t.memoizedState:null}else t=Yt.next;var n=pe===null?wt.memoizedState:pe.next;if(n!==null)pe=n,Yt=t;else{if(t===null)throw wt.alternate===null?Error(s(467)):Error(s(310));Yt=t,t={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},pe===null?wt.memoizedState=pe=t:pe=pe.next=t}return pe}function Dh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _l(t){var n=yl;return yl+=1,Ka===null&&(Ka=[]),t=Km(Ka,t,n),n=wt,(pe===null?n.memoizedState:pe.next)===null&&(n=n.alternate,K.H=n===null||n.memoizedState===null?Lg:Pg),t}function iu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return _l(t);if(t.$$typeof===nt)return He(t)}throw Error(s(438,String(t)))}function Nh(t){var n=null,r=wt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=wt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Dh(),wt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=D;return n.index++,r}function Si(t,n){return typeof n=="function"?n(t):n}function ru(t){var n=ye();return Ih(n,Yt,t)}function Ih(t,n,r){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var v=h.next;h.next=f.next,f.next=v}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=v=null,w=null,j=n,X=!1;do{var J=j.lane&-536870913;if(J!==j.lane?(Ut&J)===J:($i&J)===J){var q=j.revertLane;if(q===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),J===Ga&&(X=!0);else if(($i&q)===q){j=j.next,q===Ga&&(X=!0);continue}else J={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},w===null?(T=w=J,v=f):w=w.next=J,wt.lanes|=q,ir|=q;J=j.action,ra&&r(f,J),f=j.hasEagerState?j.eagerState:r(f,J)}else q={lane:J,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},w===null?(T=w=q,v=f):w=w.next=q,wt.lanes|=J,ir|=J;j=j.next}while(j!==null&&j!==n);if(w===null?v=f:w.next=T,!an(f,t.memoizedState)&&(Ie=!0,X&&(r=Qa,r!==null)))throw r;t.memoizedState=f,t.baseState=v,t.baseQueue=w,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Vh(t){var n=ye(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var l=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var v=h=h.next;do f=t(f,v.action),v=v.next;while(v!==h);an(f,n.memoizedState)||(Ie=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function ng(t,n,r){var l=wt,h=ye(),f=kt;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=n();var v=!an((Yt||h).memoizedState,r);v&&(h.memoizedState=r,Ie=!0),h=h.queue;var T=ag.bind(null,l,h,t);if(vl(2048,8,T,[t]),h.getSnapshot!==n||v||pe!==null&&pe.memoizedState.tag&1){if(l.flags|=2048,Xa(9,au(),rg.bind(null,l,h,r,n),null),Jt===null)throw Error(s(349));f||($i&124)!==0||ig(l,n,r)}return r}function ig(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=wt.updateQueue,n===null?(n=Dh(),wt.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function rg(t,n,r,l){n.value=r,n.getSnapshot=l,sg(n)&&lg(t)}function ag(t,n,r){return r(function(){sg(n)&&lg(t)})}function sg(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!an(t,r)}catch{return!0}}function lg(t){var n=ka(t,2);n!==null&&hn(n,t,2)}function xh(t){var n=Je();if(typeof t=="function"){var r=t;if(t=r(),ra){nn(!0);try{r()}finally{nn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:t},n}function og(t,n,r,l){return t.baseState=r,Ih(t,Yt,typeof l=="function"?l:Si)}function V0(t,n,r,l,h){if(lu(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};K.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,ug(n,f)):(f.next=r.next,n.pending=r.next=f)}}function ug(t,n){var r=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=K.T,v={};K.T=v;try{var T=r(h,l),w=K.S;w!==null&&w(v,T),cg(t,n,T)}catch(j){Oh(t,n,j)}finally{K.T=f}}else try{f=r(h,l),cg(t,n,f)}catch(j){Oh(t,n,j)}}function cg(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){hg(t,n,l)},function(l){return Oh(t,n,l)}):hg(t,n,r)}function hg(t,n,r){n.status="fulfilled",n.value=r,fg(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,ug(t,r)))}function Oh(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,fg(n),n=n.next;while(n!==l)}t.action=null}function fg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function dg(t,n){return n}function mg(t,n){if(kt){var r=Jt.formState;if(r!==null){t:{var l=wt;if(kt){if(le){e:{for(var h=le,f=$n;h.nodeType!==8;){if(!f){h=null;break e}if(h=On(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){le=On(h.nextSibling),l=h.data==="F!";break t}}ta(l)}l=!1}l&&(n=r[0])}}return r=Je(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dg,lastRenderedState:n},r.queue=l,r=Og.bind(null,wt,l),l.dispatch=r,l=xh(!1),f=zh.bind(null,wt,!1,l.queue),l=Je(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,r=V0.bind(null,wt,h,f,r),h.dispatch=r,l.memoizedState=t,[n,r,!1]}function gg(t){var n=ye();return pg(n,Yt,t)}function pg(t,n,r){if(n=Ih(t,n,dg)[0],t=ru(Si)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=_l(n)}catch(v){throw v===fl?Jo:v}else l=n;n=ye();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(wt.flags|=2048,Xa(9,au(),x0.bind(null,h,r),null)),[l,f,t]}function x0(t,n){t.action=n}function yg(t){var n=ye(),r=Yt;if(r!==null)return pg(n,r,t);ye(),n=n.memoizedState,r=ye();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Xa(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=wt.updateQueue,n===null&&(n=Dh(),wt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function au(){return{destroy:void 0,resource:void 0}}function _g(){return ye().memoizedState}function su(t,n,r,l){var h=Je();l=l===void 0?null:l,wt.flags|=t,h.memoizedState=Xa(1|n,au(),r,l)}function vl(t,n,r,l){var h=ye();l=l===void 0?null:l;var f=h.memoizedState.inst;Yt!==null&&l!==null&&Sh(l,Yt.memoizedState.deps)?h.memoizedState=Xa(n,f,r,l):(wt.flags|=t,h.memoizedState=Xa(1|n,f,r,l))}function vg(t,n){su(8390656,8,t,n)}function Eg(t,n){vl(2048,8,t,n)}function Tg(t,n){return vl(4,2,t,n)}function Ag(t,n){return vl(4,4,t,n)}function Sg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function bg(t,n,r){r=r!=null?r.concat([t]):null,vl(4,4,Sg.bind(null,n,t),r)}function Mh(){}function Rg(t,n){var r=ye();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&Sh(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function wg(t,n){var r=ye();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&Sh(n,l[1]))return l[0];if(l=t(),ra){nn(!0);try{t()}finally{nn(!1)}}return r.memoizedState=[l,n],l}function Uh(t,n,r){return r===void 0||($i&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=Np(),wt.lanes|=t,ir|=t,r)}function Cg(t,n,r,l){return an(r,n)?r:Fa.current!==null?(t=Uh(t,r,l),an(t,n)||(Ie=!0),t):($i&42)===0?(Ie=!0,t.memoizedState=r):(t=Np(),wt.lanes|=t,ir|=t,n)}function Dg(t,n,r,l,h){var f=st.p;st.p=f!==0&&8>f?f:8;var v=K.T,T={};K.T=T,zh(t,!1,n,r);try{var w=h(),j=K.S;if(j!==null&&j(T,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var X=D0(w,l);El(t,n,X,cn(t))}else El(t,n,l,cn(t))}catch(J){El(t,n,{then:function(){},status:"rejected",reason:J},cn())}finally{st.p=f,K.T=v}}function O0(){}function Lh(t,n,r,l){if(t.tag!==5)throw Error(s(476));var h=Ng(t).queue;Dg(t,h,n,dt,r===null?O0:function(){return Ig(t),r(l)})}function Ng(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:dt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Ig(t){var n=Ng(t).next.queue;El(t,n,{},cn())}function Ph(){return He(zl)}function Vg(){return ye().memoizedState}function xg(){return ye().memoizedState}function M0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=cn();t=Ki(r);var l=Xi(n,t,r);l!==null&&(hn(l,n,r),ml(l,n,r)),n={cache:dh()},t.payload=n;return}n=n.return}}function U0(t,n,r){var l=cn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},lu(t)?Mg(n,r):(r=ih(t,n,r,l),r!==null&&(hn(r,t,l),Ug(r,n,l)))}function Og(t,n,r){var l=cn();El(t,n,r,l)}function El(t,n,r,l){var h={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(lu(t))Mg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var v=n.lastRenderedState,T=f(v,r);if(h.hasEagerState=!0,h.eagerState=T,an(T,v))return Go(t,n,h,0),Jt===null&&Ho(),!1}catch{}finally{}if(r=ih(t,n,h,l),r!==null)return hn(r,t,l),Ug(r,n,l),!0}return!1}function zh(t,n,r,l){if(l={lane:2,revertLane:yf(),action:l,hasEagerState:!1,eagerState:null,next:null},lu(t)){if(n)throw Error(s(479))}else n=ih(t,r,l,2),n!==null&&hn(n,t,2)}function lu(t){var n=t.alternate;return t===wt||n!==null&&n===wt}function Mg(t,n){Ya=eu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Ug(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,qs(t,r)}}var ou={readContext:He,use:iu,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he},Lg={readContext:He,use:iu,useCallback:function(t,n){return Je().memoizedState=[t,n===void 0?null:n],t},useContext:He,useEffect:vg,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,su(4194308,4,Sg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return su(4194308,4,t,n)},useInsertionEffect:function(t,n){su(4,2,t,n)},useMemo:function(t,n){var r=Je();n=n===void 0?null:n;var l=t();if(ra){nn(!0);try{t()}finally{nn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=Je();if(r!==void 0){var h=r(n);if(ra){nn(!0);try{r(n)}finally{nn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=U0.bind(null,wt,t),[l.memoizedState,t]},useRef:function(t){var n=Je();return t={current:t},n.memoizedState=t},useState:function(t){t=xh(t);var n=t.queue,r=Og.bind(null,wt,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Mh,useDeferredValue:function(t,n){var r=Je();return Uh(r,t,n)},useTransition:function(){var t=xh(!1);return t=Dg.bind(null,wt,t.queue,!0,!1),Je().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=wt,h=Je();if(kt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),Jt===null)throw Error(s(349));(Ut&124)!==0||ig(l,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,vg(ag.bind(null,l,f,t),[t]),l.flags|=2048,Xa(9,au(),rg.bind(null,l,f,r,n),null),r},useId:function(){var t=Je(),n=Jt.identifierPrefix;if(kt){var r=Ei,l=vi;r=(l&~(1<<32-qe(l)-1)).toString(32)+r,n="«"+n+"R"+r,r=nu++,0<r&&(n+="H"+r.toString(32)),n+="»"}else r=N0++,n="«"+n+"r"+r.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:Ph,useFormState:mg,useActionState:mg,useOptimistic:function(t){var n=Je();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=zh.bind(null,wt,!0,r),r.dispatch=n,[t,n]},useMemoCache:Nh,useCacheRefresh:function(){return Je().memoizedState=M0.bind(null,wt)}},Pg={readContext:He,use:iu,useCallback:Rg,useContext:He,useEffect:Eg,useImperativeHandle:bg,useInsertionEffect:Tg,useLayoutEffect:Ag,useMemo:wg,useReducer:ru,useRef:_g,useState:function(){return ru(Si)},useDebugValue:Mh,useDeferredValue:function(t,n){var r=ye();return Cg(r,Yt.memoizedState,t,n)},useTransition:function(){var t=ru(Si)[0],n=ye().memoizedState;return[typeof t=="boolean"?t:_l(t),n]},useSyncExternalStore:ng,useId:Vg,useHostTransitionStatus:Ph,useFormState:gg,useActionState:gg,useOptimistic:function(t,n){var r=ye();return og(r,Yt,t,n)},useMemoCache:Nh,useCacheRefresh:xg},L0={readContext:He,use:iu,useCallback:Rg,useContext:He,useEffect:Eg,useImperativeHandle:bg,useInsertionEffect:Tg,useLayoutEffect:Ag,useMemo:wg,useReducer:Vh,useRef:_g,useState:function(){return Vh(Si)},useDebugValue:Mh,useDeferredValue:function(t,n){var r=ye();return Yt===null?Uh(r,t,n):Cg(r,Yt.memoizedState,t,n)},useTransition:function(){var t=Vh(Si)[0],n=ye().memoizedState;return[typeof t=="boolean"?t:_l(t),n]},useSyncExternalStore:ng,useId:Vg,useHostTransitionStatus:Ph,useFormState:yg,useActionState:yg,useOptimistic:function(t,n){var r=ye();return Yt!==null?og(r,Yt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Nh,useCacheRefresh:xg},$a=null,Tl=0;function uu(t){var n=Tl;return Tl+=1,$a===null&&($a=[]),Km($a,t,n)}function Al(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function cu(t,n){throw n.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function zg(t){var n=t._init;return n(t._payload)}function Bg(t){function n(M,V){if(t){var k=M.deletions;k===null?(M.deletions=[V],M.flags|=16):k.push(V)}}function r(M,V){if(!t)return null;for(;V!==null;)n(M,V),V=V.sibling;return null}function l(M){for(var V=new Map;M!==null;)M.key!==null?V.set(M.key,M):V.set(M.index,M),M=M.sibling;return V}function h(M,V){return M=_i(M,V),M.index=0,M.sibling=null,M}function f(M,V,k){return M.index=k,t?(k=M.alternate,k!==null?(k=k.index,k<V?(M.flags|=67108866,V):k):(M.flags|=67108866,V)):(M.flags|=1048576,V)}function v(M){return t&&M.alternate===null&&(M.flags|=67108866),M}function T(M,V,k,$){return V===null||V.tag!==6?(V=ah(k,M.mode,$),V.return=M,V):(V=h(V,k),V.return=M,V)}function w(M,V,k,$){var ct=k.type;return ct===L?X(M,V,k.props.children,$,k.key):V!==null&&(V.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===b&&zg(ct)===V.type)?(V=h(V,k.props),Al(V,k),V.return=M,V):(V=Fo(k.type,k.key,k.props,null,M.mode,$),Al(V,k),V.return=M,V)}function j(M,V,k,$){return V===null||V.tag!==4||V.stateNode.containerInfo!==k.containerInfo||V.stateNode.implementation!==k.implementation?(V=sh(k,M.mode,$),V.return=M,V):(V=h(V,k.children||[]),V.return=M,V)}function X(M,V,k,$,ct){return V===null||V.tag!==7?(V=$r(k,M.mode,$,ct),V.return=M,V):(V=h(V,k),V.return=M,V)}function J(M,V,k){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=ah(""+V,M.mode,k),V.return=M,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case C:return k=Fo(V.type,V.key,V.props,null,M.mode,k),Al(k,V),k.return=M,k;case U:return V=sh(V,M.mode,k),V.return=M,V;case b:var $=V._init;return V=$(V._payload),J(M,V,k)}if(ae(V)||P(V))return V=$r(V,M.mode,k,null),V.return=M,V;if(typeof V.then=="function")return J(M,uu(V),k);if(V.$$typeof===nt)return J(M,$o(M,V),k);cu(M,V)}return null}function q(M,V,k,$){var ct=V!==null?V.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return ct!==null?null:T(M,V,""+k,$);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case C:return k.key===ct?w(M,V,k,$):null;case U:return k.key===ct?j(M,V,k,$):null;case b:return ct=k._init,k=ct(k._payload),q(M,V,k,$)}if(ae(k)||P(k))return ct!==null?null:X(M,V,k,$,null);if(typeof k.then=="function")return q(M,V,uu(k),$);if(k.$$typeof===nt)return q(M,V,$o(M,k),$);cu(M,k)}return null}function H(M,V,k,$,ct){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return M=M.get(k)||null,T(V,M,""+$,ct);if(typeof $=="object"&&$!==null){switch($.$$typeof){case C:return M=M.get($.key===null?k:$.key)||null,w(V,M,$,ct);case U:return M=M.get($.key===null?k:$.key)||null,j(V,M,$,ct);case b:var Nt=$._init;return $=Nt($._payload),H(M,V,k,$,ct)}if(ae($)||P($))return M=M.get(k)||null,X(V,M,$,ct,null);if(typeof $.then=="function")return H(M,V,k,uu($),ct);if($.$$typeof===nt)return H(M,V,k,$o(V,$),ct);cu(V,$)}return null}function vt(M,V,k,$){for(var ct=null,Nt=null,ft=V,_t=V=0,xe=null;ft!==null&&_t<k.length;_t++){ft.index>_t?(xe=ft,ft=null):xe=ft.sibling;var zt=q(M,ft,k[_t],$);if(zt===null){ft===null&&(ft=xe);break}t&&ft&&zt.alternate===null&&n(M,ft),V=f(zt,V,_t),Nt===null?ct=zt:Nt.sibling=zt,Nt=zt,ft=xe}if(_t===k.length)return r(M,ft),kt&&Jr(M,_t),ct;if(ft===null){for(;_t<k.length;_t++)ft=J(M,k[_t],$),ft!==null&&(V=f(ft,V,_t),Nt===null?ct=ft:Nt.sibling=ft,Nt=ft);return kt&&Jr(M,_t),ct}for(ft=l(ft);_t<k.length;_t++)xe=H(ft,M,_t,k[_t],$),xe!==null&&(t&&xe.alternate!==null&&ft.delete(xe.key===null?_t:xe.key),V=f(xe,V,_t),Nt===null?ct=xe:Nt.sibling=xe,Nt=xe);return t&&ft.forEach(function(fr){return n(M,fr)}),kt&&Jr(M,_t),ct}function yt(M,V,k,$){if(k==null)throw Error(s(151));for(var ct=null,Nt=null,ft=V,_t=V=0,xe=null,zt=k.next();ft!==null&&!zt.done;_t++,zt=k.next()){ft.index>_t?(xe=ft,ft=null):xe=ft.sibling;var fr=q(M,ft,zt.value,$);if(fr===null){ft===null&&(ft=xe);break}t&&ft&&fr.alternate===null&&n(M,ft),V=f(fr,V,_t),Nt===null?ct=fr:Nt.sibling=fr,Nt=fr,ft=xe}if(zt.done)return r(M,ft),kt&&Jr(M,_t),ct;if(ft===null){for(;!zt.done;_t++,zt=k.next())zt=J(M,zt.value,$),zt!==null&&(V=f(zt,V,_t),Nt===null?ct=zt:Nt.sibling=zt,Nt=zt);return kt&&Jr(M,_t),ct}for(ft=l(ft);!zt.done;_t++,zt=k.next())zt=H(ft,M,_t,zt.value,$),zt!==null&&(t&&zt.alternate!==null&&ft.delete(zt.key===null?_t:zt.key),V=f(zt,V,_t),Nt===null?ct=zt:Nt.sibling=zt,Nt=zt);return t&&ft.forEach(function(PT){return n(M,PT)}),kt&&Jr(M,_t),ct}function Xt(M,V,k,$){if(typeof k=="object"&&k!==null&&k.type===L&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case C:t:{for(var ct=k.key;V!==null;){if(V.key===ct){if(ct=k.type,ct===L){if(V.tag===7){r(M,V.sibling),$=h(V,k.props.children),$.return=M,M=$;break t}}else if(V.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===b&&zg(ct)===V.type){r(M,V.sibling),$=h(V,k.props),Al($,k),$.return=M,M=$;break t}r(M,V);break}else n(M,V);V=V.sibling}k.type===L?($=$r(k.props.children,M.mode,$,k.key),$.return=M,M=$):($=Fo(k.type,k.key,k.props,null,M.mode,$),Al($,k),$.return=M,M=$)}return v(M);case U:t:{for(ct=k.key;V!==null;){if(V.key===ct)if(V.tag===4&&V.stateNode.containerInfo===k.containerInfo&&V.stateNode.implementation===k.implementation){r(M,V.sibling),$=h(V,k.children||[]),$.return=M,M=$;break t}else{r(M,V);break}else n(M,V);V=V.sibling}$=sh(k,M.mode,$),$.return=M,M=$}return v(M);case b:return ct=k._init,k=ct(k._payload),Xt(M,V,k,$)}if(ae(k))return vt(M,V,k,$);if(P(k)){if(ct=P(k),typeof ct!="function")throw Error(s(150));return k=ct.call(k),yt(M,V,k,$)}if(typeof k.then=="function")return Xt(M,V,uu(k),$);if(k.$$typeof===nt)return Xt(M,V,$o(M,k),$);cu(M,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,V!==null&&V.tag===6?(r(M,V.sibling),$=h(V,k),$.return=M,M=$):(r(M,V),$=ah(k,M.mode,$),$.return=M,M=$),v(M)):r(M,V)}return function(M,V,k,$){try{Tl=0;var ct=Xt(M,V,k,$);return $a=null,ct}catch(ft){if(ft===fl||ft===Jo)throw ft;var Nt=sn(29,ft,null,M.mode);return Nt.lanes=$,Nt.return=M,Nt}finally{}}}var Za=Bg(!0),kg=Bg(!1),Sn=et(null),Zn=null;function Zi(t){var n=t.alternate;it(be,be.current&1),it(Sn,t),Zn===null&&(n===null||Fa.current!==null||n.memoizedState!==null)&&(Zn=t)}function jg(t){if(t.tag===22){if(it(be,be.current),it(Sn,t),Zn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Zn=t)}}else Ji()}function Ji(){it(be,be.current),it(Sn,Sn.current)}function bi(t){lt(Sn),Zn===t&&(Zn=null),lt(be)}var be=et(0);function hu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||Nf(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Bh(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:E({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var kh={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=cn(),h=Ki(l);h.payload=n,r!=null&&(h.callback=r),n=Xi(t,h,l),n!==null&&(hn(n,t,l),ml(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=cn(),h=Ki(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Xi(t,h,l),n!==null&&(hn(n,t,l),ml(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=cn(),l=Ki(r);l.tag=2,n!=null&&(l.callback=n),n=Xi(t,l,r),n!==null&&(hn(n,t,r),ml(n,t,r))}};function qg(t,n,r,l,h,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,v):n.prototype&&n.prototype.isPureReactComponent?!rl(r,l)||!rl(h,f):!0}function Hg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&kh.enqueueReplaceState(n,n.state,null)}function aa(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=E({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}var fu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Gg(t){fu(t)}function Qg(t){console.error(t)}function Fg(t){fu(t)}function du(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Yg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function jh(t,n,r){return r=Ki(r),r.tag=3,r.payload={element:null},r.callback=function(){du(t,n)},r}function Kg(t){return t=Ki(t),t.tag=3,t}function Xg(t,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){Yg(n,r,l)}}var v=r.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Yg(n,r,l),typeof h!="function"&&(rr===null?rr=new Set([this]):rr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function P0(t,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&ul(n,r,h,!0),r=Sn.current,r!==null){switch(r.tag){case 13:return Zn===null?ff():r.alternate===null&&oe===0&&(oe=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===ph?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),mf(t,l,h)),!1;case 22:return r.flags|=65536,l===ph?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),mf(t,l,h)),!1}throw Error(s(435,r.tag))}return mf(t,l,h),ff(),!1}if(kt)return n=Sn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==uh&&(t=Error(s(422),{cause:l}),ol(vn(t,r)))):(l!==uh&&(n=Error(s(423),{cause:l}),ol(vn(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=vn(l,r),h=jh(t.stateNode,l,h),vh(t,h),oe!==4&&(oe=2)),!1;var f=Error(s(520),{cause:l});if(f=vn(f,r),Nl===null?Nl=[f]:Nl.push(f),oe!==4&&(oe=2),n===null)return!0;l=vn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=jh(r.stateNode,l,t),vh(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(rr===null||!rr.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Kg(h),Xg(h,t,r,l),vh(r,h),!1}r=r.return}while(r!==null);return!1}var $g=Error(s(461)),Ie=!1;function Le(t,n,r,l){n.child=t===null?kg(n,null,r,l):Za(n,t.child,r,l)}function Zg(t,n,r,l,h){r=r.render;var f=n.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return na(n),l=bh(t,n,r,v,f,h),T=Rh(),t!==null&&!Ie?(wh(t,n,h),Ri(t,n,h)):(kt&&T&&lh(n),n.flags|=1,Le(t,n,l,h),n.child)}function Jg(t,n,r,l,h){if(t===null){var f=r.type;return typeof f=="function"&&!rh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Wg(t,n,f,l,h)):(t=Fo(r.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Xh(t,h)){var v=f.memoizedProps;if(r=r.compare,r=r!==null?r:rl,r(v,l)&&t.ref===n.ref)return Ri(t,n,h)}return n.flags|=1,t=_i(f,l),t.ref=n.ref,t.return=n,n.child=t}function Wg(t,n,r,l,h){if(t!==null){var f=t.memoizedProps;if(rl(f,l)&&t.ref===n.ref)if(Ie=!1,n.pendingProps=l=f,Xh(t,h))(t.flags&131072)!==0&&(Ie=!0);else return n.lanes=t.lanes,Ri(t,n,h)}return qh(t,n,r,l,h)}function tp(t,n,r){var l=n.pendingProps,h=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(h=n.child=t.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return ep(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Zo(n,f!==null?f.cachePool:null),f!==null?Wm(n,f):Th(),jg(n);else return n.lanes=n.childLanes=536870912,ep(t,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(Zo(n,f.cachePool),Wm(n,f),Ji(),n.memoizedState=null):(t!==null&&Zo(n,null),Th(),Ji());return Le(t,n,h,r),n.child}function ep(t,n,r,l){var h=gh();return h=h===null?null:{parent:Se._currentValue,pool:h},n.memoizedState={baseLanes:r,cachePool:h},t!==null&&Zo(n,null),Th(),jg(n),t!==null&&ul(t,n,l,!0),null}function mu(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function qh(t,n,r,l,h){return na(n),r=bh(t,n,r,l,void 0,h),l=Rh(),t!==null&&!Ie?(wh(t,n,h),Ri(t,n,h)):(kt&&l&&lh(n),n.flags|=1,Le(t,n,r,h),n.child)}function np(t,n,r,l,h,f){return na(n),n.updateQueue=null,r=eg(n,l,r,h),tg(t),l=Rh(),t!==null&&!Ie?(wh(t,n,f),Ri(t,n,f)):(kt&&l&&lh(n),n.flags|=1,Le(t,n,r,f),n.child)}function ip(t,n,r,l,h){if(na(n),n.stateNode===null){var f=ja,v=r.contextType;typeof v=="object"&&v!==null&&(f=He(v)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=kh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},yh(n),v=r.contextType,f.context=typeof v=="object"&&v!==null?He(v):ja,f.state=n.memoizedState,v=r.getDerivedStateFromProps,typeof v=="function"&&(Bh(n,r,v,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&kh.enqueueReplaceState(f,f.state,null),pl(n,l,f,h),gl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,w=aa(r,T);f.props=w;var j=f.context,X=r.contextType;v=ja,typeof X=="object"&&X!==null&&(v=He(X));var J=r.getDerivedStateFromProps;X=typeof J=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,X||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||j!==v)&&Hg(n,f,l,v),Yi=!1;var q=n.memoizedState;f.state=q,pl(n,l,f,h),gl(),j=n.memoizedState,T||q!==j||Yi?(typeof J=="function"&&(Bh(n,r,J,l),j=n.memoizedState),(w=Yi||qg(n,r,w,l,q,j,v))?(X||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=j),f.props=l,f.state=j,f.context=v,l=w):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,_h(t,n),v=n.memoizedProps,X=aa(r,v),f.props=X,J=n.pendingProps,q=f.context,j=r.contextType,w=ja,typeof j=="object"&&j!==null&&(w=He(j)),T=r.getDerivedStateFromProps,(j=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==J||q!==w)&&Hg(n,f,l,w),Yi=!1,q=n.memoizedState,f.state=q,pl(n,l,f,h),gl();var H=n.memoizedState;v!==J||q!==H||Yi||t!==null&&t.dependencies!==null&&Xo(t.dependencies)?(typeof T=="function"&&(Bh(n,r,T,l),H=n.memoizedState),(X=Yi||qg(n,r,X,l,q,H,w)||t!==null&&t.dependencies!==null&&Xo(t.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,w),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,w)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=w,l=X):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,mu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Za(n,t.child,null,h),n.child=Za(n,null,r,h)):Le(t,n,r,h),n.memoizedState=f.state,t=n.child):t=Ri(t,n,h),t}function rp(t,n,r,l){return ll(),n.flags|=256,Le(t,n,r,l),n.child}var Hh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gh(t){return{baseLanes:t,cachePool:Qm()}}function Qh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=bn),t}function ap(t,n,r){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(be.current&2)!==0),v&&(h=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,t===null){if(kt){if(h?Zi(n):Ji(),kt){var T=le,w;if(w=T){t:{for(w=T,T=$n;w.nodeType!==8;){if(!T){T=null;break t}if(w=On(w.nextSibling),w===null){T=null;break t}}T=w}T!==null?(n.memoizedState={dehydrated:T,treeContext:Zr!==null?{id:vi,overflow:Ei}:null,retryLane:536870912,hydrationErrors:null},w=sn(18,null,null,0),w.stateNode=T,w.return=n,n.child=w,Ze=n,le=null,w=!0):w=!1}w||ta(n)}if(T=n.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Nf(T)?n.lanes=32:n.lanes=536870912,null;bi(n)}return T=l.children,l=l.fallback,h?(Ji(),h=n.mode,T=gu({mode:"hidden",children:T},h),l=$r(l,h,r,null),T.return=n,l.return=n,T.sibling=l,n.child=T,h=n.child,h.memoizedState=Gh(r),h.childLanes=Qh(t,v,r),n.memoizedState=Hh,l):(Zi(n),Fh(n,T))}if(w=t.memoizedState,w!==null&&(T=w.dehydrated,T!==null)){if(f)n.flags&256?(Zi(n),n.flags&=-257,n=Yh(t,n,r)):n.memoizedState!==null?(Ji(),n.child=t.child,n.flags|=128,n=null):(Ji(),h=l.fallback,T=n.mode,l=gu({mode:"visible",children:l.children},T),h=$r(h,T,r,null),h.flags|=2,l.return=n,h.return=n,l.sibling=h,n.child=l,Za(n,t.child,null,r),l=n.child,l.memoizedState=Gh(r),l.childLanes=Qh(t,v,r),n.memoizedState=Hh,n=h);else if(Zi(n),Nf(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var j=v.dgst;v=j,l=Error(s(419)),l.stack="",l.digest=v,ol({value:l,source:null,stack:null}),n=Yh(t,n,r)}else if(Ie||ul(t,n,r,!1),v=(r&t.childLanes)!==0,Ie||v){if(v=Jt,v!==null&&(l=r&-r,l=(l&42)!==0?1:Bi(l),l=(l&(v.suspendedLanes|r))!==0?0:l,l!==0&&l!==w.retryLane))throw w.retryLane=l,ka(t,l),hn(v,t,l),$g;T.data==="$?"||ff(),n=Yh(t,n,r)}else T.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=w.treeContext,le=On(T.nextSibling),Ze=n,kt=!0,Wr=null,$n=!1,t!==null&&(Tn[An++]=vi,Tn[An++]=Ei,Tn[An++]=Zr,vi=t.id,Ei=t.overflow,Zr=n),n=Fh(n,l.children),n.flags|=4096);return n}return h?(Ji(),h=l.fallback,T=n.mode,w=t.child,j=w.sibling,l=_i(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&65011712,j!==null?h=_i(j,h):(h=$r(h,T,r,null),h.flags|=2),h.return=n,l.return=n,l.sibling=h,n.child=l,l=h,h=n.child,T=t.child.memoizedState,T===null?T=Gh(r):(w=T.cachePool,w!==null?(j=Se._currentValue,w=w.parent!==j?{parent:j,pool:j}:w):w=Qm(),T={baseLanes:T.baseLanes|r,cachePool:w}),h.memoizedState=T,h.childLanes=Qh(t,v,r),n.memoizedState=Hh,l):(Zi(n),r=t.child,t=r.sibling,r=_i(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(v=n.deletions,v===null?(n.deletions=[t],n.flags|=16):v.push(t)),n.child=r,n.memoizedState=null,r)}function Fh(t,n){return n=gu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function gu(t,n){return t=sn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Yh(t,n,r){return Za(n,t.child,null,r),t=Fh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function sp(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),hh(t.return,n,r)}function Kh(t,n,r,l,h){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=h)}function lp(t,n,r){var l=n.pendingProps,h=l.revealOrder,f=l.tail;if(Le(t,n,l.children,r),l=be.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&sp(t,r,n);else if(t.tag===19)sp(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(it(be,l),h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&hu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Kh(n,!1,h,r,f);break;case"backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&hu(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Kh(n,!0,r,null,f);break;case"together":Kh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ri(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),ir|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(ul(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,r=_i(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=_i(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Xh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Xo(t)))}function z0(t,n,r){switch(n.tag){case 3:Zt(n,n.stateNode.containerInfo),Fi(n,Se,t.memoizedState.cache),ll();break;case 27:case 5:zi(n);break;case 4:Zt(n,n.stateNode.containerInfo);break;case 10:Fi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Zi(n),n.flags|=128,null):(r&n.child.childLanes)!==0?ap(t,n,r):(Zi(n),t=Ri(t,n,r),t!==null?t.sibling:null);Zi(n);break;case 19:var h=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(ul(t,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return lp(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),it(be,be.current),l)break;return null;case 22:case 23:return n.lanes=0,tp(t,n,r);case 24:Fi(n,Se,t.memoizedState.cache)}return Ri(t,n,r)}function op(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ie=!0;else{if(!Xh(t,r)&&(n.flags&128)===0)return Ie=!1,z0(t,n,r);Ie=(t.flags&131072)!==0}else Ie=!1,kt&&(n.flags&1048576)!==0&&zm(n,Ko,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,h=l._init;if(l=h(l._payload),n.type=l,typeof l=="function")rh(l)?(t=aa(l,t),n.tag=1,n=ip(null,n,l,t,r)):(n.tag=0,n=qh(null,n,l,t,r));else{if(l!=null){if(h=l.$$typeof,h===mt){n.tag=11,n=Zg(null,n,l,t,r);break t}else if(h===x){n.tag=14,n=Jg(null,n,l,t,r);break t}}throw n=ue(l)||l,Error(s(306,n,""))}}return n;case 0:return qh(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=aa(l,n.pendingProps),ip(t,n,l,h,r);case 3:t:{if(Zt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,_h(t,n),pl(n,l,null,r);var v=n.memoizedState;if(l=v.cache,Fi(n,Se,l),l!==f.cache&&fh(n,[Se],r,!0),gl(),l=v.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=rp(t,n,l,r);break t}else if(l!==h){h=vn(Error(s(424)),n),ol(h),n=rp(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(le=On(t.firstChild),Ze=n,kt=!0,Wr=null,$n=!0,r=kg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(ll(),l===h){n=Ri(t,n,r);break t}Le(t,n,l,r)}n=n.child}return n;case 26:return mu(t,n),t===null?(r=fy(n.type,null,n.pendingProps,null))?n.memoizedState=r:kt||(r=n.type,t=n.pendingProps,l=Nu(Tt.current).createElement(r),l[Ee]=n,l[me]=t,ze(l,r,t),ce(l),n.stateNode=l):n.memoizedState=fy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return zi(n),t===null&&kt&&(l=n.stateNode=uy(n.type,n.pendingProps,Tt.current),Ze=n,$n=!0,h=le,lr(n.type)?(If=h,le=On(l.firstChild)):le=h),Le(t,n,n.pendingProps.children,r),mu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&kt&&((h=l=le)&&(l=fT(l,n.type,n.pendingProps,$n),l!==null?(n.stateNode=l,Ze=n,le=On(l.firstChild),$n=!1,h=!0):h=!1),h||ta(n)),zi(n),h=n.type,f=n.pendingProps,v=t!==null?t.memoizedProps:null,l=f.children,wf(h,f)?l=null:v!==null&&wf(h,v)&&(n.flags|=32),n.memoizedState!==null&&(h=bh(t,n,I0,null,null,r),zl._currentValue=h),mu(t,n),Le(t,n,l,r),n.child;case 6:return t===null&&kt&&((t=r=le)&&(r=dT(r,n.pendingProps,$n),r!==null?(n.stateNode=r,Ze=n,le=null,t=!0):t=!1),t||ta(n)),null;case 13:return ap(t,n,r);case 4:return Zt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Za(n,null,l,r):Le(t,n,l,r),n.child;case 11:return Zg(t,n,n.type,n.pendingProps,r);case 7:return Le(t,n,n.pendingProps,r),n.child;case 8:return Le(t,n,n.pendingProps.children,r),n.child;case 12:return Le(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Fi(n,n.type,l.value),Le(t,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,na(n),h=He(h),l=l(h),n.flags|=1,Le(t,n,l,r),n.child;case 14:return Jg(t,n,n.type,n.pendingProps,r);case 15:return Wg(t,n,n.type,n.pendingProps,r);case 19:return lp(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=gu(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=_i(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return tp(t,n,r);case 24:return na(n),l=He(Se),t===null?(h=gh(),h===null&&(h=Jt,f=dh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:l,cache:h},yh(n),Fi(n,Se,h)):((t.lanes&r)!==0&&(_h(t,n),pl(n,null,null,r),gl()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Fi(n,Se,l)):(l=f.cache,Fi(n,Se,l),l!==h.cache&&fh(n,[Se],r,!0))),Le(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function wi(t){t.flags|=4}function up(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!yy(n)){if(n=Sn.current,n!==null&&((Ut&4194048)===Ut?Zn!==null:(Ut&62914560)!==Ut&&(Ut&536870912)===0||n!==Zn))throw dl=ph,Fm;t.flags|=8192}}function pu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ks():536870912,t.lanes|=n,es|=n)}function Sl(t,n){if(!kt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ie(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function B0(t,n,r){var l=n.pendingProps;switch(oh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ai(Se),zn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(sl(n)?wi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,jm())),ie(n),null;case 26:return r=n.memoizedState,t===null?(wi(n),r!==null?(ie(n),up(n,r)):(ie(n),n.flags&=-16777217)):r?r!==t.memoizedState?(wi(n),ie(n),up(n,r)):(ie(n),n.flags&=-16777217):(t.memoizedProps!==l&&wi(n),ie(n),n.flags&=-16777217),null;case 27:ai(n),r=Tt.current;var h=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&wi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ie(n),null}t=pt.current,sl(n)?Bm(n):(t=uy(h,l,r),n.stateNode=t,wi(n))}return ie(n),null;case 5:if(ai(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&wi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ie(n),null}if(t=pt.current,sl(n))Bm(n);else{switch(h=Nu(Tt.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(r,{is:l.is}):h.createElement(r)}}t[Ee]=n,t[me]=l;t:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break t;for(;h.sibling===null;){if(h.return===null||h.return===n)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=t;t:switch(ze(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&wi(n)}}return ie(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&wi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=Tt.current,sl(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,h=Ze,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Ee]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||ny(t.nodeValue,r)),t||ta(n)}else t=Nu(t).createTextNode(l),t[Ee]=n,n.stateNode=t}return ie(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=sl(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ee]=n}else ll(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),h=!1}else h=jm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(bi(n),n):(bi(n),null)}if(bi(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),pu(n,n.updateQueue),ie(n),null;case 4:return zn(),t===null&&Tf(n.stateNode.containerInfo),ie(n),null;case 10:return Ai(n.type),ie(n),null;case 19:if(lt(be),h=n.memoizedState,h===null)return ie(n),null;if(l=(n.flags&128)!==0,f=h.rendering,f===null)if(l)Sl(h,!1);else{if(oe!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=hu(t),f!==null){for(n.flags|=128,Sl(h,!1),t=f.updateQueue,n.updateQueue=t,pu(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Pm(r,t),r=r.sibling;return it(be,be.current&1|2),n.child}t=t.sibling}h.tail!==null&&dn()>vu&&(n.flags|=128,l=!0,Sl(h,!1),n.lanes=4194304)}else{if(!l)if(t=hu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,pu(n,t),Sl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!kt)return ie(n),null}else 2*dn()-h.renderingStartTime>vu&&r!==536870912&&(n.flags|=128,l=!0,Sl(h,!1),n.lanes=4194304);h.isBackwards?(f.sibling=n.child,n.child=f):(t=h.last,t!==null?t.sibling=f:n.child=f,h.last=f)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=dn(),n.sibling=null,t=be.current,it(be,l?t&1|2:t&1),n):(ie(n),null);case 22:case 23:return bi(n),Ah(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),r=n.updateQueue,r!==null&&pu(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&lt(ia),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ai(Se),ie(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function k0(t,n){switch(oh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ai(Se),zn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ai(n),null;case 13:if(bi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));ll()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return lt(be),null;case 4:return zn(),null;case 10:return Ai(n.type),null;case 22:case 23:return bi(n),Ah(),t!==null&&lt(ia),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ai(Se),null;case 25:return null;default:return null}}function cp(t,n){switch(oh(n),n.tag){case 3:Ai(Se),zn();break;case 26:case 27:case 5:ai(n);break;case 4:zn();break;case 13:bi(n);break;case 19:lt(be);break;case 10:Ai(n.type);break;case 22:case 23:bi(n),Ah(),t!==null&&lt(ia);break;case 24:Ai(Se)}}function bl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&t)===t){l=void 0;var f=r.create,v=r.inst;l=f(),v.destroy=l}r=r.next}while(r!==h)}}catch(T){$t(n,n.return,T)}}function Wi(t,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=n;var w=r,j=T;try{j()}catch(X){$t(h,w,X)}}}l=l.next}while(l!==f)}}catch(X){$t(n,n.return,X)}}function hp(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Jm(n,r)}catch(l){$t(t,t.return,l)}}}function fp(t,n,r){r.props=aa(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){$t(t,n,l)}}function Rl(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(h){$t(t,n,h)}}function Jn(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){$t(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){$t(t,n,h)}else r.current=null}function dp(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){$t(t,t.return,h)}}function $h(t,n,r){try{var l=t.stateNode;lT(l,t.type,r,n),l[me]=n}catch(h){$t(t,t.return,h)}}function mp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&lr(t.type)||t.tag===4}function Zh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||mp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&lr(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Jh(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Du));else if(l!==4&&(l===27&&lr(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Jh(t,n,r),t=t.sibling;t!==null;)Jh(t,n,r),t=t.sibling}function yu(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&lr(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(yu(t,n,r),t=t.sibling;t!==null;)yu(t,n,r),t=t.sibling}function gp(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);ze(n,l,r),n[Ee]=t,n[me]=r}catch(f){$t(t,t.return,f)}}var Ci=!1,fe=!1,Wh=!1,pp=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function j0(t,n){if(t=t.containerInfo,bf=Uu,t=Cm(t),Zc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var v=0,T=-1,w=-1,j=0,X=0,J=t,q=null;e:for(;;){for(var H;J!==r||h!==0&&J.nodeType!==3||(T=v+h),J!==f||l!==0&&J.nodeType!==3||(w=v+l),J.nodeType===3&&(v+=J.nodeValue.length),(H=J.firstChild)!==null;)q=J,J=H;for(;;){if(J===t)break e;if(q===r&&++j===h&&(T=v),q===f&&++X===l&&(w=v),(H=J.nextSibling)!==null)break;J=q,q=J.parentNode}J=H}r=T===-1||w===-1?null:{start:T,end:w}}else r=null}r=r||{start:0,end:0}}else r=null;for(Rf={focusedElem:t,selectionRange:r},Uu=!1,Ve=n;Ve!==null;)if(n=Ve,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ve=t;else for(;Ve!==null;){switch(n=Ve,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var vt=aa(r.type,h,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(vt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(yt){$t(r,r.return,yt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Df(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Df(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ve=t;break}Ve=n.return}}function yp(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:tr(t,r),l&4&&bl(5,r);break;case 1:if(tr(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(v){$t(r,r.return,v)}else{var h=aa(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(v){$t(r,r.return,v)}}l&64&&hp(r),l&512&&Rl(r,r.return);break;case 3:if(tr(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Jm(t,n)}catch(v){$t(r,r.return,v)}}break;case 27:n===null&&l&4&&gp(r);case 26:case 5:tr(t,r),n===null&&l&4&&dp(r),l&512&&Rl(r,r.return);break;case 12:tr(t,r);break;case 13:tr(t,r),l&4&&Ep(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=$0.bind(null,r),mT(t,r))));break;case 22:if(l=r.memoizedState!==null||Ci,!l){n=n!==null&&n.memoizedState!==null||fe,h=Ci;var f=fe;Ci=l,(fe=n)&&!f?er(t,r,(r.subtreeFlags&8772)!==0):tr(t,r),Ci=h,fe=f}break;case 30:break;default:tr(t,r)}}function _p(t){var n=t.alternate;n!==null&&(t.alternate=null,_p(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&qi(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ee=null,We=!1;function Di(t,n,r){for(r=r.child;r!==null;)vp(t,n,r),r=r.sibling}function vp(t,n,r){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(se,r)}catch{}switch(r.tag){case 26:fe||Jn(r,n),Di(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:fe||Jn(r,n);var l=ee,h=We;lr(r.type)&&(ee=r.stateNode,We=!1),Di(t,n,r),Ml(r.stateNode),ee=l,We=h;break;case 5:fe||Jn(r,n);case 6:if(l=ee,h=We,ee=null,Di(t,n,r),ee=l,We=h,ee!==null)if(We)try{(ee.nodeType===9?ee.body:ee.nodeName==="HTML"?ee.ownerDocument.body:ee).removeChild(r.stateNode)}catch(f){$t(r,n,f)}else try{ee.removeChild(r.stateNode)}catch(f){$t(r,n,f)}break;case 18:ee!==null&&(We?(t=ee,ly(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),ql(t)):ly(ee,r.stateNode));break;case 4:l=ee,h=We,ee=r.stateNode.containerInfo,We=!0,Di(t,n,r),ee=l,We=h;break;case 0:case 11:case 14:case 15:fe||Wi(2,r,n),fe||Wi(4,r,n),Di(t,n,r);break;case 1:fe||(Jn(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&fp(r,n,l)),Di(t,n,r);break;case 21:Di(t,n,r);break;case 22:fe=(l=fe)||r.memoizedState!==null,Di(t,n,r),fe=l;break;default:Di(t,n,r)}}function Ep(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ql(t)}catch(r){$t(n,n.return,r)}}function q0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new pp),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new pp),n;default:throw Error(s(435,t.tag))}}function tf(t,n){var r=q0(t);n.forEach(function(l){var h=Z0.bind(null,t,l);r.has(l)||(r.add(l),l.then(h,h))})}function ln(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],f=t,v=n,T=v;t:for(;T!==null;){switch(T.tag){case 27:if(lr(T.type)){ee=T.stateNode,We=!1;break t}break;case 5:ee=T.stateNode,We=!1;break t;case 3:case 4:ee=T.stateNode.containerInfo,We=!0;break t}T=T.return}if(ee===null)throw Error(s(160));vp(f,v,h),ee=null,We=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Tp(n,t),n=n.sibling}var xn=null;function Tp(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(n,t),on(t),l&4&&(Wi(3,t,t.return),bl(3,t),Wi(5,t,t.return));break;case 1:ln(n,t),on(t),l&512&&(fe||r===null||Jn(r,r.return)),l&64&&Ci&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=xn;if(ln(n,t),on(t),l&512&&(fe||r===null||Jn(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Mr]||f[Ee]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),ze(f,l,r),f[Ee]=t,ce(f),l=f;break t;case"link":var v=gy("link","href",h).get(l+(r.href||""));if(v){for(var T=0;T<v.length;T++)if(f=v[T],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){v.splice(T,1);break e}}f=h.createElement(l),ze(f,l,r),h.head.appendChild(f);break;case"meta":if(v=gy("meta","content",h).get(l+(r.content||""))){for(T=0;T<v.length;T++)if(f=v[T],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){v.splice(T,1);break e}}f=h.createElement(l),ze(f,l,r),h.head.appendChild(f);break;default:throw Error(s(468,l))}f[Ee]=t,ce(f),l=f}t.stateNode=l}else py(h,t.type,t.stateNode);else t.stateNode=my(h,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?py(h,t.type,t.stateNode):my(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&$h(t,t.memoizedProps,r.memoizedProps)}break;case 27:ln(n,t),on(t),l&512&&(fe||r===null||Jn(r,r.return)),r!==null&&l&4&&$h(t,t.memoizedProps,r.memoizedProps);break;case 5:if(ln(n,t),on(t),l&512&&(fe||r===null||Jn(r,r.return)),t.flags&32){h=t.stateNode;try{gn(h,"")}catch(H){$t(t,t.return,H)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,$h(t,h,r!==null?r.memoizedProps:h)),l&1024&&(Wh=!0);break;case 6:if(ln(n,t),on(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(H){$t(t,t.return,H)}}break;case 3:if(xu=null,h=xn,xn=Iu(n.containerInfo),ln(n,t),xn=h,on(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{ql(n.containerInfo)}catch(H){$t(t,t.return,H)}Wh&&(Wh=!1,Ap(t));break;case 4:l=xn,xn=Iu(t.stateNode.containerInfo),ln(n,t),on(t),xn=l;break;case 12:ln(n,t),on(t);break;case 13:ln(n,t),on(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(lf=dn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,tf(t,l)));break;case 22:h=t.memoizedState!==null;var w=r!==null&&r.memoizedState!==null,j=Ci,X=fe;if(Ci=j||h,fe=X||w,ln(n,t),fe=X,Ci=j,on(t),l&8192)t:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||w||Ci||fe||sa(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){w=r=n;try{if(f=w.stateNode,h)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=w.stateNode;var J=w.memoizedProps.style,q=J!=null&&J.hasOwnProperty("display")?J.display:null;T.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(H){$t(w,w.return,H)}}}else if(n.tag===6){if(r===null){w=n;try{w.stateNode.nodeValue=h?"":w.memoizedProps}catch(H){$t(w,w.return,H)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,tf(t,r))));break;case 19:ln(n,t),on(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,tf(t,l)));break;case 30:break;case 21:break;default:ln(n,t),on(t)}}function on(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(mp(l)){r=l;break}l=l.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var h=r.stateNode,f=Zh(t);yu(t,f,h);break;case 5:var v=r.stateNode;r.flags&32&&(gn(v,""),r.flags&=-33);var T=Zh(t);yu(t,T,v);break;case 3:case 4:var w=r.stateNode.containerInfo,j=Zh(t);Jh(t,j,w);break;default:throw Error(s(161))}}catch(X){$t(t,t.return,X)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ap(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Ap(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function tr(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)yp(t,n.alternate,n),n=n.sibling}function sa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Wi(4,n,n.return),sa(n);break;case 1:Jn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&fp(n,n.return,r),sa(n);break;case 27:Ml(n.stateNode);case 26:case 5:Jn(n,n.return),sa(n);break;case 22:n.memoizedState===null&&sa(n);break;case 30:sa(n);break;default:sa(n)}t=t.sibling}}function er(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,v=f.flags;switch(f.tag){case 0:case 11:case 15:er(h,f,r),bl(4,f);break;case 1:if(er(h,f,r),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){$t(l,l.return,j)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var w=h.shared.hiddenCallbacks;if(w!==null)for(h.shared.hiddenCallbacks=null,h=0;h<w.length;h++)Zm(w[h],T)}catch(j){$t(l,l.return,j)}}r&&v&64&&hp(f),Rl(f,f.return);break;case 27:gp(f);case 26:case 5:er(h,f,r),r&&l===null&&v&4&&dp(f),Rl(f,f.return);break;case 12:er(h,f,r);break;case 13:er(h,f,r),r&&v&4&&Ep(h,f);break;case 22:f.memoizedState===null&&er(h,f,r),Rl(f,f.return);break;case 30:break;default:er(h,f,r)}n=n.sibling}}function ef(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&cl(r))}function nf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&cl(t))}function Wn(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Sp(t,n,r,l),n=n.sibling}function Sp(t,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Wn(t,n,r,l),h&2048&&bl(9,n);break;case 1:Wn(t,n,r,l);break;case 3:Wn(t,n,r,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&cl(t)));break;case 12:if(h&2048){Wn(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,v=f.id,T=f.onPostCommit;typeof T=="function"&&T(v,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(w){$t(n,n.return,w)}}else Wn(t,n,r,l);break;case 13:Wn(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,v=n.alternate,n.memoizedState!==null?f._visibility&2?Wn(t,n,r,l):wl(t,n):f._visibility&2?Wn(t,n,r,l):(f._visibility|=2,Ja(t,n,r,l,(n.subtreeFlags&10256)!==0)),h&2048&&ef(v,n);break;case 24:Wn(t,n,r,l),h&2048&&nf(n.alternate,n);break;default:Wn(t,n,r,l)}}function Ja(t,n,r,l,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,v=n,T=r,w=l,j=v.flags;switch(v.tag){case 0:case 11:case 15:Ja(f,v,T,w,h),bl(8,v);break;case 23:break;case 22:var X=v.stateNode;v.memoizedState!==null?X._visibility&2?Ja(f,v,T,w,h):wl(f,v):(X._visibility|=2,Ja(f,v,T,w,h)),h&&j&2048&&ef(v.alternate,v);break;case 24:Ja(f,v,T,w,h),h&&j&2048&&nf(v.alternate,v);break;default:Ja(f,v,T,w,h)}n=n.sibling}}function wl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,h=l.flags;switch(l.tag){case 22:wl(r,l),h&2048&&ef(l.alternate,l);break;case 24:wl(r,l),h&2048&&nf(l.alternate,l);break;default:wl(r,l)}n=n.sibling}}var Cl=8192;function Wa(t){if(t.subtreeFlags&Cl)for(t=t.child;t!==null;)bp(t),t=t.sibling}function bp(t){switch(t.tag){case 26:Wa(t),t.flags&Cl&&t.memoizedState!==null&&CT(xn,t.memoizedState,t.memoizedProps);break;case 5:Wa(t);break;case 3:case 4:var n=xn;xn=Iu(t.stateNode.containerInfo),Wa(t),xn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Cl,Cl=16777216,Wa(t),Cl=n):Wa(t));break;default:Wa(t)}}function Rp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Dl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ve=l,Cp(l,t)}Rp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)wp(t),t=t.sibling}function wp(t){switch(t.tag){case 0:case 11:case 15:Dl(t),t.flags&2048&&Wi(9,t,t.return);break;case 3:Dl(t);break;case 12:Dl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,_u(t)):Dl(t);break;default:Dl(t)}}function _u(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ve=l,Cp(l,t)}Rp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Wi(8,n,n.return),_u(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,_u(n));break;default:_u(n)}t=t.sibling}}function Cp(t,n){for(;Ve!==null;){var r=Ve;switch(r.tag){case 0:case 11:case 15:Wi(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:cl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ve=l;else t:for(r=t;Ve!==null;){l=Ve;var h=l.sibling,f=l.return;if(_p(l),l===r){Ve=null;break t}if(h!==null){h.return=f,Ve=h;break t}Ve=f}}}var H0={getCacheForType:function(t){var n=He(Se),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},G0=typeof WeakMap=="function"?WeakMap:Map,Gt=0,Jt=null,It=null,Ut=0,Qt=0,un=null,nr=!1,ts=!1,rf=!1,Ni=0,oe=0,ir=0,la=0,af=0,bn=0,es=0,Nl=null,tn=null,sf=!1,lf=0,vu=1/0,Eu=null,rr=null,Pe=0,ar=null,ns=null,is=0,of=0,uf=null,Dp=null,Il=0,cf=null;function cn(){if((Gt&2)!==0&&Ut!==0)return Ut&-Ut;if(K.T!==null){var t=Ga;return t!==0?t:yf()}return ki()}function Np(){bn===0&&(bn=(Ut&536870912)===0||kt?Bs():536870912);var t=Sn.current;return t!==null&&(t.flags|=32),bn}function hn(t,n,r){(t===Jt&&(Qt===2||Qt===9)||t.cancelPendingCommit!==null)&&(rs(t,0),sr(t,Ut,bn,!1)),li(t,r),((Gt&2)===0||t!==Jt)&&(t===Jt&&((Gt&2)===0&&(la|=r),oe===4&&sr(t,Ut,bn,!1)),ti(t))}function Ip(t,n,r){if((Gt&6)!==0)throw Error(s(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||Or(t,n),h=l?Y0(t,n):df(t,n,!0),f=l;do{if(h===0){ts&&!l&&sr(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!Q0(r)){h=df(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var T=t;h=Nl;var w=T.current.memoizedState.isDehydrated;if(w&&(rs(T,v).flags|=256),v=df(T,v,!1),v!==2){if(rf&&!w){T.errorRecoveryDisabledLanes|=f,la|=f,h=4;break t}f=tn,tn=h,f!==null&&(tn===null?tn=f:tn.push.apply(tn,f))}h=v}if(f=!1,h!==2)continue}}if(h===1){rs(t,0),sr(t,n,0,!0);break}t:{switch(l=t,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:sr(l,n,bn,!nr);break t;case 2:tn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=lf+300-dn(),10<h)){if(sr(l,n,bn,!nr),Ta(l,0,!0)!==0)break t;l.timeoutHandle=ay(Vp.bind(null,l,r,tn,Eu,sf,n,bn,la,es,nr,f,2,-0,0),h);break t}Vp(l,r,tn,Eu,sf,n,bn,la,es,nr,f,0,-0,0)}}break}while(!0);ti(t)}function Vp(t,n,r,l,h,f,v,T,w,j,X,J,q,H){if(t.timeoutHandle=-1,J=n.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(Pl={stylesheets:null,count:0,unsuspend:wT},bp(n),J=DT(),J!==null)){t.cancelPendingCommit=J(zp.bind(null,t,n,f,r,l,h,v,T,w,X,1,q,H)),sr(t,f,v,!j);return}zp(t,n,f,r,l,h,v,T,w)}function Q0(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],f=h.getSnapshot;h=h.value;try{if(!an(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function sr(t,n,r,l){n&=~af,n&=~la,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-qe(h),v=1<<f;l[f]=-1,h&=~v}r!==0&&Bn(t,r,n)}function Tu(){return(Gt&6)===0?(Vl(0),!1):!0}function hf(){if(It!==null){if(Qt===0)var t=It.return;else t=It,Ti=ea=null,Ch(t),$a=null,Tl=0,t=It;for(;t!==null;)cp(t.alternate,t),t=t.return;It=null}}function rs(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,uT(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),hf(),Jt=t,It=r=_i(t.current,null),Ut=n,Qt=0,un=null,nr=!1,ts=Or(t,n),rf=!1,es=bn=af=la=ir=oe=0,tn=Nl=null,sf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-qe(l),f=1<<h;n|=t[h],l&=~f}return Ni=n,Ho(),r}function xp(t,n){wt=null,K.H=ou,n===fl||n===Jo?(n=Xm(),Qt=3):n===Fm?(n=Xm(),Qt=4):Qt=n===$g?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,un=n,It===null&&(oe=1,du(t,vn(n,t.current)))}function Op(){var t=K.H;return K.H=ou,t===null?ou:t}function Mp(){var t=K.A;return K.A=H0,t}function ff(){oe=4,nr||(Ut&4194048)!==Ut&&Sn.current!==null||(ts=!0),(ir&134217727)===0&&(la&134217727)===0||Jt===null||sr(Jt,Ut,bn,!1)}function df(t,n,r){var l=Gt;Gt|=2;var h=Op(),f=Mp();(Jt!==t||Ut!==n)&&(Eu=null,rs(t,n)),n=!1;var v=oe;t:do try{if(Qt!==0&&It!==null){var T=It,w=un;switch(Qt){case 8:hf(),v=6;break t;case 3:case 2:case 9:case 6:Sn.current===null&&(n=!0);var j=Qt;if(Qt=0,un=null,as(t,T,w,j),r&&ts){v=0;break t}break;default:j=Qt,Qt=0,un=null,as(t,T,w,j)}}F0(),v=oe;break}catch(X){xp(t,X)}while(!0);return n&&t.shellSuspendCounter++,Ti=ea=null,Gt=l,K.H=h,K.A=f,It===null&&(Jt=null,Ut=0,Ho()),v}function F0(){for(;It!==null;)Up(It)}function Y0(t,n){var r=Gt;Gt|=2;var l=Op(),h=Mp();Jt!==t||Ut!==n?(Eu=null,vu=dn()+500,rs(t,n)):ts=Or(t,n);t:do try{if(Qt!==0&&It!==null){n=It;var f=un;e:switch(Qt){case 1:Qt=0,un=null,as(t,n,f,1);break;case 2:case 9:if(Ym(f)){Qt=0,un=null,Lp(n);break}n=function(){Qt!==2&&Qt!==9||Jt!==t||(Qt=7),ti(t)},f.then(n,n);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:Ym(f)?(Qt=0,un=null,Lp(n)):(Qt=0,un=null,as(t,n,f,7));break;case 5:var v=null;switch(It.tag){case 26:v=It.memoizedState;case 5:case 27:var T=It;if(!v||yy(v)){Qt=0,un=null;var w=T.sibling;if(w!==null)It=w;else{var j=T.return;j!==null?(It=j,Au(j)):It=null}break e}}Qt=0,un=null,as(t,n,f,5);break;case 6:Qt=0,un=null,as(t,n,f,6);break;case 8:hf(),oe=6;break t;default:throw Error(s(462))}}K0();break}catch(X){xp(t,X)}while(!0);return Ti=ea=null,K.H=l,K.A=h,Gt=r,It!==null?0:(Jt=null,Ut=0,Ho(),oe)}function K0(){for(;It!==null&&!Us();)Up(It)}function Up(t){var n=op(t.alternate,t,Ni);t.memoizedProps=t.pendingProps,n===null?Au(t):It=n}function Lp(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=np(r,n,n.pendingProps,n.type,void 0,Ut);break;case 11:n=np(r,n,n.pendingProps,n.type.render,n.ref,Ut);break;case 5:Ch(n);default:cp(r,n),n=It=Pm(n,Ni),n=op(r,n,Ni)}t.memoizedProps=t.pendingProps,n===null?Au(t):It=n}function as(t,n,r,l){Ti=ea=null,Ch(n),$a=null,Tl=0;var h=n.return;try{if(P0(t,h,n,r,Ut)){oe=1,du(t,vn(r,t.current)),It=null;return}}catch(f){if(h!==null)throw It=h,f;oe=1,du(t,vn(r,t.current)),It=null;return}n.flags&32768?(kt||l===1?t=!0:ts||(Ut&536870912)!==0?t=!1:(nr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Sn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Pp(n,t)):Au(n)}function Au(t){var n=t;do{if((n.flags&32768)!==0){Pp(n,nr);return}t=n.return;var r=B0(n.alternate,n,Ni);if(r!==null){It=r;return}if(n=n.sibling,n!==null){It=n;return}It=n=t}while(n!==null);oe===0&&(oe=5)}function Pp(t,n){do{var r=k0(t.alternate,t);if(r!==null){r.flags&=32767,It=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){It=t;return}It=t=r}while(t!==null);oe=6,It=null}function zp(t,n,r,l,h,f,v,T,w){t.cancelPendingCommit=null;do Su();while(Pe!==0);if((Gt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=nh,js(t,r,f,v,T,w),t===Jt&&(It=Jt=null,Ut=0),ns=n,ar=t,is=r,of=f,uf=h,Dp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,J0(Nr,function(){return Hp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=st.p,st.p=2,v=Gt,Gt|=4;try{j0(t,n,r)}finally{Gt=v,st.p=h,K.T=l}}Pe=1,Bp(),kp(),jp()}}function Bp(){if(Pe===1){Pe=0;var t=ar,n=ns,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=K.T,K.T=null;var l=st.p;st.p=2;var h=Gt;Gt|=4;try{Tp(n,t);var f=Rf,v=Cm(t.containerInfo),T=f.focusedElem,w=f.selectionRange;if(v!==T&&T&&T.ownerDocument&&wm(T.ownerDocument.documentElement,T)){if(w!==null&&Zc(T)){var j=w.start,X=w.end;if(X===void 0&&(X=j),"selectionStart"in T)T.selectionStart=j,T.selectionEnd=Math.min(X,T.value.length);else{var J=T.ownerDocument||document,q=J&&J.defaultView||window;if(q.getSelection){var H=q.getSelection(),vt=T.textContent.length,yt=Math.min(w.start,vt),Xt=w.end===void 0?yt:Math.min(w.end,vt);!H.extend&&yt>Xt&&(v=Xt,Xt=yt,yt=v);var M=Rm(T,yt),V=Rm(T,Xt);if(M&&V&&(H.rangeCount!==1||H.anchorNode!==M.node||H.anchorOffset!==M.offset||H.focusNode!==V.node||H.focusOffset!==V.offset)){var k=J.createRange();k.setStart(M.node,M.offset),H.removeAllRanges(),yt>Xt?(H.addRange(k),H.extend(V.node,V.offset)):(k.setEnd(V.node,V.offset),H.addRange(k))}}}}for(J=[],H=T;H=H.parentNode;)H.nodeType===1&&J.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<J.length;T++){var $=J[T];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}Uu=!!bf,Rf=bf=null}finally{Gt=h,st.p=l,K.T=r}}t.current=n,Pe=2}}function kp(){if(Pe===2){Pe=0;var t=ar,n=ns,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=K.T,K.T=null;var l=st.p;st.p=2;var h=Gt;Gt|=4;try{yp(t,n.alternate,n)}finally{Gt=h,st.p=l,K.T=r}}Pe=3}}function jp(){if(Pe===4||Pe===3){Pe=0,_o();var t=ar,n=ns,r=is,l=Dp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Pe=5:(Pe=0,ns=ar=null,qp(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(rr=null),Aa(r),n=n.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(se,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=K.T,h=st.p,st.p=2,K.T=null;try{for(var f=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];f(T.value,{componentStack:T.stack})}}finally{K.T=n,st.p=h}}(is&3)!==0&&Su(),ti(t),h=t.pendingLanes,(r&4194090)!==0&&(h&42)!==0?t===cf?Il++:(Il=0,cf=t):Il=0,Vl(0)}}function qp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,cl(n)))}function Su(t){return Bp(),kp(),jp(),Hp()}function Hp(){if(Pe!==5)return!1;var t=ar,n=of;of=0;var r=Aa(is),l=K.T,h=st.p;try{st.p=32>r?32:r,K.T=null,r=uf,uf=null;var f=ar,v=is;if(Pe=0,ns=ar=null,is=0,(Gt&6)!==0)throw Error(s(331));var T=Gt;if(Gt|=4,wp(f.current),Sp(f,f.current,v,r),Gt=T,Vl(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(se,f)}catch{}return!0}finally{st.p=h,K.T=l,qp(t,n)}}function Gp(t,n,r){n=vn(r,n),n=jh(t.stateNode,n,2),t=Xi(t,n,2),t!==null&&(li(t,2),ti(t))}function $t(t,n,r){if(t.tag===3)Gp(t,t,r);else for(;n!==null;){if(n.tag===3){Gp(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(rr===null||!rr.has(l))){t=vn(r,t),r=Kg(2),l=Xi(n,r,2),l!==null&&(Xg(r,l,n,t),li(l,2),ti(l));break}}n=n.return}}function mf(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new G0;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(rf=!0,h.add(r),t=X0.bind(null,t,n,r),n.then(t,t))}function X0(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Jt===t&&(Ut&r)===r&&(oe===4||oe===3&&(Ut&62914560)===Ut&&300>dn()-lf?(Gt&2)===0&&rs(t,0):af|=r,es===Ut&&(es=0)),ti(t)}function Qp(t,n){n===0&&(n=ks()),t=ka(t,n),t!==null&&(li(t,n),ti(t))}function $0(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Qp(t,r)}function Z0(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Qp(t,r)}function J0(t,n){return Cr(t,n)}var bu=null,ss=null,gf=!1,Ru=!1,pf=!1,oa=0;function ti(t){t!==ss&&t.next===null&&(ss===null?bu=ss=t:ss=ss.next=t),Ru=!0,gf||(gf=!0,tT())}function Vl(t,n){if(!pf&&Ru){pf=!0;do for(var r=!1,l=bu;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var v=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-qe(42|t)+1)-1,f&=h&~(v&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Xp(l,f))}else f=Ut,f=Ta(l,l===Jt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Or(l,f)||(r=!0,Xp(l,f));l=l.next}while(r);pf=!1}}function W0(){Fp()}function Fp(){Ru=gf=!1;var t=0;oa!==0&&(oT()&&(t=oa),oa=0);for(var n=dn(),r=null,l=bu;l!==null;){var h=l.next,f=Yp(l,n);f===0?(l.next=null,r===null?bu=h:r.next=h,h===null&&(ss=r)):(r=l,(t!==0||(f&3)!==0)&&(Ru=!0)),l=h}Vl(t)}function Yp(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-qe(f),T=1<<v,w=h[v];w===-1?((T&r)===0||(T&l)!==0)&&(h[v]=zs(T,n)):w<=n&&(t.expiredLanes|=T),f&=~T}if(n=Jt,r=Ut,r=Ta(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Qt===2||Qt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Dr(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Or(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Dr(l),Aa(r)){case 2:case 8:r=va;break;case 32:r=Nr;break;case 268435456:r=Ea;break;default:r=Nr}return l=Kp.bind(null,t),r=Cr(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Dr(l),t.callbackPriority=2,t.callbackNode=null,2}function Kp(t,n){if(Pe!==0&&Pe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Su()&&t.callbackNode!==r)return null;var l=Ut;return l=Ta(t,t===Jt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Ip(t,l,n),Yp(t,dn()),t.callbackNode!=null&&t.callbackNode===r?Kp.bind(null,t):null)}function Xp(t,n){if(Su())return null;Ip(t,n,!0)}function tT(){cT(function(){(Gt&6)!==0?Cr(Ls,W0):Fp()})}function yf(){return oa===0&&(oa=Bs()),oa}function $p(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Da(""+t)}function Zp(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function eT(t,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var f=$p((h[me]||null).action),v=l.submitter;v&&(n=(n=v[me]||null)?$p(n.formAction):v.getAttribute("formAction"),n!==null&&(f=n,v=null));var T=new Na("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(oa!==0){var w=v?Zp(h,v):new FormData(h);Lh(r,{pending:!0,data:w,method:h.method,action:f},null,w)}}else typeof f=="function"&&(T.preventDefault(),w=v?Zp(h,v):new FormData(h),Lh(r,{pending:!0,data:w,method:h.method,action:f},f,w))},currentTarget:h}]})}}for(var _f=0;_f<eh.length;_f++){var vf=eh[_f],nT=vf.toLowerCase(),iT=vf[0].toUpperCase()+vf.slice(1);Vn(nT,"on"+iT)}Vn(Im,"onAnimationEnd"),Vn(Vm,"onAnimationIteration"),Vn(xm,"onAnimationStart"),Vn("dblclick","onDoubleClick"),Vn("focusin","onFocus"),Vn("focusout","onBlur"),Vn(E0,"onTransitionRun"),Vn(T0,"onTransitionStart"),Vn(A0,"onTransitionCancel"),Vn(Om,"onTransitionEnd"),ui("onMouseEnter",["mouseout","mouseover"]),ui("onMouseLeave",["mouseout","mouseover"]),ui("onPointerEnter",["pointerout","pointerover"]),ui("onPointerLeave",["pointerout","pointerover"]),Nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Nn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xl));function Jp(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var v=l.length-1;0<=v;v--){var T=l[v],w=T.instance,j=T.currentTarget;if(T=T.listener,w!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=j;try{f(h)}catch(X){fu(X)}h.currentTarget=null,f=w}else for(v=0;v<l.length;v++){if(T=l[v],w=T.instance,j=T.currentTarget,T=T.listener,w!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=j;try{f(h)}catch(X){fu(X)}h.currentTarget=null,f=w}}}}function Vt(t,n){var r=n[Hs];r===void 0&&(r=n[Hs]=new Set);var l=t+"__bubble";r.has(l)||(Wp(n,t,2,!1),r.add(l))}function Ef(t,n,r){var l=0;n&&(l|=4),Wp(r,t,l,n)}var wu="_reactListening"+Math.random().toString(36).slice(2);function Tf(t){if(!t[wu]){t[wu]=!0,Gs.forEach(function(r){r!=="selectionchange"&&(rT.has(r)||Ef(r,!1,t),Ef(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[wu]||(n[wu]=!0,Ef("selectionchange",!1,n))}}function Wp(t,n,r,l){switch(Sy(n)){case 2:var h=VT;break;case 8:h=xT;break;default:h=Uf}r=h.bind(null,n,r,t),h=void 0,!yn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function Af(t,n,r,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var w=v.tag;if((w===3||w===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=oi(T),v===null)return;if(w=v.tag,w===5||w===6||w===26||w===27){l=f=v;continue t}T=T.parentNode}}l=l.return}Do(function(){var j=f,X=pn(r),J=[];t:{var q=Mm.get(t);if(q!==void 0){var H=Na,vt=t;switch(t){case"keypress":if(Qn(r)===0)break t;case"keydown":case"keyup":H=Ua;break;case"focusin":vt="focus",H=xa;break;case"focusout":vt="blur",H=xa;break;case"beforeblur":case"afterblur":H=xa;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=_n;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Yc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=Lo;break;case Im:case Vm:case xm:H=Oa;break;case Om:H=zo;break;case"scroll":case"scrollend":H=No;break;case"wheel":H=La;break;case"copy":case"cut":case"paste":H=Ma;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=nl;break;case"toggle":case"beforetoggle":H=ko}var yt=(n&4)!==0,Xt=!yt&&(t==="scroll"||t==="scrollend"),M=yt?q!==null?q+"Capture":null:q;yt=[];for(var V=j,k;V!==null;){var $=V;if(k=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||k===null||M===null||($=jr(V,M),$!=null&&yt.push(Ol(V,$,k))),Xt)break;V=V.return}0<yt.length&&(q=new H(q,vt,null,r,X),J.push({event:q,listeners:yt}))}}if((n&7)===0){t:{if(q=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",q&&r!==fi&&(vt=r.relatedTarget||r.fromElement)&&(oi(vt)||vt[mn]))break t;if((H||q)&&(q=X.window===X?X:(q=X.ownerDocument)?q.defaultView||q.parentWindow:window,H?(vt=r.relatedTarget||r.toElement,H=j,vt=vt?oi(vt):null,vt!==null&&(Xt=c(vt),yt=vt.tag,vt!==Xt||yt!==5&&yt!==27&&yt!==6)&&(vt=null)):(H=null,vt=j),H!==vt)){if(yt=_n,$="onMouseLeave",M="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(yt=nl,$="onPointerLeave",M="onPointerEnter",V="pointer"),Xt=H==null?q:jn(H),k=vt==null?q:jn(vt),q=new yt($,V+"leave",H,r,X),q.target=Xt,q.relatedTarget=k,$=null,oi(X)===j&&(yt=new yt(M,V+"enter",vt,r,X),yt.target=k,yt.relatedTarget=Xt,$=yt),Xt=$,H&&vt)e:{for(yt=H,M=vt,V=0,k=yt;k;k=ls(k))V++;for(k=0,$=M;$;$=ls($))k++;for(;0<V-k;)yt=ls(yt),V--;for(;0<k-V;)M=ls(M),k--;for(;V--;){if(yt===M||M!==null&&yt===M.alternate)break e;yt=ls(yt),M=ls(M)}yt=null}else yt=null;H!==null&&ty(J,q,H,yt,!1),vt!==null&&Xt!==null&&ty(J,Xt,vt,yt,!0)}}t:{if(q=j?jn(j):window,H=q.nodeName&&q.nodeName.toLowerCase(),H==="select"||H==="input"&&q.type==="file")var ct=vm;else if(Ae(q))if(Em)ct=y0;else{ct=g0;var Nt=m0}else H=q.nodeName,!H||H.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?j&&Xs(j.elementType)&&(ct=vm):ct=p0;if(ct&&(ct=ct(t,j))){yi(J,ct,r,X);break t}Nt&&Nt(t,q,j),t==="focusout"&&j&&q.type==="number"&&j.memoizedProps.value!=null&&Gi(q,"number",q.value)}switch(Nt=j?jn(j):window,t){case"focusin":(Ae(Nt)||Nt.contentEditable==="true")&&(Pa=Nt,Jc=j,al=null);break;case"focusout":al=Jc=Pa=null;break;case"mousedown":Wc=!0;break;case"contextmenu":case"mouseup":case"dragend":Wc=!1,Dm(J,r,X);break;case"selectionchange":if(v0)break;case"keydown":case"keyup":Dm(J,r,X)}var ft;if(Kn)t:{switch(t){case"compositionstart":var _t="onCompositionStart";break t;case"compositionend":_t="onCompositionEnd";break t;case"compositionupdate":_t="onCompositionUpdate";break t}_t=void 0}else Ot?F(t,r)&&(_t="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(_t="onCompositionStart");_t&&(_&&r.locale!=="ko"&&(Ot||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&Ot&&(ft=Zs()):(Gn=X,Qi="value"in Gn?Gn.value:Gn.textContent,Ot=!0)),Nt=Cu(j,_t),0<Nt.length&&(_t=new tl(_t,t,null,r,X),J.push({event:_t,listeners:Nt}),ft?_t.data=ft:(ft=at(r),ft!==null&&(_t.data=ft)))),(ft=m?Te(t,r):Mt(t,r))&&(_t=Cu(j,"onBeforeInput"),0<_t.length&&(Nt=new tl("onBeforeInput","beforeinput",null,r,X),J.push({event:Nt,listeners:_t}),Nt.data=ft)),eT(J,t,j,r,X)}Jp(J,n)})}function Ol(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Cu(t,n){for(var r=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=jr(t,r),h!=null&&l.unshift(Ol(t,h,f)),h=jr(t,n),h!=null&&l.push(Ol(t,h,f))),t.tag===3)return l;t=t.return}return[]}function ls(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function ty(t,n,r,l,h){for(var f=n._reactName,v=[];r!==null&&r!==l;){var T=r,w=T.alternate,j=T.stateNode;if(T=T.tag,w!==null&&w===l)break;T!==5&&T!==26&&T!==27||j===null||(w=j,h?(j=jr(r,f),j!=null&&v.unshift(Ol(r,j,w))):h||(j=jr(r,f),j!=null&&v.push(Ol(r,j,w)))),r=r.return}v.length!==0&&t.push({event:n,listeners:v})}var aT=/\r\n?/g,sT=/\u0000|\uFFFD/g;function ey(t){return(typeof t=="string"?t:""+t).replace(aT,`
`).replace(sT,"")}function ny(t,n){return n=ey(n),ey(t)===n}function Du(){}function Kt(t,n,r,l,h,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||gn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&gn(t,""+l);break;case"className":qn(t,"class",l);break;case"tabIndex":qn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":qn(t,r,l);break;case"style":Ks(t,l,f);break;case"data":if(n!=="object"){qn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Da(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Kt(t,n,"name",h.name,h,null),Kt(t,n,"formEncType",h.formEncType,h,null),Kt(t,n,"formMethod",h.formMethod,h,null),Kt(t,n,"formTarget",h.formTarget,h,null)):(Kt(t,n,"encType",h.encType,h,null),Kt(t,n,"method",h.method,h,null),Kt(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Da(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=Du);break;case"onScroll":l!=null&&Vt("scroll",t);break;case"onScrollEnd":l!=null&&Vt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Da(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Vt("beforetoggle",t),Vt("toggle",t),Hi(t,"popover",l);break;case"xlinkActuate":Me(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Me(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Me(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Me(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Me(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Me(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Me(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Me(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Me(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Hi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Qc.get(r)||r,Hi(t,r,l))}}function Sf(t,n,r,l,h,f){switch(r){case"style":Ks(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof l=="string"?gn(t,l):(typeof l=="number"||typeof l=="bigint")&&gn(t,""+l);break;case"onScroll":l!=null&&Vt("scroll",t);break;case"onScrollEnd":l!=null&&Vt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Du);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sa.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[me]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,h);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Hi(t,r,l)}}}function ze(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",t),Vt("load",t);var l=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var v=r[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Kt(t,n,f,v,r,null)}}h&&Kt(t,n,"srcSet",r.srcSet,r,null),l&&Kt(t,n,"src",r.src,r,null);return;case"input":Vt("invalid",t);var T=f=v=h=null,w=null,j=null;for(l in r)if(r.hasOwnProperty(l)){var X=r[l];if(X!=null)switch(l){case"name":h=X;break;case"type":v=X;break;case"checked":w=X;break;case"defaultChecked":j=X;break;case"value":f=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,n));break;default:Kt(t,n,l,X,r,null)}}zr(t,f,T,w,j,v,h,!1),Ca(t);return;case"select":Vt("invalid",t),l=v=f=null;for(h in r)if(r.hasOwnProperty(h)&&(T=r[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Kt(t,n,h,T,r,null)}n=f,r=v,t.multiple=!!l,n!=null?hi(t,!!l,n,!1):r!=null&&hi(t,!!l,r,!0);return;case"textarea":Vt("invalid",t),f=h=l=null;for(v in r)if(r.hasOwnProperty(v)&&(T=r[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Kt(t,n,v,T,r,null)}Br(t,l,h,f),Ca(t);return;case"option":for(w in r)if(r.hasOwnProperty(w)&&(l=r[w],l!=null))switch(w){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Kt(t,n,w,l,r,null)}return;case"dialog":Vt("beforetoggle",t),Vt("toggle",t),Vt("cancel",t),Vt("close",t);break;case"iframe":case"object":Vt("load",t);break;case"video":case"audio":for(l=0;l<xl.length;l++)Vt(xl[l],t);break;case"image":Vt("error",t),Vt("load",t);break;case"details":Vt("toggle",t);break;case"embed":case"source":case"link":Vt("error",t),Vt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in r)if(r.hasOwnProperty(j)&&(l=r[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Kt(t,n,j,l,r,null)}return;default:if(Xs(n)){for(X in r)r.hasOwnProperty(X)&&(l=r[X],l!==void 0&&Sf(t,n,X,l,r,void 0));return}}for(T in r)r.hasOwnProperty(T)&&(l=r[T],l!=null&&Kt(t,n,T,l,r,null))}function lT(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,v=null,T=null,w=null,j=null,X=null;for(H in r){var J=r[H];if(r.hasOwnProperty(H)&&J!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":w=J;default:l.hasOwnProperty(H)||Kt(t,n,H,null,l,J)}}for(var q in l){var H=l[q];if(J=r[q],l.hasOwnProperty(q)&&(H!=null||J!=null))switch(q){case"type":f=H;break;case"name":h=H;break;case"checked":j=H;break;case"defaultChecked":X=H;break;case"value":v=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:H!==J&&Kt(t,n,q,H,l,J)}}rn(t,v,T,w,j,X,f,h);return;case"select":H=v=T=q=null;for(f in r)if(w=r[f],r.hasOwnProperty(f)&&w!=null)switch(f){case"value":break;case"multiple":H=w;default:l.hasOwnProperty(f)||Kt(t,n,f,null,l,w)}for(h in l)if(f=l[h],w=r[h],l.hasOwnProperty(h)&&(f!=null||w!=null))switch(h){case"value":q=f;break;case"defaultValue":T=f;break;case"multiple":v=f;default:f!==w&&Kt(t,n,h,f,l,w)}n=T,r=v,l=H,q!=null?hi(t,!!r,q,!1):!!l!=!!r&&(n!=null?hi(t,!!r,n,!0):hi(t,!!r,r?[]:"",!1));return;case"textarea":H=q=null;for(T in r)if(h=r[T],r.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Kt(t,n,T,null,l,h)}for(v in l)if(h=l[v],f=r[v],l.hasOwnProperty(v)&&(h!=null||f!=null))switch(v){case"value":q=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Kt(t,n,v,h,l,f)}Ft(t,q,H);return;case"option":for(var vt in r)if(q=r[vt],r.hasOwnProperty(vt)&&q!=null&&!l.hasOwnProperty(vt))switch(vt){case"selected":t.selected=!1;break;default:Kt(t,n,vt,null,l,q)}for(w in l)if(q=l[w],H=r[w],l.hasOwnProperty(w)&&q!==H&&(q!=null||H!=null))switch(w){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Kt(t,n,w,q,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in r)q=r[yt],r.hasOwnProperty(yt)&&q!=null&&!l.hasOwnProperty(yt)&&Kt(t,n,yt,null,l,q);for(j in l)if(q=l[j],H=r[j],l.hasOwnProperty(j)&&q!==H&&(q!=null||H!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:Kt(t,n,j,q,l,H)}return;default:if(Xs(n)){for(var Xt in r)q=r[Xt],r.hasOwnProperty(Xt)&&q!==void 0&&!l.hasOwnProperty(Xt)&&Sf(t,n,Xt,void 0,l,q);for(X in l)q=l[X],H=r[X],!l.hasOwnProperty(X)||q===H||q===void 0&&H===void 0||Sf(t,n,X,q,l,H);return}}for(var M in r)q=r[M],r.hasOwnProperty(M)&&q!=null&&!l.hasOwnProperty(M)&&Kt(t,n,M,null,l,q);for(J in l)q=l[J],H=r[J],!l.hasOwnProperty(J)||q===H||q==null&&H==null||Kt(t,n,J,q,l,H)}var bf=null,Rf=null;function Nu(t){return t.nodeType===9?t:t.ownerDocument}function iy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ry(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function wf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Cf=null;function oT(){var t=window.event;return t&&t.type==="popstate"?t===Cf?!1:(Cf=t,!0):(Cf=null,!1)}var ay=typeof setTimeout=="function"?setTimeout:void 0,uT=typeof clearTimeout=="function"?clearTimeout:void 0,sy=typeof Promise=="function"?Promise:void 0,cT=typeof queueMicrotask=="function"?queueMicrotask:typeof sy<"u"?function(t){return sy.resolve(null).then(t).catch(hT)}:ay;function hT(t){setTimeout(function(){throw t})}function lr(t){return t==="head"}function ly(t,n){var r=n,l=0,h=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var v=t.ownerDocument;if(r&1&&Ml(v.documentElement),r&2&&Ml(v.body),r&4)for(r=v.head,Ml(r),v=r.firstChild;v;){var T=v.nextSibling,w=v.nodeName;v[Mr]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&v.rel.toLowerCase()==="stylesheet"||r.removeChild(v),v=T}}if(h===0){t.removeChild(f),ql(n);return}h--}else r==="$"||r==="$?"||r==="$!"?h++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);ql(n)}function Df(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Df(r),qi(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function fT(t,n,r,l){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Mr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=On(t.nextSibling),t===null)break}return null}function dT(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=On(t.nextSibling),t===null))return null;return t}function Nf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function mT(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function On(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var If=null;function oy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function uy(t,n,r){switch(n=Nu(r),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ml(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);qi(t)}var Rn=new Map,cy=new Set;function Iu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ii=st.d;st.d={f:gT,r:pT,D:yT,C:_T,L:vT,m:ET,X:AT,S:TT,M:ST};function gT(){var t=Ii.f(),n=Tu();return t||n}function pT(t){var n=kn(t);n!==null&&n.tag===5&&n.type==="form"?Ig(n):Ii.r(t)}var os=typeof document>"u"?null:document;function hy(t,n,r){var l=os;if(l&&typeof n=="string"&&n){var h=ge(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),cy.has(h)||(cy.add(h),t={rel:t,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),ze(n,"link",t),ce(n),l.head.appendChild(n)))}}function yT(t){Ii.D(t),hy("dns-prefetch",t,null)}function _T(t,n){Ii.C(t,n),hy("preconnect",t,n)}function vT(t,n,r){Ii.L(t,n,r);var l=os;if(l&&t&&n){var h='link[rel="preload"][as="'+ge(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+ge(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+ge(r.imageSizes)+'"]')):h+='[href="'+ge(t)+'"]';var f=h;switch(n){case"style":f=us(t);break;case"script":f=cs(t)}Rn.has(f)||(t=E({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Rn.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(Ul(f))||n==="script"&&l.querySelector(Ll(f))||(n=l.createElement("link"),ze(n,"link",t),ce(n),l.head.appendChild(n)))}}function ET(t,n){Ii.m(t,n);var r=os;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+ge(l)+'"][href="'+ge(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=cs(t)}if(!Rn.has(f)&&(t=E({rel:"modulepreload",href:t},n),Rn.set(f,t),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Ll(f)))return}l=r.createElement("link"),ze(l,"link",t),ce(l),r.head.appendChild(l)}}}function TT(t,n,r){Ii.S(t,n,r);var l=os;if(l&&t){var h=Ke(l).hoistableStyles,f=us(t);n=n||"default";var v=h.get(f);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(Ul(f)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Rn.get(f))&&Vf(t,r);var w=v=l.createElement("link");ce(w),ze(w,"link",t),w._p=new Promise(function(j,X){w.onload=j,w.onerror=X}),w.addEventListener("load",function(){T.loading|=1}),w.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Vu(v,n,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(f,v)}}}function AT(t,n){Ii.X(t,n);var r=os;if(r&&t){var l=Ke(r).hoistableScripts,h=cs(t),f=l.get(h);f||(f=r.querySelector(Ll(h)),f||(t=E({src:t,async:!0},n),(n=Rn.get(h))&&xf(t,n),f=r.createElement("script"),ce(f),ze(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function ST(t,n){Ii.M(t,n);var r=os;if(r&&t){var l=Ke(r).hoistableScripts,h=cs(t),f=l.get(h);f||(f=r.querySelector(Ll(h)),f||(t=E({src:t,async:!0,type:"module"},n),(n=Rn.get(h))&&xf(t,n),f=r.createElement("script"),ce(f),ze(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function fy(t,n,r,l){var h=(h=Tt.current)?Iu(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=us(r.href),r=Ke(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=us(r.href);var f=Ke(h).hoistableStyles,v=f.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=h.querySelector(Ul(t)))&&!f._p&&(v.instance=f,v.state.loading=5),Rn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Rn.set(t,r),f||bT(h,t,r,v.state))),n&&l===null)throw Error(s(528,""));return v}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=cs(r),r=Ke(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function us(t){return'href="'+ge(t)+'"'}function Ul(t){return'link[rel="stylesheet"]['+t+"]"}function dy(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function bT(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ze(n,"link",r),ce(n),t.head.appendChild(n))}function cs(t){return'[src="'+ge(t)+'"]'}function Ll(t){return"script[async]"+t}function my(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+ge(r.href)+'"]');if(l)return n.instance=l,ce(l),l;var h=E({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ce(l),ze(l,"style",h),Vu(l,r.precedence,t),n.instance=l;case"stylesheet":h=us(r.href);var f=t.querySelector(Ul(h));if(f)return n.state.loading|=4,n.instance=f,ce(f),f;l=dy(r),(h=Rn.get(h))&&Vf(l,h),f=(t.ownerDocument||t).createElement("link"),ce(f);var v=f;return v._p=new Promise(function(T,w){v.onload=T,v.onerror=w}),ze(f,"link",l),n.state.loading|=4,Vu(f,r.precedence,t),n.instance=f;case"script":return f=cs(r.src),(h=t.querySelector(Ll(f)))?(n.instance=h,ce(h),h):(l=r,(h=Rn.get(f))&&(l=E({},r),xf(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),ce(h),ze(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Vu(l,r.precedence,t));return n.instance}function Vu(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Vf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function xf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var xu=null;function gy(t,n,r){if(xu===null){var l=new Map,h=xu=new Map;h.set(r,l)}else h=xu,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[Mr]||f[Ee]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(n)||"";v=t+v;var T=l.get(v);T?T.push(f):l.set(v,[f])}}return l}function py(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function RT(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function yy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Pl=null;function wT(){}function CT(t,n,r){if(Pl===null)throw Error(s(475));var l=Pl;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var h=us(r.href),f=t.querySelector(Ul(h));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Ou.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,ce(f);return}f=t.ownerDocument||t,r=dy(r),(h=Rn.get(h))&&Vf(r,h),f=f.createElement("link"),ce(f);var v=f;v._p=new Promise(function(T,w){v.onload=T,v.onerror=w}),ze(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Ou.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function DT(){if(Pl===null)throw Error(s(475));var t=Pl;return t.stylesheets&&t.count===0&&Of(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&Of(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function Ou(){if(this.count--,this.count===0){if(this.stylesheets)Of(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Mu=null;function Of(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Mu=new Map,n.forEach(NT,t),Mu=null,Ou.call(t))}function NT(t,n){if(!(n.state.loading&4)){var r=Mu.get(t);if(r)var l=r.get(null);else{r=new Map,Mu.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var v=h[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(r.set(v.dataset.precedence,v),l=v)}l&&r.set(null,l)}h=n.instance,v=h.getAttribute("data-precedence"),f=r.get(v)||l,f===l&&r.set(null,h),r.set(v,h),this.count++,l=Ou.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var zl={$$typeof:nt,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function IT(t,n,r,l,h,f,v,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=si(0),this.hiddenUpdates=si(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function _y(t,n,r,l,h,f,v,T,w,j,X,J){return t=new IT(t,n,r,v,T,w,j,J),n=1,f===!0&&(n|=24),f=sn(3,null,null,n),t.current=f,f.stateNode=t,n=dh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},yh(f),t}function vy(t){return t?(t=ja,t):ja}function Ey(t,n,r,l,h,f){h=vy(h),l.context===null?l.context=h:l.pendingContext=h,l=Ki(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Xi(t,l,n),r!==null&&(hn(r,t,n),ml(r,t,n))}function Ty(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Mf(t,n){Ty(t,n),(t=t.alternate)&&Ty(t,n)}function Ay(t){if(t.tag===13){var n=ka(t,67108864);n!==null&&hn(n,t,67108864),Mf(t,67108864)}}var Uu=!0;function VT(t,n,r,l){var h=K.T;K.T=null;var f=st.p;try{st.p=2,Uf(t,n,r,l)}finally{st.p=f,K.T=h}}function xT(t,n,r,l){var h=K.T;K.T=null;var f=st.p;try{st.p=8,Uf(t,n,r,l)}finally{st.p=f,K.T=h}}function Uf(t,n,r,l){if(Uu){var h=Lf(l);if(h===null)Af(t,n,l,Lu,r),by(t,l);else if(MT(h,t,n,r,l))l.stopPropagation();else if(by(t,l),n&4&&-1<OT.indexOf(t)){for(;h!==null;){var f=kn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=Dn(f.pendingLanes);if(v!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var w=1<<31-qe(v);T.entanglements[1]|=w,v&=~w}ti(f),(Gt&6)===0&&(vu=dn()+500,Vl(0))}}break;case 13:T=ka(f,2),T!==null&&hn(T,f,2),Tu(),Mf(f,2)}if(f=Lf(l),f===null&&Af(t,n,l,Lu,r),f===h)break;h=f}h!==null&&l.stopPropagation()}else Af(t,n,l,null,r)}}function Lf(t){return t=pn(t),Pf(t)}var Lu=null;function Pf(t){if(Lu=null,t=oi(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Lu=t,null}function Sy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Bc()){case Ls:return 2;case va:return 8;case Nr:case kc:return 32;case Ea:return 268435456;default:return 32}default:return 32}}var zf=!1,or=null,ur=null,cr=null,Bl=new Map,kl=new Map,hr=[],OT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function by(t,n){switch(t){case"focusin":case"focusout":or=null;break;case"dragenter":case"dragleave":ur=null;break;case"mouseover":case"mouseout":cr=null;break;case"pointerover":case"pointerout":Bl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":kl.delete(n.pointerId)}}function jl(t,n,r,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=kn(n),n!==null&&Ay(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function MT(t,n,r,l,h){switch(n){case"focusin":return or=jl(or,t,n,r,l,h),!0;case"dragenter":return ur=jl(ur,t,n,r,l,h),!0;case"mouseover":return cr=jl(cr,t,n,r,l,h),!0;case"pointerover":var f=h.pointerId;return Bl.set(f,jl(Bl.get(f)||null,t,n,r,l,h)),!0;case"gotpointercapture":return f=h.pointerId,kl.set(f,jl(kl.get(f)||null,t,n,r,l,h)),!0}return!1}function Ry(t){var n=oi(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,To(t.priority,function(){if(r.tag===13){var l=cn();l=Bi(l);var h=ka(r,l);h!==null&&hn(h,r,l),Mf(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Pu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Lf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);fi=l,r.target.dispatchEvent(l),fi=null}else return n=kn(r),n!==null&&Ay(n),t.blockedOn=r,!1;n.shift()}return!0}function wy(t,n,r){Pu(t)&&r.delete(n)}function UT(){zf=!1,or!==null&&Pu(or)&&(or=null),ur!==null&&Pu(ur)&&(ur=null),cr!==null&&Pu(cr)&&(cr=null),Bl.forEach(wy),kl.forEach(wy)}function zu(t,n){t.blockedOn===n&&(t.blockedOn=null,zf||(zf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,UT)))}var Bu=null;function Cy(t){Bu!==t&&(Bu=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Bu===t&&(Bu=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Pf(l||r)===null)continue;break}var f=kn(r);f!==null&&(t.splice(n,3),n-=3,Lh(f,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function ql(t){function n(w){return zu(w,t)}or!==null&&zu(or,t),ur!==null&&zu(ur,t),cr!==null&&zu(cr,t),Bl.forEach(n),kl.forEach(n);for(var r=0;r<hr.length;r++){var l=hr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<hr.length&&(r=hr[0],r.blockedOn===null);)Ry(r),r.blockedOn===null&&hr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],f=r[l+1],v=h[me]||null;if(typeof f=="function")v||Cy(r);else if(v){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,v=f[me]||null)T=v.formAction;else if(Pf(h)!==null)continue}else T=v.action;typeof T=="function"?r[l+1]=T:(r.splice(l,3),l-=3),Cy(r)}}}function Bf(t){this._internalRoot=t}ku.prototype.render=Bf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,l=cn();Ey(r,l,t,n,null,null)},ku.prototype.unmount=Bf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Ey(t.current,2,null,t,null,null),Tu(),n[mn]=null}};function ku(t){this._internalRoot=t}ku.prototype.unstable_scheduleHydration=function(t){if(t){var n=ki();t={blockedOn:null,target:t,priority:n};for(var r=0;r<hr.length&&n!==0&&n<hr[r].priority;r++);hr.splice(r,0,t),r===0&&Ry(t)}};var Dy=e.version;if(Dy!=="19.1.0")throw Error(s(527,Dy,"19.1.0"));st.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(n),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var LT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ju.isDisabled&&ju.supportsFiber)try{se=ju.inject(LT),Ht=ju}catch{}}return Gl.createRoot=function(t,n){if(!o(t))throw Error(s(299));var r=!1,l="",h=Gg,f=Qg,v=Fg,T=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(T=n.unstable_transitionCallbacks)),n=_y(t,1,!1,null,null,r,l,h,f,v,T,null),t[mn]=n.current,Tf(t),new Bf(n)},Gl.hydrateRoot=function(t,n,r){if(!o(t))throw Error(s(299));var l=!1,h="",f=Gg,v=Qg,T=Fg,w=null,j=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(w=r.unstable_transitionCallbacks),r.formState!==void 0&&(j=r.formState)),n=_y(t,1,!0,n,r??null,l,h,f,v,T,w,j),n.context=vy(null),r=n.current,l=cn(),l=Bi(l),h=Ki(l),h.callback=null,Xi(r,h,l),r=l,n.current.lanes=r,li(n,r),ti(n),t[mn]=n.current,Tf(t),new ku(n)},Gl.version="19.1.0",Gl}var zy;function FT(){if(zy)return qf.exports;zy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),qf.exports=QT(),qf.exports}var YT=FT();const KT=ev(YT);var Ql={},By;function XT(){if(By)return Ql;By=1,Object.defineProperty(Ql,"__esModule",{value:!0}),Ql.parse=d,Ql.serialize=y;const a=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,c=(()=>{const C=function(){};return C.prototype=Object.create(null),C})();function d(C,U){const L=new c,Y=C.length;if(Y<2)return L;const G=(U==null?void 0:U.decode)||E;let Z=0;do{const rt=C.indexOf("=",Z);if(rt===-1)break;const nt=C.indexOf(";",Z),mt=nt===-1?Y:nt;if(rt>mt){Z=C.lastIndexOf(";",rt-1)+1;continue}const ht=g(C,Z,rt),Rt=p(C,rt,ht),x=C.slice(ht,Rt);if(L[x]===void 0){let b=g(C,rt+1,mt),R=p(C,mt,b);const D=G(C.slice(b,R));L[x]=D}Z=mt+1}while(Z<Y);return L}function g(C,U,L){do{const Y=C.charCodeAt(U);if(Y!==32&&Y!==9)return U}while(++U<L);return L}function p(C,U,L){for(;U>L;){const Y=C.charCodeAt(--U);if(Y!==32&&Y!==9)return U+1}return L}function y(C,U,L){const Y=(L==null?void 0:L.encode)||encodeURIComponent;if(!a.test(C))throw new TypeError(`argument name is invalid: ${C}`);const G=Y(U);if(!e.test(G))throw new TypeError(`argument val is invalid: ${U}`);let Z=C+"="+G;if(!L)return Z;if(L.maxAge!==void 0){if(!Number.isInteger(L.maxAge))throw new TypeError(`option maxAge is invalid: ${L.maxAge}`);Z+="; Max-Age="+L.maxAge}if(L.domain){if(!i.test(L.domain))throw new TypeError(`option domain is invalid: ${L.domain}`);Z+="; Domain="+L.domain}if(L.path){if(!s.test(L.path))throw new TypeError(`option path is invalid: ${L.path}`);Z+="; Path="+L.path}if(L.expires){if(!S(L.expires)||!Number.isFinite(L.expires.valueOf()))throw new TypeError(`option expires is invalid: ${L.expires}`);Z+="; Expires="+L.expires.toUTCString()}if(L.httpOnly&&(Z+="; HttpOnly"),L.secure&&(Z+="; Secure"),L.partitioned&&(Z+="; Partitioned"),L.priority)switch(typeof L.priority=="string"?L.priority.toLowerCase():void 0){case"low":Z+="; Priority=Low";break;case"medium":Z+="; Priority=Medium";break;case"high":Z+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${L.priority}`)}if(L.sameSite)switch(typeof L.sameSite=="string"?L.sameSite.toLowerCase():L.sameSite){case!0:case"strict":Z+="; SameSite=Strict";break;case"lax":Z+="; SameSite=Lax";break;case"none":Z+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${L.sameSite}`)}return Z}function E(C){if(C.indexOf("%")===-1)return C;try{return decodeURIComponent(C)}catch{return C}}function S(C){return o.call(C)==="[object Date]"}return Ql}XT();/**
 * react-router v7.4.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ky="popstate";function $T(a={}){function e(o,c){let{pathname:d="/",search:g="",hash:p=""}=ma(o.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),id("",{pathname:d,search:g,hash:p},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function i(o,c){let d=o.document.querySelector("base"),g="";if(d&&d.getAttribute("href")){let p=o.location.href,y=p.indexOf("#");g=y===-1?p:p.slice(0,y)}return g+"#"+(typeof c=="string"?c:eo(c))}function s(o,c){Cn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return JT(e,i,s,a)}function ne(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function Cn(a,e){if(!a){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ZT(){return Math.random().toString(36).substring(2,10)}function jy(a,e){return{usr:a.state,key:a.key,idx:e}}function id(a,e,i=null,s){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof e=="string"?ma(e):e,state:i,key:e&&e.key||s||ZT()}}function eo({pathname:a="/",search:e="",hash:i=""}){return e&&e!=="?"&&(a+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(a+=i.charAt(0)==="#"?i:"#"+i),a}function ma(a){let e={};if(a){let i=a.indexOf("#");i>=0&&(e.hash=a.substring(i),a=a.substring(0,i));let s=a.indexOf("?");s>=0&&(e.search=a.substring(s),a=a.substring(0,s)),a&&(e.pathname=a)}return e}function JT(a,e,i,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,d=o.history,g="POP",p=null,y=E();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function E(){return(d.state||{idx:null}).idx}function S(){g="POP";let G=E(),Z=G==null?null:G-y;y=G,p&&p({action:g,location:Y.location,delta:Z})}function C(G,Z){g="PUSH";let rt=id(Y.location,G,Z);i&&i(rt,G),y=E()+1;let nt=jy(rt,y),mt=Y.createHref(rt);try{d.pushState(nt,"",mt)}catch(ht){if(ht instanceof DOMException&&ht.name==="DataCloneError")throw ht;o.location.assign(mt)}c&&p&&p({action:g,location:Y.location,delta:1})}function U(G,Z){g="REPLACE";let rt=id(Y.location,G,Z);i&&i(rt,G),y=E();let nt=jy(rt,y),mt=Y.createHref(rt);d.replaceState(nt,"",mt),c&&p&&p({action:g,location:Y.location,delta:0})}function L(G){let Z=o.location.origin!=="null"?o.location.origin:o.location.href,rt=typeof G=="string"?G:eo(G);return rt=rt.replace(/ $/,"%20"),ne(Z,`No window.location.(origin|href) available to create URL for href: ${rt}`),new URL(rt,Z)}let Y={get action(){return g},get location(){return a(o,d)},listen(G){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(ky,S),p=G,()=>{o.removeEventListener(ky,S),p=null}},createHref(G){return e(o,G)},createURL:L,encodeLocation(G){let Z=L(G);return{pathname:Z.pathname,search:Z.search,hash:Z.hash}},push:C,replace:U,go(G){return d.go(G)}};return Y}function iv(a,e,i="/"){return WT(a,e,i,!1)}function WT(a,e,i,s){let o=typeof e=="string"?ma(e):e,c=Mi(o.pathname||"/",i);if(c==null)return null;let d=rv(a);tA(d);let g=null;for(let p=0;g==null&&p<d.length;++p){let y=hA(c);g=uA(d[p],y,s)}return g}function rv(a,e=[],i=[],s=""){let o=(c,d,g)=>{let p={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};p.relativePath.startsWith("/")&&(ne(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let y=Vi([s,p.relativePath]),E=i.concat(p);c.children&&c.children.length>0&&(ne(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),rv(c.children,e,E,y)),!(c.path==null&&!c.index)&&e.push({path:y,score:lA(y,c.index),routesMeta:E})};return a.forEach((c,d)=>{var g;if(c.path===""||!((g=c.path)!=null&&g.includes("?")))o(c,d);else for(let p of av(c.path))o(c,d,p)}),e}function av(a){let e=a.split("/");if(e.length===0)return[];let[i,...s]=e,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let d=av(s.join("/")),g=[];return g.push(...d.map(p=>p===""?c:[c,p].join("/"))),o&&g.push(...d),g.map(p=>a.startsWith("/")&&p===""?"/":p)}function tA(a){a.sort((e,i)=>e.score!==i.score?i.score-e.score:oA(e.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var eA=/^:[\w-]+$/,nA=3,iA=2,rA=1,aA=10,sA=-2,qy=a=>a==="*";function lA(a,e){let i=a.split("/"),s=i.length;return i.some(qy)&&(s+=sA),e&&(s+=iA),i.filter(o=>!qy(o)).reduce((o,c)=>o+(eA.test(c)?nA:c===""?rA:aA),s)}function oA(a,e){return a.length===e.length&&a.slice(0,-1).every((s,o)=>s===e[o])?a[a.length-1]-e[e.length-1]:0}function uA(a,e,i=!1){let{routesMeta:s}=a,o={},c="/",d=[];for(let g=0;g<s.length;++g){let p=s[g],y=g===s.length-1,E=c==="/"?e:e.slice(c.length)||"/",S=nc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),C=p.route;if(!S&&y&&i&&!s[s.length-1].route.index&&(S=nc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),d.push({params:o,pathname:Vi([c,S.pathname]),pathnameBase:gA(Vi([c,S.pathnameBase])),route:C}),S.pathnameBase!=="/"&&(c=Vi([c,S.pathnameBase]))}return d}function nc(a,e){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[i,s]=cA(a.path,a.caseSensitive,a.end),o=e.match(i);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),g=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:S},C)=>{if(E==="*"){let L=g[C]||"";d=c.slice(0,c.length-L.length).replace(/(.)\/+$/,"$1")}const U=g[C];return S&&!U?y[E]=void 0:y[E]=(U||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:d,pattern:a}}function cA(a,e=!1,i=!0){Cn(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let s=[],o="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,p)=>(s.push({paramName:g,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(s.push({paramName:"*"}),o+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":a!==""&&a!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function hA(a){try{return a.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Cn(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),a}}function Mi(a,e){if(e==="/")return a;if(!a.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,s=a.charAt(i);return s&&s!=="/"?null:a.slice(i)||"/"}function fA(a,e="/"){let{pathname:i,search:s="",hash:o=""}=typeof a=="string"?ma(a):a;return{pathname:i?i.startsWith("/")?i:dA(i,e):e,search:pA(s),hash:yA(o)}}function dA(a,e){let i=e.replace(/\/+$/,"").split("/");return a.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function Ff(a,e,i,s){return`Cannot include a '${a}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function mA(a){return a.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function Id(a){let e=mA(a);return e.map((i,s)=>s===e.length-1?i.pathname:i.pathnameBase)}function Vd(a,e,i,s=!1){let o;typeof a=="string"?o=ma(a):(o={...a},ne(!o.pathname||!o.pathname.includes("?"),Ff("?","pathname","search",o)),ne(!o.pathname||!o.pathname.includes("#"),Ff("#","pathname","hash",o)),ne(!o.search||!o.search.includes("#"),Ff("#","search","hash",o)));let c=a===""||o.pathname==="",d=c?"/":o.pathname,g;if(d==null)g=i;else{let S=e.length-1;if(!s&&d.startsWith("..")){let C=d.split("/");for(;C[0]==="..";)C.shift(),S-=1;o.pathname=C.join("/")}g=S>=0?e[S]:"/"}let p=fA(o,g),y=d&&d!=="/"&&d.endsWith("/"),E=(c||d===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var Vi=a=>a.join("/").replace(/\/\/+/g,"/"),gA=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),pA=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,yA=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function _A(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}var sv=["POST","PUT","PATCH","DELETE"];new Set(sv);var vA=["GET",...sv];new Set(vA);var ws=Q.createContext(null);ws.displayName="DataRouter";var Tc=Q.createContext(null);Tc.displayName="DataRouterState";var lv=Q.createContext({isTransitioning:!1});lv.displayName="ViewTransition";var EA=Q.createContext(new Map);EA.displayName="Fetchers";var TA=Q.createContext(null);TA.displayName="Await";var Ln=Q.createContext(null);Ln.displayName="Navigation";var co=Q.createContext(null);co.displayName="Location";var Pn=Q.createContext({outlet:null,matches:[],isDataRoute:!1});Pn.displayName="Route";var xd=Q.createContext(null);xd.displayName="RouteError";function AA(a,{relative:e}={}){ne(Cs(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=Q.useContext(Ln),{hash:o,pathname:c,search:d}=ho(a,{relative:e}),g=c;return i!=="/"&&(g=c==="/"?i:Vi([i,c])),s.createHref({pathname:g,search:d,hash:o})}function Cs(){return Q.useContext(co)!=null}function Rr(){return ne(Cs(),"useLocation() may be used only in the context of a <Router> component."),Q.useContext(co).location}var ov="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function uv(a){Q.useContext(Ln).static||Q.useLayoutEffect(a)}function Ds(){let{isDataRoute:a}=Q.useContext(Pn);return a?LA():SA()}function SA(){ne(Cs(),"useNavigate() may be used only in the context of a <Router> component.");let a=Q.useContext(ws),{basename:e,navigator:i}=Q.useContext(Ln),{matches:s}=Q.useContext(Pn),{pathname:o}=Rr(),c=JSON.stringify(Id(s)),d=Q.useRef(!1);return uv(()=>{d.current=!0}),Q.useCallback((p,y={})=>{if(Cn(d.current,ov),!d.current)return;if(typeof p=="number"){i.go(p);return}let E=Vd(p,JSON.parse(c),o,y.relative==="path");a==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Vi([e,E.pathname])),(y.replace?i.replace:i.push)(E,y.state,y)},[e,i,c,o,a])}Q.createContext(null);function bA(){let{matches:a}=Q.useContext(Pn),e=a[a.length-1];return e?e.params:{}}function ho(a,{relative:e}={}){let{matches:i}=Q.useContext(Pn),{pathname:s}=Rr(),o=JSON.stringify(Id(i));return Q.useMemo(()=>Vd(a,JSON.parse(o),s,e==="path"),[a,o,s,e])}function RA(a,e){return cv(a,e)}function cv(a,e,i,s){var rt;ne(Cs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:c}=Q.useContext(Ln),{matches:d}=Q.useContext(Pn),g=d[d.length-1],p=g?g.params:{},y=g?g.pathname:"/",E=g?g.pathnameBase:"/",S=g&&g.route;{let nt=S&&S.path||"";hv(y,!S||nt.endsWith("*")||nt.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${nt}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${nt}"> to <Route path="${nt==="/"?"*":`${nt}/*`}">.`)}let C=Rr(),U;if(e){let nt=typeof e=="string"?ma(e):e;ne(E==="/"||((rt=nt.pathname)==null?void 0:rt.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${nt.pathname}" was given in the \`location\` prop.`),U=nt}else U=C;let L=U.pathname||"/",Y=L;if(E!=="/"){let nt=E.replace(/^\//,"").split("/");Y="/"+L.replace(/^\//,"").split("/").slice(nt.length).join("/")}let G=!c&&i&&i.matches&&i.matches.length>0?i.matches:iv(a,{pathname:Y});Cn(S||G!=null,`No routes matched location "${U.pathname}${U.search}${U.hash}" `),Cn(G==null||G[G.length-1].route.element!==void 0||G[G.length-1].route.Component!==void 0||G[G.length-1].route.lazy!==void 0,`Matched leaf route at location "${U.pathname}${U.search}${U.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Z=IA(G&&G.map(nt=>Object.assign({},nt,{params:Object.assign({},p,nt.params),pathname:Vi([E,o.encodeLocation?o.encodeLocation(nt.pathname).pathname:nt.pathname]),pathnameBase:nt.pathnameBase==="/"?E:Vi([E,o.encodeLocation?o.encodeLocation(nt.pathnameBase).pathname:nt.pathnameBase])})),d,i,s);return e&&Z?Q.createElement(co.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...U},navigationType:"POP"}},Z):Z}function wA(){let a=UA(),e=_A(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),i=a instanceof Error?a.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",a),d=Q.createElement(Q.Fragment,null,Q.createElement("p",null,"💿 Hey developer 👋"),Q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Q.createElement("code",{style:c},"ErrorBoundary")," or"," ",Q.createElement("code",{style:c},"errorElement")," prop on your route.")),Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),i?Q.createElement("pre",{style:o},i):null,d)}var CA=Q.createElement(wA,null),DA=class extends Q.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,e){return e.location!==a.location||e.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:e.error,location:e.location,revalidation:a.revalidation||e.revalidation}}componentDidCatch(a,e){console.error("React Router caught the following error during render",a,e)}render(){return this.state.error!==void 0?Q.createElement(Pn.Provider,{value:this.props.routeContext},Q.createElement(xd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function NA({routeContext:a,match:e,children:i}){let s=Q.useContext(ws);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),Q.createElement(Pn.Provider,{value:a},i)}function IA(a,e=[],i=null,s=null){if(a==null){if(!i)return null;if(i.errors)a=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)a=i.matches;else return null}let o=a,c=i==null?void 0:i.errors;if(c!=null){let p=o.findIndex(y=>y.route.id&&(c==null?void 0:c[y.route.id])!==void 0);ne(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let d=!1,g=-1;if(i)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(g=p),y.route.id){let{loaderData:E,errors:S}=i,C=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!S||S[y.route.id]===void 0);if(y.route.lazy||C){d=!0,g>=0?o=o.slice(0,g+1):o=[o[0]];break}}}return o.reduceRight((p,y,E)=>{let S,C=!1,U=null,L=null;i&&(S=c&&y.route.id?c[y.route.id]:void 0,U=y.route.errorElement||CA,d&&(g<0&&E===0?(hv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,L=null):g===E&&(C=!0,L=y.route.hydrateFallbackElement||null)));let Y=e.concat(o.slice(0,E+1)),G=()=>{let Z;return S?Z=U:C?Z=L:y.route.Component?Z=Q.createElement(y.route.Component,null):y.route.element?Z=y.route.element:Z=p,Q.createElement(NA,{match:y,routeContext:{outlet:p,matches:Y,isDataRoute:i!=null},children:Z})};return i&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?Q.createElement(DA,{location:i.location,revalidation:i.revalidation,component:U,error:S,children:G(),routeContext:{outlet:null,matches:Y,isDataRoute:!0}}):G()},null)}function Od(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function VA(a){let e=Q.useContext(ws);return ne(e,Od(a)),e}function xA(a){let e=Q.useContext(Tc);return ne(e,Od(a)),e}function OA(a){let e=Q.useContext(Pn);return ne(e,Od(a)),e}function Md(a){let e=OA(a),i=e.matches[e.matches.length-1];return ne(i.route.id,`${a} can only be used on routes that contain a unique "id"`),i.route.id}function MA(){return Md("useRouteId")}function UA(){var s;let a=Q.useContext(xd),e=xA("useRouteError"),i=Md("useRouteError");return a!==void 0?a:(s=e.errors)==null?void 0:s[i]}function LA(){let{router:a}=VA("useNavigate"),e=Md("useNavigate"),i=Q.useRef(!1);return uv(()=>{i.current=!0}),Q.useCallback(async(o,c={})=>{Cn(i.current,ov),i.current&&(typeof o=="number"?a.navigate(o):await a.navigate(o,{fromRouteId:e,...c}))},[a,e])}var Hy={};function hv(a,e,i){!e&&!Hy[a]&&(Hy[a]=!0,Cn(!1,i))}Q.memo(PA);function PA({routes:a,future:e,state:i}){return cv(a,void 0,i,e)}function Gy({to:a,replace:e,state:i,relative:s}){ne(Cs(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=Q.useContext(Ln);Cn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=Q.useContext(Pn),{pathname:d}=Rr(),g=Ds(),p=Vd(a,Id(c),d,s==="path"),y=JSON.stringify(p);return Q.useEffect(()=>{g(JSON.parse(y),{replace:e,state:i,relative:s})},[g,y,s,e,i]),null}function dr(a){ne(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function zA({basename:a="/",children:e=null,location:i,navigationType:s="POP",navigator:o,static:c=!1}){ne(!Cs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=a.replace(/^\/*/,"/"),g=Q.useMemo(()=>({basename:d,navigator:o,static:c,future:{}}),[d,o,c]);typeof i=="string"&&(i=ma(i));let{pathname:p="/",search:y="",hash:E="",state:S=null,key:C="default"}=i,U=Q.useMemo(()=>{let L=Mi(p,d);return L==null?null:{location:{pathname:L,search:y,hash:E,state:S,key:C},navigationType:s}},[d,p,y,E,S,C,s]);return Cn(U!=null,`<Router basename="${d}"> is not able to match the URL "${p}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),U==null?null:Q.createElement(Ln.Provider,{value:g},Q.createElement(co.Provider,{children:e,value:U}))}function BA({children:a,location:e}){return RA(rd(a),e)}function rd(a,e=[]){let i=[];return Q.Children.forEach(a,(s,o)=>{if(!Q.isValidElement(s))return;let c=[...e,o];if(s.type===Q.Fragment){i.push.apply(i,rd(s.props.children,c));return}ne(s.type===dr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ne(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=rd(s.props.children,c)),i.push(d)}),i}var Ku="get",Xu="application/x-www-form-urlencoded";function Ac(a){return a!=null&&typeof a.tagName=="string"}function kA(a){return Ac(a)&&a.tagName.toLowerCase()==="button"}function jA(a){return Ac(a)&&a.tagName.toLowerCase()==="form"}function qA(a){return Ac(a)&&a.tagName.toLowerCase()==="input"}function HA(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function GA(a,e){return a.button===0&&(!e||e==="_self")&&!HA(a)}var qu=null;function QA(){if(qu===null)try{new FormData(document.createElement("form"),0),qu=!1}catch{qu=!0}return qu}var FA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Yf(a){return a!=null&&!FA.has(a)?(Cn(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Xu}"`),null):a}function YA(a,e){let i,s,o,c,d;if(jA(a)){let g=a.getAttribute("action");s=g?Mi(g,e):null,i=a.getAttribute("method")||Ku,o=Yf(a.getAttribute("enctype"))||Xu,c=new FormData(a)}else if(kA(a)||qA(a)&&(a.type==="submit"||a.type==="image")){let g=a.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=a.getAttribute("formaction")||g.getAttribute("action");if(s=p?Mi(p,e):null,i=a.getAttribute("formmethod")||g.getAttribute("method")||Ku,o=Yf(a.getAttribute("formenctype"))||Yf(g.getAttribute("enctype"))||Xu,c=new FormData(g,a),!QA()){let{name:y,type:E,value:S}=a;if(E==="image"){let C=y?`${y}.`:"";c.append(`${C}x`,"0"),c.append(`${C}y`,"0")}else y&&c.append(y,S)}}else{if(Ac(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Ku,s=null,o=Xu,d=a}return c&&o==="text/plain"&&(d=c,c=void 0),{action:s,method:i.toLowerCase(),encType:o,formData:c,body:d}}function Ud(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}async function KA(a,e){if(a.id in e)return e[a.id];try{let i=await import(a.module);return e[a.id]=i,i}catch(i){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function XA(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function $A(a,e,i){let s=await Promise.all(a.map(async o=>{let c=e.routes[o.route.id];if(c){let d=await KA(c,i);return d.links?d.links():[]}return[]}));return tS(s.flat(1).filter(XA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Qy(a,e,i,s,o,c){let d=(p,y)=>i[y]?p.route.id!==i[y].route.id:!0,g=(p,y)=>{var E;return i[y].pathname!==p.pathname||((E=i[y].route.path)==null?void 0:E.endsWith("*"))&&i[y].params["*"]!==p.params["*"]};return c==="assets"?e.filter((p,y)=>d(p,y)||g(p,y)):c==="data"?e.filter((p,y)=>{var S;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(d(p,y)||g(p,y))return!0;if(p.route.shouldRevalidate){let C=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((S=i[0])==null?void 0:S.params)||{},nextUrl:new URL(a,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof C=="boolean")return C}return!0}):[]}function ZA(a,e,{includeHydrateFallback:i}={}){return JA(a.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function JA(a){return[...new Set(a)]}function WA(a){let e={},i=Object.keys(a).sort();for(let s of i)e[s]=a[s];return e}function tS(a,e){let i=new Set;return new Set(e),a.reduce((s,o)=>{let c=JSON.stringify(WA(o));return i.has(c)||(i.add(c),s.push({key:c,link:o})),s},[])}function eS(a,e){let i=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return i.pathname==="/"?i.pathname="_root.data":e&&Mi(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.data`:i.pathname=`${i.pathname.replace(/\/$/,"")}.data`,i}function fv(){let a=Q.useContext(ws);return Ud(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function nS(){let a=Q.useContext(Tc);return Ud(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var Ld=Q.createContext(void 0);Ld.displayName="FrameworkContext";function dv(){let a=Q.useContext(Ld);return Ud(a,"You must render this element inside a <HydratedRouter> element"),a}function iS(a,e){let i=Q.useContext(Ld),[s,o]=Q.useState(!1),[c,d]=Q.useState(!1),{onFocus:g,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:S}=e,C=Q.useRef(null);Q.useEffect(()=>{if(a==="render"&&d(!0),a==="viewport"){let Y=Z=>{Z.forEach(rt=>{d(rt.isIntersecting)})},G=new IntersectionObserver(Y,{threshold:.5});return C.current&&G.observe(C.current),()=>{G.disconnect()}}},[a]),Q.useEffect(()=>{if(s){let Y=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(Y)}}},[s]);let U=()=>{o(!0)},L=()=>{o(!1),d(!1)};return i?a!=="intent"?[c,C,{}]:[c,C,{onFocus:Fl(g,U),onBlur:Fl(p,L),onMouseEnter:Fl(y,U),onMouseLeave:Fl(E,L),onTouchStart:Fl(S,U)}]:[!1,C,{}]}function Fl(a,e){return i=>{a&&a(i),i.defaultPrevented||e(i)}}function rS({page:a,...e}){let{router:i}=fv(),s=Q.useMemo(()=>iv(i.routes,a,i.basename),[i.routes,a,i.basename]);return s?Q.createElement(sS,{page:a,matches:s,...e}):null}function aS(a){let{manifest:e,routeModules:i}=dv(),[s,o]=Q.useState([]);return Q.useEffect(()=>{let c=!1;return $A(a,e,i).then(d=>{c||o(d)}),()=>{c=!0}},[a,e,i]),s}function sS({page:a,matches:e,...i}){let s=Rr(),{manifest:o,routeModules:c}=dv(),{basename:d}=fv(),{loaderData:g,matches:p}=nS(),y=Q.useMemo(()=>Qy(a,e,p,o,s,"data"),[a,e,p,o,s]),E=Q.useMemo(()=>Qy(a,e,p,o,s,"assets"),[a,e,p,o,s]),S=Q.useMemo(()=>{if(a===s.pathname+s.search+s.hash)return[];let L=new Set,Y=!1;if(e.forEach(Z=>{var nt;let rt=o.routes[Z.route.id];!rt||!rt.hasLoader||(!y.some(mt=>mt.route.id===Z.route.id)&&Z.route.id in g&&((nt=c[Z.route.id])!=null&&nt.shouldRevalidate)||rt.hasClientLoader?Y=!0:L.add(Z.route.id))}),L.size===0)return[];let G=eS(a,d);return Y&&L.size>0&&G.searchParams.set("_routes",e.filter(Z=>L.has(Z.route.id)).map(Z=>Z.route.id).join(",")),[G.pathname+G.search]},[d,g,s,o,y,e,a,c]),C=Q.useMemo(()=>ZA(E,o),[E,o]),U=aS(E);return Q.createElement(Q.Fragment,null,S.map(L=>Q.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...i})),C.map(L=>Q.createElement("link",{key:L,rel:"modulepreload",href:L,...i})),U.map(({key:L,link:Y})=>Q.createElement("link",{key:L,...Y})))}function lS(...a){return e=>{a.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var mv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{mv&&(window.__reactRouterVersion="7.4.1")}catch{}function oS({basename:a,children:e,window:i}){let s=Q.useRef();s.current==null&&(s.current=$T({window:i,v5Compat:!0}));let o=s.current,[c,d]=Q.useState({action:o.action,location:o.location}),g=Q.useCallback(p=>{Q.startTransition(()=>d(p))},[d]);return Q.useLayoutEffect(()=>o.listen(g),[o,g]),Q.createElement(zA,{basename:a,children:e,location:c.location,navigationType:c.action,navigator:o})}var gv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sc=Q.forwardRef(function({onClick:e,discover:i="render",prefetch:s="none",relative:o,reloadDocument:c,replace:d,state:g,target:p,to:y,preventScrollReset:E,viewTransition:S,...C},U){let{basename:L}=Q.useContext(Ln),Y=typeof y=="string"&&gv.test(y),G,Z=!1;if(typeof y=="string"&&Y&&(G=y,mv))try{let R=new URL(window.location.href),D=y.startsWith("//")?new URL(R.protocol+y):new URL(y),O=Mi(D.pathname,L);D.origin===R.origin&&O!=null?y=O+D.search+D.hash:Z=!0}catch{Cn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let rt=AA(y,{relative:o}),[nt,mt,ht]=iS(s,C),Rt=fS(y,{replace:d,state:g,target:p,preventScrollReset:E,relative:o,viewTransition:S});function x(R){e&&e(R),R.defaultPrevented||Rt(R)}let b=Q.createElement("a",{...C,...ht,href:G||rt,onClick:Z||c?e:x,ref:lS(U,mt),target:p,"data-discover":!Y&&i==="render"?"true":void 0});return nt&&!Y?Q.createElement(Q.Fragment,null,b,Q.createElement(rS,{page:rt})):b});Sc.displayName="Link";var uS=Q.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:s="",end:o=!1,style:c,to:d,viewTransition:g,children:p,...y},E){let S=ho(d,{relative:y.relative}),C=Rr(),U=Q.useContext(Tc),{navigator:L,basename:Y}=Q.useContext(Ln),G=U!=null&&yS(S)&&g===!0,Z=L.encodeLocation?L.encodeLocation(S).pathname:S.pathname,rt=C.pathname,nt=U&&U.navigation&&U.navigation.location?U.navigation.location.pathname:null;i||(rt=rt.toLowerCase(),nt=nt?nt.toLowerCase():null,Z=Z.toLowerCase()),nt&&Y&&(nt=Mi(nt,Y)||nt);const mt=Z!=="/"&&Z.endsWith("/")?Z.length-1:Z.length;let ht=rt===Z||!o&&rt.startsWith(Z)&&rt.charAt(mt)==="/",Rt=nt!=null&&(nt===Z||!o&&nt.startsWith(Z)&&nt.charAt(Z.length)==="/"),x={isActive:ht,isPending:Rt,isTransitioning:G},b=ht?e:void 0,R;typeof s=="function"?R=s(x):R=[s,ht?"active":null,Rt?"pending":null,G?"transitioning":null].filter(Boolean).join(" ");let D=typeof c=="function"?c(x):c;return Q.createElement(Sc,{...y,"aria-current":b,className:R,ref:E,style:D,to:d,viewTransition:g},typeof p=="function"?p(x):p)});uS.displayName="NavLink";var cS=Q.forwardRef(({discover:a="render",fetcherKey:e,navigate:i,reloadDocument:s,replace:o,state:c,method:d=Ku,action:g,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:S,...C},U)=>{let L=gS(),Y=pS(g,{relative:y}),G=d.toLowerCase()==="get"?"get":"post",Z=typeof g=="string"&&gv.test(g),rt=nt=>{if(p&&p(nt),nt.defaultPrevented)return;nt.preventDefault();let mt=nt.nativeEvent.submitter,ht=(mt==null?void 0:mt.getAttribute("formmethod"))||d;L(mt||nt.currentTarget,{fetcherKey:e,method:ht,navigate:i,replace:o,state:c,relative:y,preventScrollReset:E,viewTransition:S})};return Q.createElement("form",{ref:U,method:G,action:Y,onSubmit:s?p:rt,...C,"data-discover":!Z&&a==="render"?"true":void 0})});cS.displayName="Form";function hS(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pv(a){let e=Q.useContext(ws);return ne(e,hS(a)),e}function fS(a,{target:e,replace:i,state:s,preventScrollReset:o,relative:c,viewTransition:d}={}){let g=Ds(),p=Rr(),y=ho(a,{relative:c});return Q.useCallback(E=>{if(GA(E,e)){E.preventDefault();let S=i!==void 0?i:eo(p)===eo(y);g(a,{replace:S,state:s,preventScrollReset:o,relative:c,viewTransition:d})}},[p,g,y,i,s,e,a,o,c,d])}var dS=0,mS=()=>`__${String(++dS)}__`;function gS(){let{router:a}=pv("useSubmit"),{basename:e}=Q.useContext(Ln),i=MA();return Q.useCallback(async(s,o={})=>{let{action:c,method:d,encType:g,formData:p,body:y}=YA(s,e);if(o.navigate===!1){let E=o.fetcherKey||mS();await a.fetch(E,i,o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||d,formEncType:o.encType||g,flushSync:o.flushSync})}else await a.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||d,formEncType:o.encType||g,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[a,e,i])}function pS(a,{relative:e}={}){let{basename:i}=Q.useContext(Ln),s=Q.useContext(Pn);ne(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...ho(a||".",{relative:e})},d=Rr();if(a==null){c.search=d.search;let g=new URLSearchParams(c.search),p=g.getAll("index");if(p.some(E=>E==="")){g.delete("index"),p.filter(S=>S).forEach(S=>g.append("index",S));let E=g.toString();c.search=E?`?${E}`:""}}return(!a||a===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:Vi([i,c.pathname])),eo(c)}function yS(a,e={}){let i=Q.useContext(lv);ne(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=pv("useViewTransitionState"),o=ho(a,{relative:e.relative});if(!i.isTransitioning)return!1;let c=Mi(i.currentLocation.pathname,s)||i.currentLocation.pathname,d=Mi(i.nextLocation.pathname,s)||i.nextLocation.pathname;return nc(o.pathname,d)!=null||nc(o.pathname,c)!=null}new TextEncoder;const yv="/assets/logo-NCsgGCTi.png",_v="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABHNCSVQICAgIfAhkiAAAAKlJREFUSInN0ssNhDAMhOHRVubS0plLYy+JlANs/JhBG8kXAv8XBABgAHyOQbcMwDVnYILXNgp8R9dg3Fxk4neoP22w8GNbgYebTDzdYuDlRgdvH7wSaKOVEA3NBOloJCxDT7gUzeB0NIKn0A/5YJJl+NPv+9ofbYc9GZq5h47S8UqojXcC5Wfbp640GGi6xUTDTQUaarsI/YUPiNEn3NfF9dYKdMd9jn0Bw7MeioVwhJsAAAAASUVORK5CYII=",_S="burger_open",Kf="body_fixed",vS=({isOpen:a,toggleBurger:e})=>{nv.useEffect(()=>{const o=document.querySelector("body");return a?o.classList.add(Kf):o.classList.remove(Kf),()=>{o.classList.remove(Kf)}},[a]);const i=o=>{const c=o.currentTarget.querySelector(".js-burger_content");c&&!c.contains(o.target)&&e()},s=o=>{o.preventDefault();const c=o.currentTarget.getAttribute("data-link"),d=document.getElementById(c);d&&d.scrollIntoView({behavior:"smooth"})};return B.jsx("div",{className:`burger ${a?_S:""}`,onClick:i,children:B.jsxs("div",{className:"burger_content js-burger_content",children:[B.jsx("button",{className:"burger_close-btn",onClick:e,children:B.jsx("img",{className:"burger__close-image",src:_v,alt:"Закрыть"})}),B.jsxs("nav",{className:"burger-nav",children:[B.jsxs("div",{className:"burger-logo",children:[B.jsx("img",{className:"logo",src:yv,alt:"Логотип"}),B.jsx("h3",{className:"burger-title",children:"Уральская сталь"})]}),B.jsxs("ul",{className:"burger-navList",children:[B.jsx("li",{className:"menu-item burger-navItem",children:B.jsx(Sc,{to:"/login",children:"Личный кабинет"})}),B.jsx("li",{className:"menu-item burger-navItem",children:B.jsx("a",{"data-link":"programm",onClick:s,children:"Программы"})}),B.jsx("li",{className:"menu-item burger-navItem",children:B.jsx("a",{"data-link":"love",onClick:s,children:"О нас"})})]})]})]})})},ES=()=>{const[a,e]=Q.useState(!1),i=()=>{e(o=>!o)},s=o=>{o.preventDefault();const c=o.currentTarget.getAttribute("data-link"),d=document.getElementById(c);d&&d.scrollIntoView({behavior:"smooth"})};return B.jsx("header",{className:"header",children:B.jsxs("div",{className:"container",children:[B.jsxs("div",{className:"header-logo",children:[B.jsx("img",{className:"logo",src:yv,alt:"Логотип"}),B.jsx("h3",{className:"header-title",children:"Уральская сталь"})]}),B.jsx("nav",{className:"menu",children:B.jsxs("ul",{className:"menu-list",children:[B.jsx("li",{className:"menu-item",children:B.jsx("a",{href:"#","data-link":"programm",onClick:s,children:"Программы"})}),B.jsx("li",{className:"menu-item",children:B.jsx("a",{href:"#","data-link":"love",onClick:s,children:"О нас"})}),B.jsxs("li",{className:"menu-item",children:[B.jsx(Sc,{to:"/login",children:"Личный кабинет"})," "]})]})}),B.jsx("button",{className:"burger_btn",onClick:i}),B.jsx(vS,{isOpen:a,toggleBurger:i})]})})},TS="/assets/line1-COE_yDv6.png",AS="/assets/orig-DDQEVEjz.jpg",SS=()=>{const a=()=>{const e=document.getElementById("programm");e&&e.scrollIntoView({behavior:"smooth"})};return B.jsx("section",{className:"main-content",children:B.jsxs("div",{className:"container",children:[B.jsx("img",{src:TS,alt:"line",className:"line1"}),B.jsxs("div",{className:"main-info",children:[B.jsx("h1",{className:"main-title",children:"Программа переподготовки сотрудников"}),B.jsx("img",{src:AS,alt:"",className:"main-image"}),B.jsx("p",{className:"main-text",children:"Наша программа профессионального обучения, позволяет сотрудникам получить новые профессии за счёт предприятия. Эта программа помогла десяткам жителей Новотроицка и Орска освоить новые специальности. Новотроицкий политехнический колледж и Орский машиностроительный колледж готовят специалистов для Уральской Стали по различным направлениям, таким как слесарь-ремонтник, электромонтёр, горновой доменной печи и другие."}),B.jsx("div",{className:"main-action",children:B.jsx("button",{className:"button",id:"main-action-button",onClick:a,children:"Зарегистрироваться"})})]})]})})},bS=()=>{};var Fy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv=function(a){const e=[];let i=0;for(let s=0;s<a.length;s++){let o=a.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},RS=function(a){const e=[];let i=0,s=0;for(;i<a.length;){const o=a[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=a[i++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=a[i++],d=a[i++],g=a[i++],p=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const c=a[i++],d=a[i++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Ev={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<a.length;o+=3){const c=a[o],d=o+1<a.length,g=d?a[o+1]:0,p=o+2<a.length,y=p?a[o+2]:0,E=c>>2,S=(c&3)<<4|g>>4;let C=(g&15)<<2|y>>6,U=y&63;p||(U=64,d||(C=64)),s.push(i[E],i[S],i[C],i[U])}return s.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(vv(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):RS(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<a.length;){const c=i[a.charAt(o++)],g=o<a.length?i[a.charAt(o)]:0;++o;const y=o<a.length?i[a.charAt(o)]:64;++o;const S=o<a.length?i[a.charAt(o)]:64;if(++o,c==null||g==null||y==null||S==null)throw new wS;const C=c<<2|g>>4;if(s.push(C),y!==64){const U=g<<4&240|y>>2;if(s.push(U),S!==64){const L=y<<6&192|S;s.push(L)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class wS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CS=function(a){const e=vv(a);return Ev.encodeByteArray(e,!0)},ic=function(a){return CS(a).replace(/\./g,"")},DS=function(a){try{return Ev.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS=()=>NS().__FIREBASE_DEFAULTS__,VS=()=>{if(typeof process>"u"||typeof Fy>"u")return;const a=Fy.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},xS=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&DS(a[1]);return e&&JSON.parse(e)},Pd=()=>{try{return bS()||IS()||VS()||xS()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},OS=a=>{var e,i;return(i=(e=Pd())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[a]},MS=a=>{const e=OS(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},Tv=()=>{var a;return(a=Pd())===null||a===void 0?void 0:a.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=a.iat||0,c=a.sub||a.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},a);return[ic(JSON.stringify(i)),ic(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zS(){var a;const e=(a=Pd())===null||a===void 0?void 0:a.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function BS(){return!zS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kS(){try{return typeof indexedDB=="object"}catch{return!1}}function jS(){return new Promise((a,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var c;e(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS="FirebaseError";class Ns extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=qS,Object.setPrototypeOf(this,Ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Av.prototype.create)}}class Av{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?HS(c,s):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Ns(o,g,s)}}function HS(a,e){return a.replace(GS,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const GS=/\{\$([^}]+)}/g;function rc(a,e){if(a===e)return!0;const i=Object.keys(a),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const c=a[o],d=e[o];if(Yy(c)&&Yy(d)){if(!rc(c,d))return!1}else if(c!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function Yy(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(a){return a&&a._delegate?a._delegate:a}class no{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new US;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(YS(e))try{this.getOrInitializeService({instanceIdentifier:ua})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=ua){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ua){return this.instances.has(e)}getOptions(e=ua){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&d.resolve(o)}return o}onInit(e,i){var s;const o=this.normalizeInstanceIdentifier(i),c=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;c.add(e),this.onInitCallbacks.set(o,c);const d=this.instances.get(o);return d&&e(d,o),()=>{c.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:FS(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ua){return this.component?this.component.multipleInstances?e:ua:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function FS(a){return a===ua?void 0:a}function YS(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new QS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Pt||(Pt={}));const XS={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},$S=Pt.INFO,ZS={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},JS=(a,e,...i)=>{if(e<a.logLevel)return;const s=new Date().toISOString(),o=ZS[e];if(o)console[o](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sv{constructor(e){this.name=e,this._logLevel=$S,this._logHandler=JS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?XS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...e),this._logHandler(this,Pt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...e),this._logHandler(this,Pt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...e),this._logHandler(this,Pt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...e),this._logHandler(this,Pt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...e),this._logHandler(this,Pt.ERROR,...e)}}const WS=(a,e)=>e.some(i=>a instanceof i);let Ky,Xy;function tb(){return Ky||(Ky=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eb(){return Xy||(Xy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bv=new WeakMap,ad=new WeakMap,Rv=new WeakMap,Xf=new WeakMap,zd=new WeakMap;function nb(a){const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("success",c),a.removeEventListener("error",d)},c=()=>{i(gr(a.result)),o()},d=()=>{s(a.error),o()};a.addEventListener("success",c),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&bv.set(i,a)}).catch(()=>{}),zd.set(e,a),e}function ib(a){if(ad.has(a))return;const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("complete",c),a.removeEventListener("error",d),a.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",c),a.addEventListener("error",d),a.addEventListener("abort",d)});ad.set(a,e)}let sd={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return ad.get(a);if(e==="objectStoreNames")return a.objectStoreNames||Rv.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return gr(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function rb(a){sd=a(sd)}function ab(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=a.call($f(this),e,...i);return Rv.set(s,e.sort?e.sort():[e]),gr(s)}:eb().includes(a)?function(...e){return a.apply($f(this),e),gr(bv.get(this))}:function(...e){return gr(a.apply($f(this),e))}}function sb(a){return typeof a=="function"?ab(a):(a instanceof IDBTransaction&&ib(a),WS(a,tb())?new Proxy(a,sd):a)}function gr(a){if(a instanceof IDBRequest)return nb(a);if(Xf.has(a))return Xf.get(a);const e=sb(a);return e!==a&&(Xf.set(a,e),zd.set(e,a)),e}const $f=a=>zd.get(a);function lb(a,e,{blocked:i,upgrade:s,blocking:o,terminated:c}={}){const d=indexedDB.open(a,e),g=gr(d);return s&&d.addEventListener("upgradeneeded",p=>{s(gr(d.result),p.oldVersion,p.newVersion,gr(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const ob=["get","getKey","getAll","getAllKeys","count"],ub=["put","add","delete","clear"],Zf=new Map;function $y(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(Zf.get(e))return Zf.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=ub.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||ob.includes(i)))return;const c=async function(d,...g){const p=this.transaction(d,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),o&&p.done]))[0]};return Zf.set(e,c),c}rb(a=>({...a,get:(e,i,s)=>$y(e,i)||a.get(e,i,s),has:(e,i)=>!!$y(e,i)||a.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(hb(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function hb(a){const e=a.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ld="@firebase/app",Zy="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui=new Sv("@firebase/app"),fb="@firebase/app-compat",db="@firebase/analytics-compat",mb="@firebase/analytics",gb="@firebase/app-check-compat",pb="@firebase/app-check",yb="@firebase/auth",_b="@firebase/auth-compat",vb="@firebase/database",Eb="@firebase/data-connect",Tb="@firebase/database-compat",Ab="@firebase/functions",Sb="@firebase/functions-compat",bb="@firebase/installations",Rb="@firebase/installations-compat",wb="@firebase/messaging",Cb="@firebase/messaging-compat",Db="@firebase/performance",Nb="@firebase/performance-compat",Ib="@firebase/remote-config",Vb="@firebase/remote-config-compat",xb="@firebase/storage",Ob="@firebase/storage-compat",Mb="@firebase/firestore",Ub="@firebase/vertexai",Lb="@firebase/firestore-compat",Pb="firebase",zb="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const od="[DEFAULT]",Bb={[ld]:"fire-core",[fb]:"fire-core-compat",[mb]:"fire-analytics",[db]:"fire-analytics-compat",[pb]:"fire-app-check",[gb]:"fire-app-check-compat",[yb]:"fire-auth",[_b]:"fire-auth-compat",[vb]:"fire-rtdb",[Eb]:"fire-data-connect",[Tb]:"fire-rtdb-compat",[Ab]:"fire-fn",[Sb]:"fire-fn-compat",[bb]:"fire-iid",[Rb]:"fire-iid-compat",[wb]:"fire-fcm",[Cb]:"fire-fcm-compat",[Db]:"fire-perf",[Nb]:"fire-perf-compat",[Ib]:"fire-rc",[Vb]:"fire-rc-compat",[xb]:"fire-gcs",[Ob]:"fire-gcs-compat",[Mb]:"fire-fst",[Lb]:"fire-fst-compat",[Ub]:"fire-vertex","fire-js":"fire-js",[Pb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ac=new Map,kb=new Map,ud=new Map;function Jy(a,e){try{a.container.addComponent(e)}catch(i){Ui.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function sc(a){const e=a.name;if(ud.has(e))return Ui.debug(`There were multiple attempts to register component ${e}.`),!1;ud.set(e,a);for(const i of ac.values())Jy(i,a);for(const i of kb.values())Jy(i,a);return!0}function jb(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function qb(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pr=new Av("app","Firebase",Hb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new no("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb=zb;function wv(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const s=Object.assign({name:od,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw pr.create("bad-app-name",{appName:String(o)});if(i||(i=Tv()),!i)throw pr.create("no-options");const c=ac.get(o);if(c){if(rc(i,c.options)&&rc(s,c.config))return c;throw pr.create("duplicate-app",{appName:o})}const d=new KS(o);for(const p of ud.values())d.addComponent(p);const g=new Gb(i,s,d);return ac.set(o,g),g}function Fb(a=od){const e=ac.get(a);if(!e&&a===od&&Tv())return wv();if(!e)throw pr.create("no-app",{appName:a});return e}function gs(a,e,i){var s;let o=(s=Bb[a])!==null&&s!==void 0?s:a;i&&(o+=`-${i}`);const c=o.match(/\s|\//),d=e.match(/\s|\//);if(c||d){const g=[`Unable to register library "${o}" with version "${e}":`];c&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ui.warn(g.join(" "));return}sc(new no(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb="firebase-heartbeat-database",Kb=1,io="firebase-heartbeat-store";let Jf=null;function Cv(){return Jf||(Jf=lb(Yb,Kb,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(io)}catch(i){console.warn(i)}}}}).catch(a=>{throw pr.create("idb-open",{originalErrorMessage:a.message})})),Jf}async function Xb(a){try{const i=(await Cv()).transaction(io),s=await i.objectStore(io).get(Dv(a));return await i.done,s}catch(e){if(e instanceof Ns)Ui.warn(e.message);else{const i=pr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ui.warn(i.message)}}}async function Wy(a,e){try{const s=(await Cv()).transaction(io,"readwrite");await s.objectStore(io).put(e,Dv(a)),await s.done}catch(i){if(i instanceof Ns)Ui.warn(i.message);else{const s=pr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Ui.warn(s.message)}}}function Dv(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b=1024,Zb=30;class Jb{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new t1(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=t_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>Zb){const d=e1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Ui.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=t_(),{heartbeatsToSend:s,unsentEntries:o}=Wb(this._heartbeatsCache.heartbeats),c=ic(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return Ui.warn(i),""}}}function t_(){return new Date().toISOString().substring(0,10)}function Wb(a,e=$b){const i=[];let s=a.slice();for(const o of a){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),e_(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),e_(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class t1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kS()?jS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Xb(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Wy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Wy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function e_(a){return ic(JSON.stringify({version:2,heartbeats:a})).length}function e1(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(a){sc(new no("platform-logger",e=>new cb(e),"PRIVATE")),sc(new no("heartbeat",e=>new Jb(e),"PRIVATE")),gs(ld,Zy,a),gs(ld,Zy,"esm2017"),gs("fire-js","")}n1("");var i1="firebase",r1="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gs(i1,r1,"app");var n_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yr,Nv;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,b){function R(){}R.prototype=b.prototype,x.D=b.prototype,x.prototype=new R,x.prototype.constructor=x,x.C=function(D,O,P){for(var N=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)N[ue-2]=arguments[ue];return b.prototype[O].apply(D,N)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,b,R){R||(R=0);var D=Array(16);if(typeof b=="string")for(var O=0;16>O;++O)D[O]=b.charCodeAt(R++)|b.charCodeAt(R++)<<8|b.charCodeAt(R++)<<16|b.charCodeAt(R++)<<24;else for(O=0;16>O;++O)D[O]=b[R++]|b[R++]<<8|b[R++]<<16|b[R++]<<24;b=x.g[0],R=x.g[1],O=x.g[2];var P=x.g[3],N=b+(P^R&(O^P))+D[0]+3614090360&4294967295;b=R+(N<<7&4294967295|N>>>25),N=P+(O^b&(R^O))+D[1]+3905402710&4294967295,P=b+(N<<12&4294967295|N>>>20),N=O+(R^P&(b^R))+D[2]+606105819&4294967295,O=P+(N<<17&4294967295|N>>>15),N=R+(b^O&(P^b))+D[3]+3250441966&4294967295,R=O+(N<<22&4294967295|N>>>10),N=b+(P^R&(O^P))+D[4]+4118548399&4294967295,b=R+(N<<7&4294967295|N>>>25),N=P+(O^b&(R^O))+D[5]+1200080426&4294967295,P=b+(N<<12&4294967295|N>>>20),N=O+(R^P&(b^R))+D[6]+2821735955&4294967295,O=P+(N<<17&4294967295|N>>>15),N=R+(b^O&(P^b))+D[7]+4249261313&4294967295,R=O+(N<<22&4294967295|N>>>10),N=b+(P^R&(O^P))+D[8]+1770035416&4294967295,b=R+(N<<7&4294967295|N>>>25),N=P+(O^b&(R^O))+D[9]+2336552879&4294967295,P=b+(N<<12&4294967295|N>>>20),N=O+(R^P&(b^R))+D[10]+4294925233&4294967295,O=P+(N<<17&4294967295|N>>>15),N=R+(b^O&(P^b))+D[11]+2304563134&4294967295,R=O+(N<<22&4294967295|N>>>10),N=b+(P^R&(O^P))+D[12]+1804603682&4294967295,b=R+(N<<7&4294967295|N>>>25),N=P+(O^b&(R^O))+D[13]+4254626195&4294967295,P=b+(N<<12&4294967295|N>>>20),N=O+(R^P&(b^R))+D[14]+2792965006&4294967295,O=P+(N<<17&4294967295|N>>>15),N=R+(b^O&(P^b))+D[15]+1236535329&4294967295,R=O+(N<<22&4294967295|N>>>10),N=b+(O^P&(R^O))+D[1]+4129170786&4294967295,b=R+(N<<5&4294967295|N>>>27),N=P+(R^O&(b^R))+D[6]+3225465664&4294967295,P=b+(N<<9&4294967295|N>>>23),N=O+(b^R&(P^b))+D[11]+643717713&4294967295,O=P+(N<<14&4294967295|N>>>18),N=R+(P^b&(O^P))+D[0]+3921069994&4294967295,R=O+(N<<20&4294967295|N>>>12),N=b+(O^P&(R^O))+D[5]+3593408605&4294967295,b=R+(N<<5&4294967295|N>>>27),N=P+(R^O&(b^R))+D[10]+38016083&4294967295,P=b+(N<<9&4294967295|N>>>23),N=O+(b^R&(P^b))+D[15]+3634488961&4294967295,O=P+(N<<14&4294967295|N>>>18),N=R+(P^b&(O^P))+D[4]+3889429448&4294967295,R=O+(N<<20&4294967295|N>>>12),N=b+(O^P&(R^O))+D[9]+568446438&4294967295,b=R+(N<<5&4294967295|N>>>27),N=P+(R^O&(b^R))+D[14]+3275163606&4294967295,P=b+(N<<9&4294967295|N>>>23),N=O+(b^R&(P^b))+D[3]+4107603335&4294967295,O=P+(N<<14&4294967295|N>>>18),N=R+(P^b&(O^P))+D[8]+1163531501&4294967295,R=O+(N<<20&4294967295|N>>>12),N=b+(O^P&(R^O))+D[13]+2850285829&4294967295,b=R+(N<<5&4294967295|N>>>27),N=P+(R^O&(b^R))+D[2]+4243563512&4294967295,P=b+(N<<9&4294967295|N>>>23),N=O+(b^R&(P^b))+D[7]+1735328473&4294967295,O=P+(N<<14&4294967295|N>>>18),N=R+(P^b&(O^P))+D[12]+2368359562&4294967295,R=O+(N<<20&4294967295|N>>>12),N=b+(R^O^P)+D[5]+4294588738&4294967295,b=R+(N<<4&4294967295|N>>>28),N=P+(b^R^O)+D[8]+2272392833&4294967295,P=b+(N<<11&4294967295|N>>>21),N=O+(P^b^R)+D[11]+1839030562&4294967295,O=P+(N<<16&4294967295|N>>>16),N=R+(O^P^b)+D[14]+4259657740&4294967295,R=O+(N<<23&4294967295|N>>>9),N=b+(R^O^P)+D[1]+2763975236&4294967295,b=R+(N<<4&4294967295|N>>>28),N=P+(b^R^O)+D[4]+1272893353&4294967295,P=b+(N<<11&4294967295|N>>>21),N=O+(P^b^R)+D[7]+4139469664&4294967295,O=P+(N<<16&4294967295|N>>>16),N=R+(O^P^b)+D[10]+3200236656&4294967295,R=O+(N<<23&4294967295|N>>>9),N=b+(R^O^P)+D[13]+681279174&4294967295,b=R+(N<<4&4294967295|N>>>28),N=P+(b^R^O)+D[0]+3936430074&4294967295,P=b+(N<<11&4294967295|N>>>21),N=O+(P^b^R)+D[3]+3572445317&4294967295,O=P+(N<<16&4294967295|N>>>16),N=R+(O^P^b)+D[6]+76029189&4294967295,R=O+(N<<23&4294967295|N>>>9),N=b+(R^O^P)+D[9]+3654602809&4294967295,b=R+(N<<4&4294967295|N>>>28),N=P+(b^R^O)+D[12]+3873151461&4294967295,P=b+(N<<11&4294967295|N>>>21),N=O+(P^b^R)+D[15]+530742520&4294967295,O=P+(N<<16&4294967295|N>>>16),N=R+(O^P^b)+D[2]+3299628645&4294967295,R=O+(N<<23&4294967295|N>>>9),N=b+(O^(R|~P))+D[0]+4096336452&4294967295,b=R+(N<<6&4294967295|N>>>26),N=P+(R^(b|~O))+D[7]+1126891415&4294967295,P=b+(N<<10&4294967295|N>>>22),N=O+(b^(P|~R))+D[14]+2878612391&4294967295,O=P+(N<<15&4294967295|N>>>17),N=R+(P^(O|~b))+D[5]+4237533241&4294967295,R=O+(N<<21&4294967295|N>>>11),N=b+(O^(R|~P))+D[12]+1700485571&4294967295,b=R+(N<<6&4294967295|N>>>26),N=P+(R^(b|~O))+D[3]+2399980690&4294967295,P=b+(N<<10&4294967295|N>>>22),N=O+(b^(P|~R))+D[10]+4293915773&4294967295,O=P+(N<<15&4294967295|N>>>17),N=R+(P^(O|~b))+D[1]+2240044497&4294967295,R=O+(N<<21&4294967295|N>>>11),N=b+(O^(R|~P))+D[8]+1873313359&4294967295,b=R+(N<<6&4294967295|N>>>26),N=P+(R^(b|~O))+D[15]+4264355552&4294967295,P=b+(N<<10&4294967295|N>>>22),N=O+(b^(P|~R))+D[6]+2734768916&4294967295,O=P+(N<<15&4294967295|N>>>17),N=R+(P^(O|~b))+D[13]+1309151649&4294967295,R=O+(N<<21&4294967295|N>>>11),N=b+(O^(R|~P))+D[4]+4149444226&4294967295,b=R+(N<<6&4294967295|N>>>26),N=P+(R^(b|~O))+D[11]+3174756917&4294967295,P=b+(N<<10&4294967295|N>>>22),N=O+(b^(P|~R))+D[2]+718787259&4294967295,O=P+(N<<15&4294967295|N>>>17),N=R+(P^(O|~b))+D[9]+3951481745&4294967295,x.g[0]=x.g[0]+b&4294967295,x.g[1]=x.g[1]+(O+(N<<21&4294967295|N>>>11))&4294967295,x.g[2]=x.g[2]+O&4294967295,x.g[3]=x.g[3]+P&4294967295}s.prototype.u=function(x,b){b===void 0&&(b=x.length);for(var R=b-this.blockSize,D=this.B,O=this.h,P=0;P<b;){if(O==0)for(;P<=R;)o(this,x,P),P+=this.blockSize;if(typeof x=="string"){for(;P<b;)if(D[O++]=x.charCodeAt(P++),O==this.blockSize){o(this,D),O=0;break}}else for(;P<b;)if(D[O++]=x[P++],O==this.blockSize){o(this,D),O=0;break}}this.h=O,this.o+=b},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var b=1;b<x.length-8;++b)x[b]=0;var R=8*this.o;for(b=x.length-8;b<x.length;++b)x[b]=R&255,R/=256;for(this.u(x),x=Array(16),b=R=0;4>b;++b)for(var D=0;32>D;D+=8)x[R++]=this.g[b]>>>D&255;return x};function c(x,b){var R=g;return Object.prototype.hasOwnProperty.call(R,x)?R[x]:R[x]=b(x)}function d(x,b){this.h=b;for(var R=[],D=!0,O=x.length-1;0<=O;O--){var P=x[O]|0;D&&P==b||(R[O]=P,D=!1)}this.g=R}var g={};function p(x){return-128<=x&&128>x?c(x,function(b){return new d([b|0],0>b?-1:0)}):new d([x|0],0>x?-1:0)}function y(x){if(isNaN(x)||!isFinite(x))return S;if(0>x)return G(y(-x));for(var b=[],R=1,D=0;x>=R;D++)b[D]=x/R|0,R*=4294967296;return new d(b,0)}function E(x,b){if(x.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(x.charAt(0)=="-")return G(E(x.substring(1),b));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(b,8)),D=S,O=0;O<x.length;O+=8){var P=Math.min(8,x.length-O),N=parseInt(x.substring(O,O+P),b);8>P?(P=y(Math.pow(b,P)),D=D.j(P).add(y(N))):(D=D.j(R),D=D.add(y(N)))}return D}var S=p(0),C=p(1),U=p(16777216);a=d.prototype,a.m=function(){if(Y(this))return-G(this).m();for(var x=0,b=1,R=0;R<this.g.length;R++){var D=this.i(R);x+=(0<=D?D:4294967296+D)*b,b*=4294967296}return x},a.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(L(this))return"0";if(Y(this))return"-"+G(this).toString(x);for(var b=y(Math.pow(x,6)),R=this,D="";;){var O=mt(R,b).g;R=Z(R,O.j(b));var P=((0<R.g.length?R.g[0]:R.h)>>>0).toString(x);if(R=O,L(R))return P+D;for(;6>P.length;)P="0"+P;D=P+D}},a.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function L(x){if(x.h!=0)return!1;for(var b=0;b<x.g.length;b++)if(x.g[b]!=0)return!1;return!0}function Y(x){return x.h==-1}a.l=function(x){return x=Z(this,x),Y(x)?-1:L(x)?0:1};function G(x){for(var b=x.g.length,R=[],D=0;D<b;D++)R[D]=~x.g[D];return new d(R,~x.h).add(C)}a.abs=function(){return Y(this)?G(this):this},a.add=function(x){for(var b=Math.max(this.g.length,x.g.length),R=[],D=0,O=0;O<=b;O++){var P=D+(this.i(O)&65535)+(x.i(O)&65535),N=(P>>>16)+(this.i(O)>>>16)+(x.i(O)>>>16);D=N>>>16,P&=65535,N&=65535,R[O]=N<<16|P}return new d(R,R[R.length-1]&-2147483648?-1:0)};function Z(x,b){return x.add(G(b))}a.j=function(x){if(L(this)||L(x))return S;if(Y(this))return Y(x)?G(this).j(G(x)):G(G(this).j(x));if(Y(x))return G(this.j(G(x)));if(0>this.l(U)&&0>x.l(U))return y(this.m()*x.m());for(var b=this.g.length+x.g.length,R=[],D=0;D<2*b;D++)R[D]=0;for(D=0;D<this.g.length;D++)for(var O=0;O<x.g.length;O++){var P=this.i(D)>>>16,N=this.i(D)&65535,ue=x.i(O)>>>16,ae=x.i(O)&65535;R[2*D+2*O]+=N*ae,rt(R,2*D+2*O),R[2*D+2*O+1]+=P*ae,rt(R,2*D+2*O+1),R[2*D+2*O+1]+=N*ue,rt(R,2*D+2*O+1),R[2*D+2*O+2]+=P*ue,rt(R,2*D+2*O+2)}for(D=0;D<b;D++)R[D]=R[2*D+1]<<16|R[2*D];for(D=b;D<2*b;D++)R[D]=0;return new d(R,0)};function rt(x,b){for(;(x[b]&65535)!=x[b];)x[b+1]+=x[b]>>>16,x[b]&=65535,b++}function nt(x,b){this.g=x,this.h=b}function mt(x,b){if(L(b))throw Error("division by zero");if(L(x))return new nt(S,S);if(Y(x))return b=mt(G(x),b),new nt(G(b.g),G(b.h));if(Y(b))return b=mt(x,G(b)),new nt(G(b.g),b.h);if(30<x.g.length){if(Y(x)||Y(b))throw Error("slowDivide_ only works with positive integers.");for(var R=C,D=b;0>=D.l(x);)R=ht(R),D=ht(D);var O=Rt(R,1),P=Rt(D,1);for(D=Rt(D,2),R=Rt(R,2);!L(D);){var N=P.add(D);0>=N.l(x)&&(O=O.add(R),P=N),D=Rt(D,1),R=Rt(R,1)}return b=Z(x,O.j(b)),new nt(O,b)}for(O=S;0<=x.l(b);){for(R=Math.max(1,Math.floor(x.m()/b.m())),D=Math.ceil(Math.log(R)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),P=y(R),N=P.j(b);Y(N)||0<N.l(x);)R-=D,P=y(R),N=P.j(b);L(P)&&(P=C),O=O.add(P),x=Z(x,N)}return new nt(O,x)}a.A=function(x){return mt(this,x).h},a.and=function(x){for(var b=Math.max(this.g.length,x.g.length),R=[],D=0;D<b;D++)R[D]=this.i(D)&x.i(D);return new d(R,this.h&x.h)},a.or=function(x){for(var b=Math.max(this.g.length,x.g.length),R=[],D=0;D<b;D++)R[D]=this.i(D)|x.i(D);return new d(R,this.h|x.h)},a.xor=function(x){for(var b=Math.max(this.g.length,x.g.length),R=[],D=0;D<b;D++)R[D]=this.i(D)^x.i(D);return new d(R,this.h^x.h)};function ht(x){for(var b=x.g.length+1,R=[],D=0;D<b;D++)R[D]=x.i(D)<<1|x.i(D-1)>>>31;return new d(R,x.h)}function Rt(x,b){var R=b>>5;b%=32;for(var D=x.g.length-R,O=[],P=0;P<D;P++)O[P]=0<b?x.i(P+R)>>>b|x.i(P+R+1)<<32-b:x.i(P+R);return new d(O,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Nv=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=E,yr=d}).apply(typeof n_<"u"?n_:typeof self<"u"?self:typeof window<"u"?window:{});var Hu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Iv,Yl,Vv,$u,cd,xv,Ov,Mv;(function(){var a,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hu=="object"&&Hu];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var _=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var z=u[A];if(!(z in _))break t;_=_[z]}u=u[u.length-1],A=_[u],m=m(A),m!=A&&m!=null&&e(_,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var _=0,A=!1,z={next:function(){if(!A&&_<u.length){var F=_++;return{value:m(F,u[F]),done:!1}}return A=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(u){return u||function(){return c(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function E(u,m,_){return u.call.apply(u.bind,arguments)}function S(u,m,_){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,A),u.apply(m,z)}}return function(){return u.apply(m,arguments)}}function C(u,m,_){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,C.apply(null,arguments)}function U(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function L(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(A,z,F){for(var at=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)at[Ot-2]=arguments[Ot];return m.prototype[z].apply(A,at)}}function Y(u){const m=u.length;if(0<m){const _=Array(m);for(let A=0;A<m;A++)_[A]=u[A];return _}return[]}function G(u,m){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(p(A)){const z=u.length||0,F=A.length||0;u.length=z+F;for(let at=0;at<F;at++)u[z+at]=A[at]}else u.push(A)}}class Z{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function rt(u){return/^[\s\xa0]*$/.test(u)}function nt(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function mt(u){return mt[" "](u),u}mt[" "]=function(){};var ht=nt().indexOf("Gecko")!=-1&&!(nt().toLowerCase().indexOf("webkit")!=-1&&nt().indexOf("Edge")==-1)&&!(nt().indexOf("Trident")!=-1||nt().indexOf("MSIE")!=-1)&&nt().indexOf("Edge")==-1;function Rt(u,m,_){for(const A in u)m.call(_,u[A],A,u)}function x(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function b(u){const m={};for(const _ in u)m[_]=u[_];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(u,m){let _,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(_ in A)u[_]=A[_];for(let F=0;F<R.length;F++)_=R[F],Object.prototype.hasOwnProperty.call(A,_)&&(u[_]=A[_])}}function O(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function P(u){g.setTimeout(()=>{throw u},0)}function N(){var u=Bt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ue{constructor(){this.h=this.g=null}add(m,_){const A=ae.get();A.set(m,_),this.h?this.h.next=A:this.g=A,this.h=A}}var ae=new Z(()=>new K,u=>u.reset());class K{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let st,dt=!1,Bt=new ue,I=()=>{const u=g.Promise.resolve(void 0);st=()=>{u.then(et)}};var et=()=>{for(var u;u=N();){try{u.h.call(u.g)}catch(_){P(_)}var m=ae;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}dt=!1};function lt(){this.s=this.s,this.C=this.C}lt.prototype.s=!1,lt.prototype.ma=function(){this.s||(this.s=!0,this.N())},lt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function it(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}it.prototype.h=function(){this.defaultPrevented=!0};var pt=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};g.addEventListener("test",_,m),g.removeEventListener("test",_,m)}catch{}return u}();function Dt(u,m){if(it.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(ht){t:{try{mt(m.nodeName);var z=!0;break t}catch{}z=!1}z||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Tt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Dt.aa.h.call(this)}}L(Dt,it);var Tt={2:"touch",3:"pen",4:"mouse"};Dt.prototype.h=function(){Dt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ce="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function zn(u,m,_,A,z){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!A,this.ha=z,this.key=++Zt,this.da=this.fa=!1}function zi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ai(u){this.src=u,this.g={},this.h=0}ai.prototype.add=function(u,m,_,A,z){var F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);var at=Cr(u,m,A,z);return-1<at?(m=u[at],_||(m.fa=!1)):(m=new zn(m,this.src,F,!!A,z),m.fa=_,u.push(m)),m};function wr(u,m){var _=m.type;if(_ in u.g){var A=u.g[_],z=Array.prototype.indexOf.call(A,m,void 0),F;(F=0<=z)&&Array.prototype.splice.call(A,z,1),F&&(zi(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Cr(u,m,_,A){for(var z=0;z<u.length;++z){var F=u[z];if(!F.da&&F.listener==m&&F.capture==!!_&&F.ha==A)return z}return-1}var Dr="closure_lm_"+(1e6*Math.random()|0),Us={};function _o(u,m,_,A,z){if(Array.isArray(m)){for(var F=0;F<m.length;F++)_o(u,m[F],_,A,z);return null}return _=vo(_),u&&u[Ce]?u.K(m,_,y(A)?!!A.capture:!1,z):dn(u,m,_,!1,A,z)}function dn(u,m,_,A,z,F){if(!m)throw Error("Invalid event type");var at=y(z)?!!z.capture:!!z,Ot=Ea(u);if(Ot||(u[Dr]=Ot=new ai(u)),_=Ot.add(m,_,A,at,F),_.proxy)return _;if(A=Bc(),_.proxy=A,A.src=u,A.listener=_,u.addEventListener)pt||(z=at),z===void 0&&(z=!1),u.addEventListener(m.toString(),A,z);else if(u.attachEvent)u.attachEvent(Nr(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Bc(){function u(_){return m.call(u.src,u.listener,_)}const m=kc;return u}function Ls(u,m,_,A,z){if(Array.isArray(m))for(var F=0;F<m.length;F++)Ls(u,m[F],_,A,z);else A=y(A)?!!A.capture:!!A,_=vo(_),u&&u[Ce]?(u=u.i,m=String(m).toString(),m in u.g&&(F=u.g[m],_=Cr(F,_,A,z),-1<_&&(zi(F[_]),Array.prototype.splice.call(F,_,1),F.length==0&&(delete u.g[m],u.h--)))):u&&(u=Ea(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Cr(m,_,A,z)),(_=-1<u?m[u]:null)&&va(_))}function va(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ce])wr(m.i,u);else{var _=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(_,A,u.capture):m.detachEvent?m.detachEvent(Nr(_),A):m.addListener&&m.removeListener&&m.removeListener(A),(_=Ea(m))?(wr(_,u),_.h==0&&(_.src=null,m[Dr]=null)):zi(u)}}}function Nr(u){return u in Us?Us[u]:Us[u]="on"+u}function kc(u,m){if(u.da)u=!0;else{m=new Dt(m,this);var _=u.listener,A=u.ha||u.src;u.fa&&va(u),u=_.call(A,m)}return u}function Ea(u){return u=u[Dr],u instanceof ai?u:null}var Ps="__closure_events_fn_"+(1e9*Math.random()>>>0);function vo(u){return typeof u=="function"?u:(u[Ps]||(u[Ps]=function(m){return u.handleEvent(m)}),u[Ps])}function se(){lt.call(this),this.i=new ai(this),this.M=this,this.F=null}L(se,lt),se.prototype[Ce]=!0,se.prototype.removeEventListener=function(u,m,_,A){Ls(this,u,m,_,A)};function Ht(u,m){var _,A=u.F;if(A)for(_=[];A;A=A.F)_.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new it(m,u);else if(m instanceof it)m.target=m.target||u;else{var z=m;m=new it(A,u),D(m,z)}if(z=!0,_)for(var F=_.length-1;0<=F;F--){var at=m.g=_[F];z=nn(at,A,!0,m)&&z}if(at=m.g=u,z=nn(at,A,!0,m)&&z,z=nn(at,A,!1,m)&&z,_)for(F=0;F<_.length;F++)at=m.g=_[F],z=nn(at,A,!1,m)&&z}se.prototype.N=function(){if(se.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],A=0;A<_.length;A++)zi(_[A]);delete u.g[m],u.h--}}this.F=null},se.prototype.K=function(u,m,_,A){return this.i.add(String(u),m,!1,_,A)},se.prototype.L=function(u,m,_,A){return this.i.add(String(u),m,!0,_,A)};function nn(u,m,_,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var z=!0,F=0;F<m.length;++F){var at=m[F];if(at&&!at.da&&at.capture==_){var Ot=at.listener,Te=at.ha||at.src;at.fa&&wr(u.i,at),z=Ot.call(Te,A)!==!1&&z}}return z&&!A.defaultPrevented}function qe(u,m,_){if(typeof u=="function")_&&(u=C(u,_));else if(u&&typeof u.handleEvent=="function")u=C(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function Eo(u){u.g=qe(()=>{u.g=null,u.i&&(u.i=!1,Eo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class jc extends lt{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Eo(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ir(u){lt.call(this),this.h=u,this.g={}}L(Ir,lt);var Vr=[];function xr(u){Rt(u.g,function(m,_){this.g.hasOwnProperty(_)&&va(m)},u),u.g={}}Ir.prototype.N=function(){Ir.aa.N.call(this),xr(this)},Ir.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dn=g.JSON.stringify,Ta=g.JSON.parse,Or=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function zs(){}zs.prototype.h=null;function Bs(u){return u.h||(u.h=u.i())}function ks(){}var si={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function li(){it.call(this,"d")}L(li,it);function js(){it.call(this,"c")}L(js,it);var Bn={},qs=null;function Bi(){return qs=qs||new se}Bn.La="serverreachability";function Aa(u){it.call(this,Bn.La,u)}L(Aa,it);function ki(u){const m=Bi();Ht(m,new Aa(m))}Bn.STAT_EVENT="statevent";function To(u,m){it.call(this,Bn.STAT_EVENT,u),this.stat=m}L(To,it);function te(u){const m=Bi();Ht(m,new To(m,u))}Bn.Ma="timingevent";function Ee(u,m){it.call(this,Bn.Ma,u),this.size=m}L(Ee,it);function me(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function mn(){this.g=!0}mn.prototype.xa=function(){this.g=!1};function Hs(u,m,_,A,z,F){u.info(function(){if(u.g)if(F)for(var at="",Ot=F.split("&"),Te=0;Te<Ot.length;Te++){var Mt=Ot[Te].split("=");if(1<Mt.length){var Ne=Mt[0];Mt=Mt[1];var Ae=Ne.split("_");at=2<=Ae.length&&Ae[1]=="type"?at+(Ne+"="+Mt+"&"):at+(Ne+"=redacted&")}}else at=null;else at=F;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+m+`
`+_+`
`+at})}function qc(u,m,_,A,z,F,at){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+m+`
`+_+`
`+F+" "+at})}function ji(u,m,_,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Mr(u,_)+(A?" "+A:"")})}function Ao(u,m){u.info(function(){return"TIMEOUT: "+m})}mn.prototype.info=function(){};function Mr(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var A=_[u];if(!(2>A.length)){var z=A[1];if(Array.isArray(z)&&!(1>z.length)){var F=z[0];if(F!="noop"&&F!="stop"&&F!="close")for(var at=1;at<z.length;at++)z[at]=""}}}}return Dn(_)}catch{return m}}var qi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},oi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},kn;function jn(){}L(jn,zs),jn.prototype.g=function(){return new XMLHttpRequest},jn.prototype.i=function(){return{}},kn=new jn;function Ke(u,m,_,A){this.j=u,this.i=m,this.l=_,this.R=A||1,this.U=new Ir(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ce}function ce(){this.i=null,this.g="",this.h=!1}var Gs={},Sa={};function Nn(u,m,_){u.L=1,u.v=Br(rn(m)),u.m=_,u.P=!0,ui(u,null)}function ui(u,m){u.F=Date.now(),Ur(u),u.A=rn(u.v);var _=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),$s(_.i,"t",A),u.C=0,_=u.j.J,u.h=new ce,u.g=zo(u.j,_?m:null,!u.m),0<u.O&&(u.M=new jc(C(u.Y,u,u.g),u.O)),m=u.U,_=u.g,A=u.ca;var z="readystatechange";Array.isArray(z)||(z&&(Vr[0]=z.toString()),z=Vr);for(var F=0;F<z.length;F++){var at=_o(_,z[F],A||m.handleEvent,!1,m.h||m);if(!at)break;m.g[at.key]=at}m=u.H?b(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),ki(),Hs(u.i,u.u,u.A,u.l,u.R,u.m)}Ke.prototype.ca=function(u){u=u.target;const m=this.M;m&&_n(u)==3?m.j():this.Y(u)},Ke.prototype.Y=function(u){try{if(u==this.g)t:{const Ae=_n(this.g);var m=this.g.Ba();const yi=this.g.Z();if(!(3>Ae)&&(Ae!=3||this.g&&(this.h.h||this.g.oa()||Io(this.g)))){this.J||Ae!=4||m==7||(m==8||0>=yi?ki(3):ki(2)),Hi(this);var _=this.g.Z();this.X=_;e:if(So(this)){var A=Io(this.g);u="";var z=A.length,F=_n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Me(this),qn(this);var at="";break e}this.h.i=new g.TextDecoder}for(m=0;m<z;m++)this.h.h=!0,u+=this.h.i.decode(A[m],{stream:!(F&&m==z-1)});A.length=0,this.h.g+=u,this.C=0,at=this.h.g}else at=this.g.oa();if(this.o=_==200,qc(this.i,this.u,this.A,this.l,this.R,Ae,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Ot,Te=this.g;if((Ot=Te.g?Te.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rt(Ot)){var Mt=Ot;break e}}Mt=null}if(_=Mt)ji(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Lr(this,_);else{this.o=!1,this.s=3,te(12),Me(this),qn(this);break t}}if(this.P){_=!0;let Ue;for(;!this.J&&this.C<at.length;)if(Ue=bo(this,at),Ue==Sa){Ae==4&&(this.s=4,te(14),_=!1),ji(this.i,this.l,null,"[Incomplete Response]");break}else if(Ue==Gs){this.s=4,te(15),ji(this.i,this.l,at,"[Invalid Chunk]"),_=!1;break}else ji(this.i,this.l,Ue,null),Lr(this,Ue);if(So(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||at.length!=0||this.h.h||(this.s=1,te(16),_=!1),this.o=this.o&&_,!_)ji(this.i,this.l,at,"[Invalid Chunked Response]"),Me(this),qn(this);else if(0<at.length&&!this.W){this.W=!0;var Ne=this.j;Ne.g==this&&Ne.ba&&!Ne.M&&(Ne.j.info("Great, no buffering proxy detected. Bytes received: "+at.length),Yr(Ne),Ne.M=!0,te(11))}}else ji(this.i,this.l,at,null),Lr(this,at);Ae==4&&Me(this),this.o&&!this.J&&(Ae==4?Uo(this.j,this):(this.o=!1,Ur(this)))}else Yc(this.g),_==400&&0<at.indexOf("Unknown SID")?(this.s=3,te(12)):(this.s=0,te(13)),Me(this),qn(this)}}}catch{}finally{}};function So(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function bo(u,m){var _=u.C,A=m.indexOf(`
`,_);return A==-1?Sa:(_=Number(m.substring(_,A)),isNaN(_)?Gs:(A+=1,A+_>m.length?Sa:(m=m.slice(A,A+_),u.C=A+_,m)))}Ke.prototype.cancel=function(){this.J=!0,Me(this)};function Ur(u){u.S=Date.now()+u.I,Ro(u,u.I)}function Ro(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=me(C(u.ba,u),m)}function Hi(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Ke.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Ao(this.i,this.A),this.L!=2&&(ki(),te(17)),Me(this),this.s=2,qn(this)):Ro(this,this.S-u)};function qn(u){u.j.G==0||u.J||Uo(u.j,u)}function Me(u){Hi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,xr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Lr(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||Qs(_.h,u))){if(!u.K&&Qs(_.h,u)&&_.G==3){try{var A=_.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)Ua(_),Oa(_);else break t;el(_),te(18)}}else _.za=z[1],0<_.za-_.T&&37500>z[2]&&_.F&&_.v==0&&!_.C&&(_.C=me(C(_.Za,_),6e3));if(1>=Ra(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else pi(_,11)}else if((u.K||_.g==u)&&Ua(_),!rt(m))for(z=_.Da.g.parse(m),m=0;m<z.length;m++){let Mt=z[m];if(_.T=Mt[0],Mt=Mt[1],_.G==2)if(Mt[0]=="c"){_.K=Mt[1],_.ia=Mt[2];const Ne=Mt[3];Ne!=null&&(_.la=Ne,_.j.info("VER="+_.la));const Ae=Mt[4];Ae!=null&&(_.Aa=Ae,_.j.info("SVER="+_.Aa));const yi=Mt[5];yi!=null&&typeof yi=="number"&&0<yi&&(A=1.5*yi,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Ue=u.g;if(Ue){const Xn=Ue.g?Ue.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xn){var F=A.h;F.g||Xn.indexOf("spdy")==-1&&Xn.indexOf("quic")==-1&&Xn.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(wa(F,F.h),F.h=null))}if(A.D){const il=Ue.g?Ue.g.getResponseHeader("X-HTTP-Session-Id"):null;il&&(A.ya=il,Ft(A.I,A.D,il))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var at=u;if(A.qa=Po(A,A.J?A.ia:null,A.W),at.K){Xe(A.h,at);var Ot=at,Te=A.L;Te&&(Ot.I=Te),Ot.B&&(Hi(Ot),Ur(Ot)),A.g=at}else Oo(A);0<_.i.length&&Ma(_)}else Mt[0]!="stop"&&Mt[0]!="close"||pi(_,7);else _.G==3&&(Mt[0]=="stop"||Mt[0]=="close"?Mt[0]=="stop"?pi(_,7):Ws(_):Mt[0]!="noop"&&_.l&&_.l.ta(Mt),_.v=0)}}ki(4)}catch{}}var wo=class{constructor(u,m){this.g=u,this.map=m}};function ci(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ba(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ra(u){return u.h?1:u.g?u.g.size:0}function Qs(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function wa(u,m){u.g?u.g.add(m):u.h=m}function Xe(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}ci.prototype.cancel=function(){if(this.i=Fs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Fs(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return Y(u.i)}function Hc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],_=u.length,A=0;A<_;A++)m.push(u[A]);return m}m=[],_=0;for(A in u)m[_++]=u[A];return m}function Ca(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const A in u)m[_++]=A;return m}}}function Ys(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=Ca(u),A=Hc(u),z=A.length,F=0;F<z;F++)m.call(void 0,A[F],_&&_[F],u)}var Pr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gc(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var A=u[_].indexOf("="),z=null;if(0<=A){var F=u[_].substring(0,A);z=u[_].substring(A+1)}else F=u[_];m(F,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function ge(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ge){this.h=u.h,zr(this,u.j),this.o=u.o,this.g=u.g,Gi(this,u.s),this.l=u.l;var m=u.i,_=new fi;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),hi(this,_),this.m=u.m}else u&&(m=String(u).match(Pr))?(this.h=!1,zr(this,m[1]||"",!0),this.o=gn(m[2]||""),this.g=gn(m[3]||"",!0),Gi(this,m[4]),this.l=gn(m[5]||"",!0),hi(this,m[6]||"",!0),this.m=gn(m[7]||"")):(this.h=!1,this.i=new fi(null,this.h))}ge.prototype.toString=function(){var u=[],m=this.j;m&&u.push(kr(m,Ks,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(kr(m,Ks,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(kr(_,_.charAt(0)=="/"?Qc:Xs,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",kr(_,Da)),u.join("")};function rn(u){return new ge(u)}function zr(u,m,_){u.j=_?gn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Gi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function hi(u,m,_){m instanceof fi?(u.i=m,Do(u.i,u.h)):(_||(m=kr(m,Fc)),u.i=new fi(m,u.h))}function Ft(u,m,_){u.i.set(m,_)}function Br(u){return Ft(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function gn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function kr(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,Co),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Co(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ks=/[#\/\?@]/g,Xs=/[#\?:]/g,Qc=/[#\?]/g,Fc=/[#\?@]/g,Da=/#/g;function fi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function pn(u){u.g||(u.g=new Map,u.h=0,u.i&&Gc(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}a=fi.prototype,a.add=function(u,m){pn(this),this.i=null,u=Hn(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function di(u,m){pn(u),m=Hn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function mi(u,m){return pn(u),m=Hn(u,m),u.g.has(m)}a.forEach=function(u,m){pn(this),this.g.forEach(function(_,A){_.forEach(function(z){u.call(m,z,A,this)},this)},this)},a.na=function(){pn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let A=0;A<m.length;A++){const z=u[A];for(let F=0;F<z.length;F++)_.push(m[A])}return _},a.V=function(u){pn(this);let m=[];if(typeof u=="string")mi(this,u)&&(m=m.concat(this.g.get(Hn(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},a.set=function(u,m){return pn(this),this.i=null,u=Hn(this,u),mi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function $s(u,m,_){di(u,m),0<_.length&&(u.i=null,u.g.set(Hn(u,m),Y(_)),u.h+=_.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var A=m[_];const F=encodeURIComponent(String(A)),at=this.V(A);for(A=0;A<at.length;A++){var z=F;at[A]!==""&&(z+="="+encodeURIComponent(String(at[A]))),u.push(z)}}return this.i=u.join("&")};function Hn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Do(u,m){m&&!u.j&&(pn(u),u.i=null,u.g.forEach(function(_,A){var z=A.toLowerCase();A!=z&&(di(this,A),$s(this,z,_))},u)),u.j=m}function jr(u,m){const _=new mn;if(g.Image){const A=new Image;A.onload=U(yn,_,"TestLoadImage: loaded",!0,m,A),A.onerror=U(yn,_,"TestLoadImage: error",!1,m,A),A.onabort=U(yn,_,"TestLoadImage: abort",!1,m,A),A.ontimeout=U(yn,_,"TestLoadImage: timeout",!1,m,A),g.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function In(u,m){const _=new mn,A=new AbortController,z=setTimeout(()=>{A.abort(),yn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(F=>{clearTimeout(z),F.ok?yn(_,"TestPingServer: ok",!0,m):yn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),yn(_,"TestPingServer: error",!1,m)})}function yn(u,m,_,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(_)}catch{}}function qr(){this.g=new Or}function Gn(u,m,_){const A=_||"";try{Ys(u,function(z,F){let at=z;y(z)&&(at=Dn(z)),m.push(A+F+"="+encodeURIComponent(at))})}catch(z){throw m.push(A+"type="+encodeURIComponent("_badmap")),z}}function Qi(u){this.l=u.Ub||null,this.j=u.eb||!1}L(Qi,zs),Qi.prototype.g=function(){return new gi(this.l,this.j)},Qi.prototype.i=function(u){return function(){return u}}({});function gi(u,m){se.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(gi,se),a=gi.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Fn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qn(this)),this.readyState=0},a.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Zs(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Zs(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}a.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Qn(this):Fn(this),this.readyState==3&&Zs(this)}},a.Ra=function(u){this.g&&(this.response=this.responseText=u,Qn(this))},a.Qa=function(u){this.g&&(this.response=u,Qn(this))},a.ga=function(){this.g&&Qn(this)};function Qn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Fn(u)}a.setRequestHeader=function(u,m){this.u.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Fn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(gi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Js(u){let m="";return Rt(u,function(_,A){m+=A,m+=":",m+=_,m+=`\r
`}),m}function De(u,m,_){t:{for(A in _){var A=!1;break t}A=!0}A||(_=Js(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):Ft(u,m,_))}function jt(u){se.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(jt,se);var Na=/^https?$/i,Hr=["POST","PUT"];a=jt.prototype,a.Ha=function(u){this.J=u},a.ea=function(u,m,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():kn.g(),this.v=this.o?Bs(this.o):Bs(kn),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(F){No(this,F);return}if(u=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)_.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const F of A.keys())_.set(F,A.get(F));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(F=>F.toLowerCase()=="content-type"),z=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Hr,m,void 0))||A||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,at]of _)this.g.setRequestHeader(F,at);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Gr(this),this.u=!0,this.g.send(u),this.u=!1}catch(F){No(this,F)}};function No(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Ia(u),Yn(u)}function Ia(u){u.A||(u.A=!0,Ht(u,"complete"),Ht(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ht(this,"complete"),Ht(this,"abort"),Yn(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yn(this,!0)),jt.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?Va(this):this.bb())},a.bb=function(){Va(this)};function Va(u){if(u.h&&typeof d<"u"&&(!u.v[1]||_n(u)!=4||u.Z()!=2)){if(u.u&&_n(u)==4)qe(u.Ea,0,u);else if(Ht(u,"readystatechange"),_n(u)==4){u.h=!1;try{const at=u.Z();t:switch(at){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var A;if(A=at===0){var z=String(u.D).match(Pr)[1]||null;!z&&g.self&&g.self.location&&(z=g.self.location.protocol.slice(0,-1)),A=!Na.test(z?z.toLowerCase():"")}_=A}if(_)Ht(u,"complete"),Ht(u,"success");else{u.m=6;try{var F=2<_n(u)?u.g.statusText:""}catch{F=""}u.l=F+" ["+u.Z()+"]",Ia(u)}}finally{Yn(u)}}}}function Yn(u,m){if(u.g){Gr(u);const _=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ht(u,"ready");try{_.onreadystatechange=A}catch{}}}function Gr(u){u.I&&(g.clearTimeout(u.I),u.I=null)}a.isActive=function(){return!!this.g};function _n(u){return u.g?u.g.readyState:0}a.Z=function(){try{return 2<_n(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ta(m)}};function Io(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Yc(u){const m={};u=(u.g&&2<=_n(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(rt(u[A]))continue;var _=O(u[A]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const F=m[z]||[];m[z]=F,F.push(_)}x(m,function(A){return A.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qr(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function xa(u){this.Aa=0,this.i=[],this.j=new mn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qr("baseRetryDelayMs",5e3,u),this.cb=Qr("retryDelaySeedMs",1e4,u),this.Wa=Qr("forwardChannelMaxRetries",2,u),this.wa=Qr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ci(u&&u.concurrentRequestLimit),this.Da=new qr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=xa.prototype,a.la=8,a.G=1,a.connect=function(u,m,_,A){te(0),this.W=u,this.H=m||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=Po(this,null,this.W),Ma(this)};function Ws(u){if(Vo(u),u.G==3){var m=u.U++,_=rn(u.I);if(Ft(_,"SID",u.K),Ft(_,"RID",m),Ft(_,"TYPE","terminate"),Fr(u,_),m=new Ke(u,u.j,m),m.L=2,m.v=Br(rn(_)),_=!1,g.navigator&&g.navigator.sendBeacon)try{_=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&g.Image&&(new Image().src=m.v,_=!0),_||(m.g=zo(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Ur(m)}Lo(u)}function Oa(u){u.g&&(Yr(u),u.g.cancel(),u.g=null)}function Vo(u){Oa(u),u.u&&(g.clearTimeout(u.u),u.u=null),Ua(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Ma(u){if(!ba(u.h)&&!u.s){u.s=!0;var m=u.Ga;st||I(),dt||(st(),dt=!0),Bt.add(m,u),u.B=0}}function Kc(u,m){return Ra(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=me(C(u.Ga,u,m),nl(u,u.B)),u.B++,!0)}a.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const z=new Ke(this,this.j,u);let F=this.o;if(this.S&&(F?(F=b(F),D(F,this.S)):F=this.S),this.m!==null||this.O||(z.H=F,F=null),this.P)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=xo(this,z,m),_=rn(this.I),Ft(_,"RID",u),Ft(_,"CVER",22),this.D&&Ft(_,"X-HTTP-Session-Id",this.D),Fr(this,_),F&&(this.O?m="headers="+encodeURIComponent(String(Js(F)))+"&"+m:this.m&&De(_,this.m,F)),wa(this.h,z),this.Ua&&Ft(_,"TYPE","init"),this.P?(Ft(_,"$req",m),Ft(_,"SID","null"),z.T=!0,Nn(z,_,null)):Nn(z,_,m),this.G=2}}else this.G==3&&(u?tl(this,u):this.i.length==0||ba(this.h)||tl(this))};function tl(u,m){var _;m?_=m.l:_=u.U++;const A=rn(u.I);Ft(A,"SID",u.K),Ft(A,"RID",_),Ft(A,"AID",u.T),Fr(u,A),u.m&&u.o&&De(A,u.m,u.o),_=new Ke(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=xo(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),wa(u.h,_),Nn(_,A,m)}function Fr(u,m){u.H&&Rt(u.H,function(_,A){Ft(m,A,_)}),u.l&&Ys({},function(_,A){Ft(m,A,_)})}function xo(u,m,_){_=Math.min(u.i.length,_);var A=u.l?C(u.l.Na,u.l,u):null;t:{var z=u.i;let F=-1;for(;;){const at=["count="+_];F==-1?0<_?(F=z[0].g,at.push("ofs="+F)):F=0:at.push("ofs="+F);let Ot=!0;for(let Te=0;Te<_;Te++){let Mt=z[Te].g;const Ne=z[Te].map;if(Mt-=F,0>Mt)F=Math.max(0,z[Te].g-100),Ot=!1;else try{Gn(Ne,at,"req"+Mt+"_")}catch{A&&A(Ne)}}if(Ot){A=at.join("&");break t}}}return u=u.i.splice(0,_),m.D=u,A}function Oo(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;st||I(),dt||(st(),dt=!0),Bt.add(m,u),u.v=0}}function el(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=me(C(u.Fa,u),nl(u,u.v)),u.v++,!0)}a.Fa=function(){if(this.u=null,Mo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=me(C(this.ab,this),u)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,te(10),Oa(this),Mo(this))};function Yr(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function Mo(u){u.g=new Ke(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=rn(u.qa);Ft(m,"RID","rpc"),Ft(m,"SID",u.K),Ft(m,"AID",u.T),Ft(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ft(m,"TO",u.ja),Ft(m,"TYPE","xmlhttp"),Fr(u,m),u.m&&u.o&&De(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=Br(rn(m)),_.m=null,_.P=!0,ui(_,u)}a.Za=function(){this.C!=null&&(this.C=null,Oa(this),el(this),te(19))};function Ua(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function Uo(u,m){var _=null;if(u.g==m){Ua(u),Yr(u),u.g=null;var A=2}else if(Qs(u.h,m))_=m.D,Xe(u.h,m),A=1;else return;if(u.G!=0){if(m.o)if(A==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var z=u.B;A=Bi(),Ht(A,new Ee(A,_)),Ma(u)}else Oo(u);else if(z=m.s,z==3||z==0&&0<m.X||!(A==1&&Kc(u,m)||A==2&&el(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),z){case 1:pi(u,5);break;case 4:pi(u,10);break;case 3:pi(u,6);break;default:pi(u,2)}}}function nl(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function pi(u,m){if(u.j.info("Error code "+m),m==2){var _=C(u.fb,u),A=u.Xa;const z=!A;A=new ge(A||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||zr(A,"https"),Br(A),z?jr(A.toString(),_):In(A.toString(),_)}else te(2);u.G=0,u.l&&u.l.sa(m),Lo(u),Vo(u)}a.fb=function(u){u?(this.j.info("Successfully pinged google.com"),te(2)):(this.j.info("Failed to ping google.com"),te(1))};function Lo(u){if(u.G=0,u.ka=[],u.l){const m=Fs(u.h);(m.length!=0||u.i.length!=0)&&(G(u.ka,m),G(u.ka,u.i),u.h.i.length=0,Y(u.i),u.i.length=0),u.l.ra()}}function Po(u,m,_){var A=_ instanceof ge?rn(_):new ge(_);if(A.g!="")m&&(A.g=m+"."+A.g),Gi(A,A.s);else{var z=g.location;A=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;var F=new ge(null);A&&zr(F,A),m&&(F.g=m),z&&Gi(F,z),_&&(F.l=_),A=F}return _=u.D,m=u.ya,_&&m&&Ft(A,_,m),Ft(A,"VER",u.la),Fr(u,A),A}function zo(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new jt(new Qi({eb:_})):new jt(u.pa),m.Ha(u.J),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bo(){}a=Bo.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function La(){}La.prototype.g=function(u,m){return new $e(u,m)};function $e(u,m){se.call(this),this.g=new xa(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!rt(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!rt(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Kn(this)}L($e,se),$e.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$e.prototype.close=function(){Ws(this.g)},$e.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=Dn(u),u=_);m.i.push(new wo(m.Ya++,u)),m.G==3&&Ma(m)},$e.prototype.N=function(){this.g.l=null,delete this.j,Ws(this.g),delete this.g,$e.aa.N.call(this)};function ko(u){li.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}L(ko,li);function jo(){js.call(this),this.status=1}L(jo,js);function Kn(u){this.g=u}L(Kn,Bo),Kn.prototype.ua=function(){Ht(this.g,"a")},Kn.prototype.ta=function(u){Ht(this.g,new ko(u))},Kn.prototype.sa=function(u){Ht(this.g,new jo)},Kn.prototype.ra=function(){Ht(this.g,"b")},La.prototype.createWebChannel=La.prototype.g,$e.prototype.send=$e.prototype.o,$e.prototype.open=$e.prototype.m,$e.prototype.close=$e.prototype.close,Mv=function(){return new La},Ov=function(){return Bi()},xv=Bn,cd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qi.NO_ERROR=0,qi.TIMEOUT=8,qi.HTTP_ERROR=6,$u=qi,oi.COMPLETE="complete",Vv=oi,ks.EventType=si,si.OPEN="a",si.CLOSE="b",si.ERROR="c",si.MESSAGE="d",se.prototype.listen=se.prototype.K,Yl=ks,jt.prototype.listenOnce=jt.prototype.L,jt.prototype.getLastError=jt.prototype.Ka,jt.prototype.getLastErrorCode=jt.prototype.Ba,jt.prototype.getStatus=jt.prototype.Z,jt.prototype.getResponseJson=jt.prototype.Oa,jt.prototype.getResponseText=jt.prototype.oa,jt.prototype.send=jt.prototype.ea,jt.prototype.setWithCredentials=jt.prototype.Ha,Iv=jt}).apply(typeof Hu<"u"?Hu:typeof self<"u"?self:typeof window<"u"?window:{});const i_="@firebase/firestore",r_="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fe.UNAUTHENTICATED=new Fe(null),Fe.GOOGLE_CREDENTIALS=new Fe("google-credentials-uid"),Fe.FIRST_PARTY=new Fe("first-party-uid"),Fe.MOCK_USER=new Fe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Is="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha=new Sv("@firebase/firestore");function hs(){return ha.logLevel}function ot(a,...e){if(ha.logLevel<=Pt.DEBUG){const i=e.map(Bd);ha.debug(`Firestore (${Is}): ${a}`,...i)}}function Li(a,...e){if(ha.logLevel<=Pt.ERROR){const i=e.map(Bd);ha.error(`Firestore (${Is}): ${a}`,...i)}}function _s(a,...e){if(ha.logLevel<=Pt.WARN){const i=e.map(Bd);ha.warn(`Firestore (${Is}): ${a}`,...i)}}function Bd(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(a="Unexpected state"){const e=`FIRESTORE (${Is}) INTERNAL ASSERTION FAILED: `+a;throw Li(e),new Error(e)}function qt(a,e){a||Et()}function St(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends Ns{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class a1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Fe.UNAUTHENTICATED))}shutdown(){}}class s1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class l1{constructor(e){this.t=e,this.currentUser=Fe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){qt(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,i(p)):Promise.resolve();let c=new xi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new xi,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const p=c;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},g=p=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new xi)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(qt(typeof s.accessToken=="string"),new Uv(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qt(e===null||typeof e=="string"),new Fe(e)}}class o1{constructor(e,i,s){this.l=e,this.h=i,this.P=s,this.type="FirstParty",this.user=Fe.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class u1{constructor(e,i,s){this.l=e,this.h=i,this.P=s}getToken(){return Promise.resolve(new o1(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(Fe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class a_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class c1{constructor(e,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,qb(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,i){qt(this.o===void 0);const s=c=>{c.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.R;return this.R=c.token,ot("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const o=c=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?o(c):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new a_(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(qt(typeof i.token=="string"),this.R=i.token,new a_(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=h1(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<i&&(s+=e.charAt(o[c]%62))}return s}}function Ct(a,e){return a<e?-1:a>e?1:0}function hd(a,e){let i=0;for(;i<a.length&&i<e.length;){const s=a.codePointAt(i),o=e.codePointAt(i);if(s!==o){if(s<128&&o<128)return Ct(s,o);{const c=Lv(),d=f1(c.encode(s_(a,i)),c.encode(s_(e,i)));return d!==0?d:Ct(s,o)}}i+=s>65535?2:1}return Ct(a.length,e.length)}function s_(a,e){return a.codePointAt(e)>65535?a.substring(e,e+2):a.substring(e,e+1)}function f1(a,e){for(let i=0;i<a.length&&i<e.length;++i)if(a[i]!==e[i])return Ct(a[i],e[i]);return Ct(a.length,e.length)}function vs(a,e,i){return a.length===e.length&&a.every((s,o)=>i(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_=-62135596800,o_=1e6;class Re{static now(){return Re.fromMillis(Date.now())}static fromDate(e){return Re.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*o_);return new Re(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ut(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ut(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<l_)throw new ut(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ut(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/o_}_compareTo(e){return this.seconds===e.seconds?Ct(this.nanoseconds,e.nanoseconds):Ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-l_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(e){return new At(e)}static min(){return new At(new Re(0,0))}static max(){return new At(new Re(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_="__name__";class ei{constructor(e,i,s){i===void 0?i=0:i>e.length&&Et(),s===void 0?s=e.length-i:s>e.length-i&&Et(),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return ei.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ei?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const c=ei.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Ct(e.length,i.length)}static compareSegments(e,i){const s=ei.isNumericId(e),o=ei.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?ei.extractNumericId(e).compare(ei.extractNumericId(i)):hd(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return yr.fromString(e.substring(4,e.length-2))}}class Wt extends ei{construct(e,i,s){return new Wt(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new ut(tt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(o=>o.length>0))}return new Wt(i)}static emptyPath(){return new Wt([])}}const d1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ke extends ei{construct(e,i,s){return new ke(e,i,s)}static isValidIdentifier(e){return d1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ke.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===u_}static keyField(){return new ke([u_])}static fromServerFormat(e){const i=[];let s="",o=0;const c=()=>{if(s.length===0)throw new ut(tt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new ut(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ut(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(s+=g,o++):(c(),o++)}if(c(),d)throw new ut(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ke(i)}static emptyPath(){return new ke([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.path=e}static fromPath(e){return new gt(Wt.fromString(e))}static fromName(e){return new gt(Wt.fromString(e).popFirst(5))}static empty(){return new gt(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Wt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new gt(new Wt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro=-1;function m1(a,e){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,o=At.fromTimestamp(s===1e9?new Re(i+1,0):new Re(i,s));return new vr(o,gt.empty(),e)}function g1(a){return new vr(a.readTime,a.key,ro)}class vr{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new vr(At.min(),gt.empty(),ro)}static max(){return new vr(At.max(),gt.empty(),ro)}}function p1(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=gt.comparator(a.documentKey,e.documentKey),i!==0?i:Ct(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vs(a){if(a.code!==tt.FAILED_PRECONDITION||a.message!==y1)throw a;ot("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Et(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new W((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof W?i:W.resolve(i)}catch(i){return W.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):W.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):W.reject(i)}static resolve(e){return new W((i,s)=>{i(e)})}static reject(e){return new W((i,s)=>{s(e)})}static waitFor(e){return new W((i,s)=>{let o=0,c=0,d=!1;e.forEach(g=>{++o,g.next(()=>{++c,d&&c===o&&i()},p=>s(p))}),d=!0,c===o&&i()})}static or(e){let i=W.resolve(!1);for(const s of e)i=i.next(o=>o?W.resolve(o):s());return i}static forEach(e,i){const s=[];return e.forEach((o,c)=>{s.push(i.call(this,o,c))}),this.waitFor(s)}static mapArray(e,i){return new W((s,o)=>{const c=e.length,d=new Array(c);let g=0;for(let p=0;p<c;p++){const y=p;i(e[y]).next(E=>{d[y]=E,++g,g===c&&s(d)},E=>o(E))}})}static doWhile(e,i){return new W((s,o)=>{const c=()=>{e()===!0?i().next(()=>{c()},o):s()};c()})}}function v1(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function xs(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.oe(s),this._e=s=>i.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}bc.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd=-1;function Rc(a){return a==null}function lc(a){return a===0&&1/a==-1/0}function E1(a){return typeof a=="number"&&Number.isInteger(a)&&!lc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv="";function T1(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=c_(e)),e=A1(a.get(i),e);return c_(e)}function A1(a,e){let i=e;const s=a.length;for(let o=0;o<s;o++){const c=a.charAt(o);switch(c){case"\0":i+="";break;case zv:i+="";break;default:i+=c}}return i}function c_(a){return a+zv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function ga(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function Bv(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e,i){this.comparator=e,this.root=i||Be.EMPTY}insert(e,i){return new re(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Be.BLACK,null,null))}remove(e){return new re(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Be.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gu(this.root,e,this.comparator,!0)}}class Gu{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?s(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Be{constructor(e,i,s,o,c){this.key=e,this.value=i,this.color=s??Be.RED,this.left=o??Be.EMPTY,this.right=c??Be.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,c){return new Be(e??this.key,i??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,s),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Be.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Be.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Be.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Be.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Et();const e=this.left.check();if(e!==this.right.check())throw Et();return e+(this.isRed()?0:1)}}Be.EMPTY=null,Be.RED=!0,Be.BLACK=!1;Be.EMPTY=new class{constructor(){this.size=0}get key(){throw Et()}get value(){throw Et()}get color(){throw Et()}get left(){throw Et()}get right(){throw Et()}copy(e,i,s,o,c){return this}insert(e,i,s){return new Be(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.comparator=e,this.data=new re(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new f_(this.data.getIterator())}getIteratorFrom(e){return new f_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof we)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new we(this.comparator);return i.data=e,i}}class f_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.fields=e,e.sort(ke.comparator)}static empty(){return new Mn([])}unionWith(e){let i=new we(ke.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new Mn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return vs(this.fields,e.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new kv("Invalid base64 string: "+c):c}}(e);return new je(i)}static fromUint8Array(e){const i=function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c}(e);return new je(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}je.EMPTY_BYTE_STRING=new je("");const S1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Er(a){if(qt(!!a),typeof a=="string"){let e=0;const i=S1.exec(a);if(qt(!!i),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:de(a.seconds),nanos:de(a.nanos)}}function de(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Tr(a){return typeof a=="string"?je.fromBase64String(a):je.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv="server_timestamp",qv="__type__",Hv="__previous_value__",Gv="__local_write_time__";function jd(a){var e,i;return((i=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{})[qv])===null||i===void 0?void 0:i.stringValue)===jv}function wc(a){const e=a.mapValue.fields[Hv];return jd(e)?wc(e):e}function ao(a){const e=Er(a.mapValue.fields[Gv].timestampValue);return new Re(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e,i,s,o,c,d,g,p,y){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=y}}const oc="(default)";class so{constructor(e,i){this.projectId=e,this.database=i||oc}static empty(){return new so("","")}get isDefaultDatabase(){return this.database===oc}isEqual(e){return e instanceof so&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv="__type__",R1="__max__",Qu={mapValue:{}},Fv="__vector__",uc="value";function Ar(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?jd(a)?4:C1(a)?9007199254740991:w1(a)?10:11:Et()}function ri(a,e){if(a===e)return!0;const i=Ar(a);if(i!==Ar(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return ao(a).isEqual(ao(e));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Er(o.timestampValue),g=Er(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return function(o,c){return Tr(o.bytesValue).isEqual(Tr(c.bytesValue))}(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return function(o,c){return de(o.geoPointValue.latitude)===de(c.geoPointValue.latitude)&&de(o.geoPointValue.longitude)===de(c.geoPointValue.longitude)}(a,e);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return de(o.integerValue)===de(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=de(o.doubleValue),g=de(c.doubleValue);return d===g?lc(d)===lc(g):isNaN(d)&&isNaN(g)}return!1}(a,e);case 9:return vs(a.arrayValue.values||[],e.arrayValue.values||[],ri);case 10:case 11:return function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(h_(d)!==h_(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!ri(d[p],g[p])))return!1;return!0}(a,e);default:return Et()}}function lo(a,e){return(a.values||[]).find(i=>ri(i,e))!==void 0}function Es(a,e){if(a===e)return 0;const i=Ar(a),s=Ar(e);if(i!==s)return Ct(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ct(a.booleanValue,e.booleanValue);case 2:return function(c,d){const g=de(c.integerValue||c.doubleValue),p=de(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(a,e);case 3:return d_(a.timestampValue,e.timestampValue);case 4:return d_(ao(a),ao(e));case 5:return hd(a.stringValue,e.stringValue);case 6:return function(c,d){const g=Tr(c),p=Tr(d);return g.compareTo(p)}(a.bytesValue,e.bytesValue);case 7:return function(c,d){const g=c.split("/"),p=d.split("/");for(let y=0;y<g.length&&y<p.length;y++){const E=Ct(g[y],p[y]);if(E!==0)return E}return Ct(g.length,p.length)}(a.referenceValue,e.referenceValue);case 8:return function(c,d){const g=Ct(de(c.latitude),de(d.latitude));return g!==0?g:Ct(de(c.longitude),de(d.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return m_(a.arrayValue,e.arrayValue);case 10:return function(c,d){var g,p,y,E;const S=c.fields||{},C=d.fields||{},U=(g=S[uc])===null||g===void 0?void 0:g.arrayValue,L=(p=C[uc])===null||p===void 0?void 0:p.arrayValue,Y=Ct(((y=U==null?void 0:U.values)===null||y===void 0?void 0:y.length)||0,((E=L==null?void 0:L.values)===null||E===void 0?void 0:E.length)||0);return Y!==0?Y:m_(U,L)}(a.mapValue,e.mapValue);case 11:return function(c,d){if(c===Qu.mapValue&&d===Qu.mapValue)return 0;if(c===Qu.mapValue)return 1;if(d===Qu.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),y=d.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let S=0;S<p.length&&S<E.length;++S){const C=hd(p[S],E[S]);if(C!==0)return C;const U=Es(g[p[S]],y[E[S]]);if(U!==0)return U}return Ct(p.length,E.length)}(a.mapValue,e.mapValue);default:throw Et()}}function d_(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Ct(a,e);const i=Er(a),s=Er(e),o=Ct(i.seconds,s.seconds);return o!==0?o:Ct(i.nanos,s.nanos)}function m_(a,e){const i=a.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const c=Es(i[o],s[o]);if(c)return c}return Ct(i.length,s.length)}function Ts(a){return fd(a)}function fd(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(i){const s=Er(i);return`time(${s.seconds},${s.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?function(i){return Tr(i).toBase64()}(a.bytesValue):"referenceValue"in a?function(i){return gt.fromName(i).toString()}(a.referenceValue):"geoPointValue"in a?function(i){return`geo(${i.latitude},${i.longitude})`}(a.geoPointValue):"arrayValue"in a?function(i){let s="[",o=!0;for(const c of i.values||[])o?o=!1:s+=",",s+=fd(c);return s+"]"}(a.arrayValue):"mapValue"in a?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of s)c?c=!1:o+=",",o+=`${d}:${fd(i.fields[d])}`;return o+"}"}(a.mapValue):Et()}function Zu(a){switch(Ar(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wc(a);return e?16+Zu(e):16;case 5:return 2*a.stringValue.length;case 6:return Tr(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,c)=>o+Zu(c),0)}(a.arrayValue);case 10:case 11:return function(s){let o=0;return ga(s.fields,(c,d)=>{o+=c.length+Zu(d)}),o}(a.mapValue);default:throw Et()}}function g_(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function dd(a){return!!a&&"integerValue"in a}function qd(a){return!!a&&"arrayValue"in a}function p_(a){return!!a&&"nullValue"in a}function y_(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Ju(a){return!!a&&"mapValue"in a}function w1(a){var e,i;return((i=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{})[Qv])===null||i===void 0?void 0:i.stringValue)===Fv}function Zl(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const e={mapValue:{fields:{}}};return ga(a.mapValue.fields,(i,s)=>e.mapValue.fields[i]=Zl(s)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Zl(a.arrayValue.values[i]);return e}return Object.assign({},a)}function C1(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===R1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Ju(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zl(i)}setAll(e){let i=ke.emptyPath(),s={},o=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const p=this.getFieldsMap(i);this.applyChanges(p,s,o),s={},o=[],i=g.popLast()}d?s[g.lastSegment()]=Zl(d):o.push(g.lastSegment())});const c=this.getFieldsMap(i);this.applyChanges(c,s,o)}delete(e){const i=this.field(e.popLast());Ju(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ri(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];Ju(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){ga(i,(o,c)=>e[o]=c);for(const o of s)delete e[o]}clone(){return new wn(Zl(this.value))}}function Yv(a){const e=[];return ga(a.fields,(i,s)=>{const o=new ke([i]);if(Ju(s)){const c=Yv(s.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)}),new Mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,i,s,o,c,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Ye(e,0,At.min(),At.min(),At.min(),wn.empty(),0)}static newFoundDocument(e,i,s,o){return new Ye(e,1,i,At.min(),s,o,0)}static newNoDocument(e,i){return new Ye(e,2,i,At.min(),At.min(),wn.empty(),0)}static newUnknownDocument(e,i){return new Ye(e,3,i,At.min(),At.min(),wn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ye&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ye(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,i){this.position=e,this.inclusive=i}}function __(a,e,i){let s=0;for(let o=0;o<a.position.length;o++){const c=e[o],d=a.position[o];if(c.field.isKeyField()?s=gt.comparator(gt.fromName(d.referenceValue),i.key):s=Es(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function v_(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!ri(a.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,i="asc"){this.field=e,this.dir=i}}function D1(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{}class ve extends Kv{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new I1(e,i,s):i==="array-contains"?new O1(e,s):i==="in"?new M1(e,s):i==="not-in"?new U1(e,s):i==="array-contains-any"?new L1(e,s):new ve(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new V1(e,s):new x1(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(Es(i,this.value)):i!==null&&Ar(this.value)===Ar(i)&&this.matchesComparison(Es(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Et()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Un extends Kv{constructor(e,i){super(),this.filters=e,this.op=i,this.ce=null}static create(e,i){return new Un(e,i)}matches(e){return Xv(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Xv(a){return a.op==="and"}function $v(a){return N1(a)&&Xv(a)}function N1(a){for(const e of a.filters)if(e instanceof Un)return!1;return!0}function md(a){if(a instanceof ve)return a.field.canonicalString()+a.op.toString()+Ts(a.value);if($v(a))return a.filters.map(e=>md(e)).join(",");{const e=a.filters.map(i=>md(i)).join(",");return`${a.op}(${e})`}}function Zv(a,e){return a instanceof ve?function(s,o){return o instanceof ve&&s.op===o.op&&s.field.isEqual(o.field)&&ri(s.value,o.value)}(a,e):a instanceof Un?function(s,o){return o instanceof Un&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((c,d,g)=>c&&Zv(d,o.filters[g]),!0):!1}(a,e):void Et()}function Jv(a){return a instanceof ve?function(i){return`${i.field.canonicalString()} ${i.op} ${Ts(i.value)}`}(a):a instanceof Un?function(i){return i.op.toString()+" {"+i.getFilters().map(Jv).join(" ,")+"}"}(a):"Filter"}class I1 extends ve{constructor(e,i,s){super(e,i,s),this.key=gt.fromName(s.referenceValue)}matches(e){const i=gt.comparator(e.key,this.key);return this.matchesComparison(i)}}class V1 extends ve{constructor(e,i){super(e,"in",i),this.keys=Wv("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class x1 extends ve{constructor(e,i){super(e,"not-in",i),this.keys=Wv("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function Wv(a,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>gt.fromName(s.referenceValue))}class O1 extends ve{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return qd(i)&&lo(i.arrayValue,this.value)}}class M1 extends ve{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&lo(this.value.arrayValue,i)}}class U1 extends ve{constructor(e,i){super(e,"not-in",i)}matches(e){if(lo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!lo(this.value.arrayValue,i)}}class L1 extends ve{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!qd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>lo(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e,i=null,s=[],o=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.le=null}}function E_(a,e=null,i=[],s=[],o=null,c=null,d=null){return new P1(a,e,i,s,o,c,d)}function Hd(a){const e=St(a);if(e.le===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>md(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),Rc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>Ts(s)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>Ts(s)).join(",")),e.le=i}return e.le}function Gd(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!D1(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!Zv(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!v_(a.startAt,e.startAt)&&v_(a.endAt,e.endAt)}function gd(a){return gt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e,i=null,s=[],o=[],c=null,d="F",g=null,p=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function z1(a,e,i,s,o,c,d,g){return new fo(a,e,i,s,o,c,d,g)}function Qd(a){return new fo(a)}function T_(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function tE(a){return a.collectionGroup!==null}function Jl(a){const e=St(a);if(e.he===null){e.he=[];const i=new Set;for(const c of e.explicitOrderBy)e.he.push(c),i.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new we(ke.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(g=g.add(y.field))})}),g})(e).forEach(c=>{i.has(c.canonicalString())||c.isKeyField()||e.he.push(new hc(c,s))}),i.has(ke.keyField().canonicalString())||e.he.push(new hc(ke.keyField(),s))}return e.he}function ni(a){const e=St(a);return e.Pe||(e.Pe=B1(e,Jl(a))),e.Pe}function B1(a,e){if(a.limitType==="F")return E_(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new hc(o.field,c)});const i=a.endAt?new cc(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new cc(a.startAt.position,a.startAt.inclusive):null;return E_(a.path,a.collectionGroup,e,a.filters,a.limit,i,s)}}function pd(a,e){const i=a.filters.concat([e]);return new fo(a.path,a.collectionGroup,a.explicitOrderBy.slice(),i,a.limit,a.limitType,a.startAt,a.endAt)}function yd(a,e,i){return new fo(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function Cc(a,e){return Gd(ni(a),ni(e))&&a.limitType===e.limitType}function eE(a){return`${Hd(ni(a))}|lt:${a.limitType}`}function fs(a){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(o=>Jv(o)).join(", ")}]`),Rc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(o=>Ts(o)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(o=>Ts(o)).join(",")),`Target(${s})`}(ni(a))}; limitType=${a.limitType})`}function Dc(a,e){return e.isFoundDocument()&&function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):gt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(a,e)&&function(s,o){for(const c of Jl(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(a,e)&&function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0}(a,e)&&function(s,o){return!(s.startAt&&!function(d,g,p){const y=__(d,g,p);return d.inclusive?y<=0:y<0}(s.startAt,Jl(s),o)||s.endAt&&!function(d,g,p){const y=__(d,g,p);return d.inclusive?y>=0:y>0}(s.endAt,Jl(s),o))}(a,e)}function k1(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function nE(a){return(e,i)=>{let s=!1;for(const o of Jl(a)){const c=j1(o,e,i);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function j1(a,e,i){const s=a.field.isKeyField()?gt.comparator(e.key,i.key):function(c,d,g){const p=d.data.field(c),y=g.data.field(c);return p!==null&&y!==null?Es(p,y):Et()}(a.field,e,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return Et()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ga(this.inner,(i,s)=>{for(const[o,c]of s)e(o,c)})}isEmpty(){return Bv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1=new re(gt.comparator);function Pi(){return q1}const iE=new re(gt.comparator);function Kl(...a){let e=iE;for(const i of a)e=e.insert(i.key,i);return e}function rE(a){let e=iE;return a.forEach((i,s)=>e=e.insert(i,s.overlayedDocument)),e}function ca(){return Wl()}function aE(){return Wl()}function Wl(){return new pa(a=>a.toString(),(a,e)=>a.isEqual(e))}const H1=new re(gt.comparator),G1=new we(gt.comparator);function xt(...a){let e=G1;for(const i of a)e=e.add(i);return e}const Q1=new we(Ct);function F1(){return Q1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fd(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lc(e)?"-0":e}}function sE(a){return{integerValue:""+a}}function Y1(a,e){return E1(e)?sE(e):Fd(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(){this._=void 0}}function K1(a,e,i){return a instanceof fc?function(o,c){const d={fields:{[qv]:{stringValue:jv},[Gv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&jd(c)&&(c=wc(c)),c&&(d.fields[Hv]=c),{mapValue:d}}(i,e):a instanceof oo?oE(a,e):a instanceof uo?uE(a,e):function(o,c){const d=lE(o,c),g=A_(d)+A_(o.Ie);return dd(d)&&dd(o.Ie)?sE(g):Fd(o.serializer,g)}(a,e)}function X1(a,e,i){return a instanceof oo?oE(a,e):a instanceof uo?uE(a,e):i}function lE(a,e){return a instanceof dc?function(s){return dd(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class fc extends Nc{}class oo extends Nc{constructor(e){super(),this.elements=e}}function oE(a,e){const i=cE(e);for(const s of a.elements)i.some(o=>ri(o,s))||i.push(s);return{arrayValue:{values:i}}}class uo extends Nc{constructor(e){super(),this.elements=e}}function uE(a,e){let i=cE(e);for(const s of a.elements)i=i.filter(o=>!ri(o,s));return{arrayValue:{values:i}}}class dc extends Nc{constructor(e,i){super(),this.serializer=e,this.Ie=i}}function A_(a){return de(a.integerValue||a.doubleValue)}function cE(a){return qd(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function $1(a,e){return a.field.isEqual(e.field)&&function(s,o){return s instanceof oo&&o instanceof oo||s instanceof uo&&o instanceof uo?vs(s.elements,o.elements,ri):s instanceof dc&&o instanceof dc?ri(s.Ie,o.Ie):s instanceof fc&&o instanceof fc}(a.transform,e.transform)}class Z1{constructor(e,i){this.version=e,this.transformResults=i}}class Oi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Oi}static exists(e){return new Oi(void 0,e)}static updateTime(e){return new Oi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wu(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class Ic{}function hE(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new dE(a.key,Oi.none()):new mo(a.key,a.data,Oi.none());{const i=a.data,s=wn.empty();let o=new we(ke.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),o=o.add(c)}return new ya(a.key,s,new Mn(o.toArray()),Oi.none())}}function J1(a,e,i){a instanceof mo?function(o,c,d){const g=o.value.clone(),p=b_(o.fieldTransforms,c,d.transformResults);g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(a,e,i):a instanceof ya?function(o,c,d){if(!Wu(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=b_(o.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(fE(o)),p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(a,e,i):function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function to(a,e,i,s){return a instanceof mo?function(c,d,g,p){if(!Wu(c.precondition,d))return g;const y=c.value.clone(),E=R_(c.fieldTransforms,p,d);return y.setAll(E),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null}(a,e,i,s):a instanceof ya?function(c,d,g,p){if(!Wu(c.precondition,d))return g;const y=R_(c.fieldTransforms,p,d),E=d.data;return E.setAll(fE(c)),E.setAll(y),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(S=>S.field))}(a,e,i,s):function(c,d,g){return Wu(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(a,e,i)}function W1(a,e){let i=null;for(const s of a.fieldTransforms){const o=e.data.field(s.field),c=lE(s.transform,o||null);c!=null&&(i===null&&(i=wn.empty()),i.set(s.field,c))}return i||null}function S_(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&vs(s,o,(c,d)=>$1(c,d))}(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class mo extends Ic{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ya extends Ic{constructor(e,i,s,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function fE(a){const e=new Map;return a.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=a.data.field(i);e.set(i,s)}}),e}function b_(a,e,i){const s=new Map;qt(a.length===i.length);for(let o=0;o<i.length;o++){const c=a[o],d=c.transform,g=e.data.field(c.field);s.set(c.field,X1(d,g,i[o]))}return s}function R_(a,e,i){const s=new Map;for(const o of a){const c=o.transform,d=i.data.field(o.field);s.set(o.field,K1(c,d,e))}return s}class dE extends Ic{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tR extends Ic{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&J1(c,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=to(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=to(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=aE();return this.mutations.forEach(o=>{const c=e.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const p=hE(d,g);p!==null&&s.set(o.key,p),d.isValidDocument()||d.convertToNoDocument(At.min())}),s}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),xt())}isEqual(e){return this.batchId===e.batchId&&vs(this.mutations,e.mutations,(i,s)=>S_(i,s))&&vs(this.baseMutations,e.baseMutations,(i,s)=>S_(i,s))}}class Yd{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){qt(e.mutations.length===s.length);let o=function(){return H1}();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,s[d].version);return new Yd(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e,Lt;function rR(a){switch(a){case tt.OK:return Et();case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0;default:return Et()}}function mE(a){if(a===void 0)return Li("GRPC error has no .code"),tt.UNKNOWN;switch(a){case _e.OK:return tt.OK;case _e.CANCELLED:return tt.CANCELLED;case _e.UNKNOWN:return tt.UNKNOWN;case _e.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case _e.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case _e.INTERNAL:return tt.INTERNAL;case _e.UNAVAILABLE:return tt.UNAVAILABLE;case _e.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case _e.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case _e.NOT_FOUND:return tt.NOT_FOUND;case _e.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case _e.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case _e.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case _e.ABORTED:return tt.ABORTED;case _e.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case _e.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case _e.DATA_LOSS:return tt.DATA_LOSS;default:return Et()}}(Lt=_e||(_e={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR=new yr([4294967295,4294967295],0);function w_(a){const e=Lv().encode(a),i=new Nv;return i.update(e),new Uint8Array(i.digest())}function C_(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new yr([i,s],0),new yr([o,c],0)]}class Kd{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Xl(`Invalid padding: ${i}`);if(s<0)throw new Xl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Xl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Xl(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*e.length-i,this.de=yr.fromNumber(this.Ee)}Ae(e,i,s){let o=e.add(i.multiply(yr.fromNumber(s)));return o.compare(aR)===1&&(o=new yr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const i=w_(e),[s,o]=C_(i);for(let c=0;c<this.hashCount;c++){const d=this.Ae(s,o,c);if(!this.Re(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Kd(c,o,i);return s.forEach(g=>d.insert(g)),d}insert(e){if(this.Ee===0)return;const i=w_(e),[s,o]=C_(i);for(let c=0;c<this.hashCount;c++){const d=this.Ae(s,o,c);this.Ve(d)}}Ve(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,i,s,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,go.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Vc(At.min(),o,new re(Ct),Pi(),xt())}}class go{constructor(e,i,s,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new go(s,i,xt(),xt(),xt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,i,s,o){this.me=e,this.removedTargetIds=i,this.key=s,this.fe=o}}class gE{constructor(e,i){this.targetId=e,this.ge=i}}class pE{constructor(e,i,s=je.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class D_{constructor(){this.pe=0,this.ye=N_(),this.we=je.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=xt(),i=xt(),s=xt();return this.ye.forEach((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:Et()}}),new go(this.we,this.Se,e,i,s)}Me(){this.be=!1,this.ye=N_()}xe(e,i){this.be=!0,this.ye=this.ye.insert(e,i)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,qt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class sR{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Pi(),this.$e=Fu(),this.Ue=Fu(),this.Ke=new re(Ct)}We(e){for(const i of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(i,e.fe):this.ze(i,e.key,e.fe);for(const i of e.removedTargetIds)this.ze(i,e.key,e.fe)}je(e){this.forEachTarget(e,i=>{const s=this.He(i);switch(e.state){case 0:this.Je(i)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(i);break;case 3:this.Je(i)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),s.Ce(e.resumeToken));break;default:Et()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.qe.forEach((s,o)=>{this.Je(o)&&i(o)})}Ze(e){const i=e.targetId,s=e.ge.count,o=this.Xe(i);if(o){const c=o.target;if(gd(c))if(s===0){const d=new gt(c.path);this.ze(i,d,Ye.newNoDocument(d,At.min()))}else qt(s===1);else{const d=this.et(i);if(d!==s){const g=this.tt(e),p=g?this.nt(g,e,d):1;if(p!==0){this.Ye(i);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(i,y)}}}}}tt(e){const i=e.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=Tr(s).toUint8Array()}catch(p){if(p instanceof kv)return _s("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new Kd(d,o,c)}catch(p){return _s(p instanceof Xl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.Ee===0?null:g}nt(e,i,s){return i.ge.count===s-this.st(e,i.targetId)?0:2}st(e,i){const s=this.ke.getRemoteKeysForTarget(i);let o=0;return s.forEach(c=>{const d=this.ke.it(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.ze(i,c,null),o++)}),o}ot(e){const i=new Map;this.qe.forEach((c,d)=>{const g=this.Xe(d);if(g){if(c.current&&gd(g.target)){const p=new gt(g.target.path);this._t(p).has(d)||this.ut(d,p)||this.ze(d,p,Ye.newNoDocument(p,e))}c.ve&&(i.set(d,c.Fe()),c.Me())}});let s=xt();this.Ue.forEach((c,d)=>{let g=!0;d.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(c))}),this.Qe.forEach((c,d)=>d.setReadTime(e));const o=new Vc(e,i,this.Ke,this.Qe,s);return this.Qe=Pi(),this.$e=Fu(),this.Ue=Fu(),this.Ke=new re(Ct),o}Ge(e,i){if(!this.Je(e))return;const s=this.ut(e,i.key)?2:0;this.He(e).xe(i.key,s),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(e)),this.Ue=this.Ue.insert(i.key,this.ct(i.key).add(e))}ze(e,i,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,i)?o.xe(i,1):o.Oe(i),this.Ue=this.Ue.insert(i,this.ct(i).delete(e)),this.Ue=this.Ue.insert(i,this.ct(i).add(e)),s&&(this.Qe=this.Qe.insert(i,s))}removeTarget(e){this.qe.delete(e)}et(e){const i=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let i=this.qe.get(e);return i||(i=new D_,this.qe.set(e,i)),i}ct(e){let i=this.Ue.get(e);return i||(i=new we(Ct),this.Ue=this.Ue.insert(e,i)),i}_t(e){let i=this.$e.get(e);return i||(i=new we(Ct),this.$e=this.$e.insert(e,i)),i}Je(e){const i=this.Xe(e)!==null;return i||ot("WatchChangeAggregator","Detected inactive target",e),i}Xe(e){const i=this.qe.get(e);return i&&i.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new D_),this.ke.getRemoteKeysForTarget(e).forEach(i=>{this.ze(e,i,null)})}ut(e,i){return this.ke.getRemoteKeysForTarget(e).has(i)}}function Fu(){return new re(gt.comparator)}function N_(){return new re(gt.comparator)}const lR={asc:"ASCENDING",desc:"DESCENDING"},oR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uR={and:"AND",or:"OR"};class cR{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function _d(a,e){return a.useProto3Json||Rc(e)?e:{value:e}}function mc(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yE(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function hR(a,e){return mc(a,e.toTimestamp())}function ii(a){return qt(!!a),At.fromTimestamp(function(i){const s=Er(i);return new Re(s.seconds,s.nanos)}(a))}function Xd(a,e){return vd(a,e).canonicalString()}function vd(a,e){const i=function(o){return new Wt(["projects",o.projectId,"databases",o.database])}(a).child("documents");return e===void 0?i:i.child(e)}function _E(a){const e=Wt.fromString(a);return qt(SE(e)),e}function Ed(a,e){return Xd(a.databaseId,e.path)}function Wf(a,e){const i=_E(e);if(i.get(1)!==a.databaseId.projectId)throw new ut(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new ut(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new gt(EE(i))}function vE(a,e){return Xd(a.databaseId,e)}function fR(a){const e=_E(a);return e.length===4?Wt.emptyPath():EE(e)}function Td(a){return new Wt(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function EE(a){return qt(a.length>4&&a.get(4)==="documents"),a.popFirst(5)}function I_(a,e,i){return{name:Ed(a,e),fields:i.value.mapValue.fields}}function dR(a,e){let i;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Et()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=function(y,E){return y.useProto3Json?(qt(E===void 0||typeof E=="string"),je.fromBase64String(E||"")):(qt(E===void 0||E instanceof Buffer||E instanceof Uint8Array),je.fromUint8Array(E||new Uint8Array))}(a,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(y){const E=y.code===void 0?tt.UNKNOWN:mE(y.code);return new ut(E,y.message||"")}(d);i=new pE(s,o,c,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Wf(a,s.document.name),c=ii(s.document.updateTime),d=s.document.createTime?ii(s.document.createTime):At.min(),g=new wn({mapValue:{fields:s.document.fields}}),p=Ye.newFoundDocument(o,c,d,g),y=s.targetIds||[],E=s.removedTargetIds||[];i=new tc(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Wf(a,s.document),c=s.readTime?ii(s.readTime):At.min(),d=Ye.newNoDocument(o,c),g=s.removedTargetIds||[];i=new tc([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Wf(a,s.document),c=s.removedTargetIds||[];i=new tc([],c,o,null)}else{if(!("filter"in e))return Et();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,d=new iR(o,c),g=s.targetId;i=new gE(g,d)}}return i}function mR(a,e){let i;if(e instanceof mo)i={update:I_(a,e.key,e.value)};else if(e instanceof dE)i={delete:Ed(a,e.key)};else if(e instanceof ya)i={update:I_(a,e.key,e.data),updateMask:SR(e.fieldMask)};else{if(!(e instanceof tR))return Et();i={verify:Ed(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(s=>function(c,d){const g=d.transform;if(g instanceof fc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof oo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof uo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof dc)return{fieldPath:d.field.canonicalString(),increment:g.Ie};throw Et()}(0,s))),e.precondition.isNone||(i.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:hR(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Et()}(a,e.precondition)),i}function gR(a,e){return a&&a.length>0?(qt(e!==void 0),a.map(i=>function(o,c){let d=o.updateTime?ii(o.updateTime):ii(c);return d.isEqual(At.min())&&(d=ii(c)),new Z1(d,o.transformResults||[])}(i,e))):[]}function pR(a,e){return{documents:[vE(a,e.path)]}}function yR(a,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=vE(a,o);const c=function(y){if(y.length!==0)return AE(Un.create(y,"and"))}(e.filters);c&&(i.structuredQuery.where=c);const d=function(y){if(y.length!==0)return y.map(E=>function(C){return{field:ds(C.field),direction:ER(C.dir)}}(E))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=_d(a,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:i,parent:o}}function _R(a){let e=fR(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){qt(s===1);const E=i.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];i.where&&(c=function(S){const C=TE(S);return C instanceof Un&&$v(C)?C.getFilters():[C]}(i.where));let d=[];i.orderBy&&(d=function(S){return S.map(C=>function(L){return new hc(ms(L.field),function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction))}(C))}(i.orderBy));let g=null;i.limit&&(g=function(S){let C;return C=typeof S=="object"?S.value:S,Rc(C)?null:C}(i.limit));let p=null;i.startAt&&(p=function(S){const C=!!S.before,U=S.values||[];return new cc(U,C)}(i.startAt));let y=null;return i.endAt&&(y=function(S){const C=!S.before,U=S.values||[];return new cc(U,C)}(i.endAt)),z1(e,o,d,c,g,"F",p,y)}function vR(a,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et()}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function TE(a){return a.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=ms(i.unaryFilter.field);return ve.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ms(i.unaryFilter.field);return ve.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ms(i.unaryFilter.field);return ve.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ms(i.unaryFilter.field);return ve.create(d,"!=",{nullValue:"NULL_VALUE"});default:return Et()}}(a):a.fieldFilter!==void 0?function(i){return ve.create(ms(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Et()}}(i.fieldFilter.op),i.fieldFilter.value)}(a):a.compositeFilter!==void 0?function(i){return Un.create(i.compositeFilter.filters.map(s=>TE(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Et()}}(i.compositeFilter.op))}(a):Et()}function ER(a){return lR[a]}function TR(a){return oR[a]}function AR(a){return uR[a]}function ds(a){return{fieldPath:a.canonicalString()}}function ms(a){return ke.fromServerFormat(a.fieldPath)}function AE(a){return a instanceof ve?function(i){if(i.op==="=="){if(y_(i.value))return{unaryFilter:{field:ds(i.field),op:"IS_NAN"}};if(p_(i.value))return{unaryFilter:{field:ds(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(y_(i.value))return{unaryFilter:{field:ds(i.field),op:"IS_NOT_NAN"}};if(p_(i.value))return{unaryFilter:{field:ds(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ds(i.field),op:TR(i.op),value:i.value}}}(a):a instanceof Un?function(i){const s=i.getFilters().map(o=>AE(o));return s.length===1?s[0]:{compositeFilter:{op:AR(i.op),filters:s}}}(a):Et()}function SR(a){const e=[];return a.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function SE(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e,i,s,o,c=At.min(),d=At.min(),g=je.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(e){return new mr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new mr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e){this.Tt=e}}function RR(a){const e=_R({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?yd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(){this.Tn=new CR}addToCollectionParentIndex(e,i){return this.Tn.add(i),W.resolve()}getCollectionParents(e,i){return W.resolve(this.Tn.getEntries(i))}addFieldIndex(e,i){return W.resolve()}deleteFieldIndex(e,i){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,i){return W.resolve()}getDocumentsMatchingTarget(e,i){return W.resolve(null)}getIndexType(e,i){return W.resolve(0)}getFieldIndexes(e,i){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,i){return W.resolve(vr.min())}getMinOffsetFromCollectionGroup(e,i){return W.resolve(vr.min())}updateCollectionGroup(e,i,s){return W.resolve()}updateIndexEntries(e,i){return W.resolve()}}class CR{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new we(Wt.comparator),c=!o.has(s);return this.index[i]=o.add(s),c}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new we(Wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bE=41943040;class en{static withCacheSize(e){return new en(e,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */en.DEFAULT_COLLECTION_PERCENTILE=10,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,en.DEFAULT=new en(bE,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),en.DISABLED=new en(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new As(0)}static Kn(){return new As(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_="LruGarbageCollector",DR=1048576;function O_([a,e],[i,s]){const o=Ct(a,i);return o===0?Ct(e,s):o}class NR{constructor(e){this.Hn=e,this.buffer=new we(O_),this.Jn=0}Yn(){return++this.Jn}Zn(e){const i=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();O_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class IR{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ot(x_,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){xs(i)?ot(x_,"Ignoring IndexedDB error during garbage collection: ",i):await Vs(i)}await this.er(3e5)})}}class VR{constructor(e,i){this.tr=e,this.params=i}calculateTargetCount(e,i){return this.tr.nr(e).next(s=>Math.floor(i/100*s))}nthSequenceNumber(e,i){if(i===0)return W.resolve(bc.ae);const s=new NR(i);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,i,s){return this.tr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.tr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(V_)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),V_):this.ir(e,i))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,i){let s,o,c,d,g,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(s=S,g=Date.now(),this.removeTargets(e,s,i))).next(S=>(c=S,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(S=>(y=Date.now(),hs()<=Pt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${S} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:S})))}}function xR(a,e){return new VR(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(){this.changes=new pa(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ye.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?W.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(s!==null&&to(s.mutation,o,Mn.empty(),Re.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.getLocalViewOfDocuments(e,s,xt()).next(()=>s))}getLocalViewOfDocuments(e,i,s=xt()){const o=ca();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,s).next(c=>{let d=Kl();return c.forEach((g,p)=>{d=d.insert(g,p.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const s=ca();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,xt()))}populateOverlays(e,i,s){const o=[];return s.forEach(c=>{i.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(e,o).next(c=>{c.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,s,o){let c=Pi();const d=Wl(),g=function(){return Wl()}();return i.forEach((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof ya)?c=c.insert(y.key,y):E!==void 0?(d.set(y.key,E.mutation.getFieldMask()),to(E.mutation,y,E.mutation.getFieldMask(),Re.now())):d.set(y.key,Mn.empty())}),this.recalculateAndSaveOverlays(e,c).next(p=>(p.forEach((y,E)=>d.set(y,E)),i.forEach((y,E)=>{var S;return g.set(y,new MR(E,(S=d.get(y))!==null&&S!==void 0?S:null))}),g))}recalculateAndSaveOverlays(e,i){const s=Wl();let o=new re((d,g)=>d-g),c=xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(p=>{const y=i.get(p);if(y===null)return;let E=s.get(p)||Mn.empty();E=g.applyToLocalView(y,E),s.set(p,E);const S=(o.get(g.batchId)||xt()).add(p);o=o.insert(g.batchId,S)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),y=p.key,E=p.value,S=aE();E.forEach(C=>{if(!c.has(C)){const U=hE(i.get(C),s.get(C));U!==null&&S.set(C,U),c=c.add(C)}}),d.push(this.documentOverlayCache.saveOverlays(e,y,S))}return W.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,i,s,o){return function(d){return gt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):tE(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next(c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-c.size):W.resolve(ca());let g=ro,p=c;return d.next(y=>W.forEach(y,(E,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),c.get(E)?W.resolve():this.remoteDocumentCache.getEntry(e,E).next(C=>{p=p.insert(E,C)}))).next(()=>this.populateOverlays(e,y,c)).next(()=>this.computeViews(e,p,y,xt())).next(E=>({batchId:g,changes:rE(E)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new gt(i)).next(s=>{let o=Kl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const c=i.collectionGroup;let d=Kl();return this.indexManager.getCollectionParents(e,c).next(g=>W.forEach(g,p=>{const y=function(S,C){return new fo(C,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(i,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(E=>{E.forEach((S,C)=>{d=d.insert(S,C)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,c,o))).next(d=>{c.forEach((p,y)=>{const E=y.getKey();d.get(E)===null&&(d=d.insert(E,Ye.newInvalidDocument(E)))});let g=Kl();return d.forEach((p,y)=>{const E=c.get(p);E!==void 0&&to(E.mutation,y,Mn.empty(),Re.now()),Dc(i,y)&&(g=g.insert(p,y))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,i){return W.resolve(this.dr.get(i))}saveBundleMetadata(e,i){return this.dr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:ii(o.createTime)}}(i)),W.resolve()}getNamedQuery(e,i){return W.resolve(this.Ar.get(i))}saveNamedQuery(e,i){return this.Ar.set(i.name,function(o){return{name:o.name,query:RR(o.bundledQuery),readTime:ii(o.readTime)}}(i)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(){this.overlays=new re(gt.comparator),this.Rr=new Map}getOverlay(e,i){return W.resolve(this.overlays.get(i))}getOverlays(e,i){const s=ca();return W.forEach(i,o=>this.getOverlay(e,o).next(c=>{c!==null&&s.set(o,c)})).next(()=>s)}saveOverlays(e,i,s){return s.forEach((o,c)=>{this.Et(e,i,c)}),W.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.Rr.delete(s)),W.resolve()}getOverlaysForCollection(e,i,s){const o=ca(),c=i.length+1,d=new gt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,y=p.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&p.largestBatchId>s&&o.set(p.getKey(),p)}return W.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let c=new re((y,E)=>y-E);const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>s){let E=c.get(y.largestBatchId);E===null&&(E=ca(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const g=ca(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,E)=>g.set(y,E)),!(g.size()>=o)););return W.resolve(g)}Et(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new nR(i,s));let c=this.Rr.get(i);c===void 0&&(c=xt(),this.Rr.set(i,c)),this.Rr.set(i,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(){this.sessionToken=je.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(){this.Vr=new we(Oe.mr),this.gr=new we(Oe.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,i){const s=new Oe(e,i);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.wr(new Oe(e,i))}Sr(e,i){e.forEach(s=>this.removeReference(s,i))}br(e){const i=new gt(new Wt([])),s=new Oe(i,e),o=new Oe(i,e+1),c=[];return this.gr.forEachInRange([s,o],d=>{this.wr(d),c.push(d.key)}),c}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const i=new gt(new Wt([])),s=new Oe(i,e),o=new Oe(i,e+1);let c=xt();return this.gr.forEachInRange([s,o],d=>{c=c.add(d.key)}),c}containsKey(e){const i=new Oe(e,0),s=this.Vr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Oe{constructor(e,i){this.key=e,this.Cr=i}static mr(e,i){return gt.comparator(e.key,i.key)||Ct(e.Cr,i.Cr)}static pr(e,i){return Ct(e.Cr,i.Cr)||gt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new we(Oe.mr)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const c=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new eR(c,i,s,o);this.mutationQueue.push(d);for(const g of o)this.Mr=this.Mr.add(new Oe(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return W.resolve(d)}lookupMutationBatch(e,i){return W.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.Nr(s),c=o<0?0:o;return W.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?kd:this.Fr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Oe(i,0),o=new Oe(i,Number.POSITIVE_INFINITY),c=[];return this.Mr.forEachInRange([s,o],d=>{const g=this.Or(d.Cr);c.push(g)}),W.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new we(Ct);return i.forEach(o=>{const c=new Oe(o,0),d=new Oe(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([c,d],g=>{s=s.add(g.Cr)})}),W.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let c=s;gt.isDocumentKey(c)||(c=c.child(""));const d=new Oe(new gt(c),0);let g=new we(Ct);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(g=g.add(p.Cr)),!0)},d),W.resolve(this.Br(g))}Br(e){const i=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){qt(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return W.forEach(i.mutations,o=>{const c=new Oe(o.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,i){const s=new Oe(i,0),o=this.Mr.firstAfterOrEqual(s);return W.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}Lr(e,i){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const i=this.Nr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e){this.kr=e,this.docs=function(){return new re(gt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),c=o?o.size:0,d=this.kr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return W.resolve(s?s.document.mutableCopy():Ye.newInvalidDocument(i))}getEntries(e,i){let s=Pi();return i.forEach(o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():Ye.newInvalidDocument(o))}),W.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let c=Pi();const d=i.path,g=new gt(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||p1(g1(E),s)<=0||(o.has(E.key)||Dc(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return W.resolve(c)}getAllFromCollectionGroup(e,i,s,o){Et()}qr(e,i){return W.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new jR(this)}getSize(e){return W.resolve(this.size)}}class jR extends OR{constructor(e){super(),this.Ir=e}applyChanges(e){const i=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?i.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),W.waitFor(i)}getFromCache(e,i){return this.Ir.getEntry(e,i)}getAllFromCache(e,i){return this.Ir.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e){this.persistence=e,this.Qr=new pa(i=>Hd(i),Gd),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.$r=0,this.Ur=new $d,this.targetCount=0,this.Kr=As.Un()}forEachTarget(e,i){return this.Qr.forEach((s,o)=>i(o)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.$r&&(this.$r=i),W.resolve()}zn(e){this.Qr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Kr=new As(i),this.highestTargetId=i),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,i){return this.zn(i),this.targetCount+=1,W.resolve()}updateTargetData(e,i){return this.zn(i),W.resolve()}removeTargetData(e,i){return this.Qr.delete(i.target),this.Ur.br(i.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,i,s){let o=0;const c=[];return this.Qr.forEach((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.Qr.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),W.waitFor(c).next(()=>o)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,i){const s=this.Qr.get(i)||null;return W.resolve(s)}addMatchingKeys(e,i,s){return this.Ur.yr(i,s),W.resolve()}removeMatchingKeys(e,i,s){this.Ur.Sr(i,s);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach(d=>{c.push(o.markPotentiallyOrphaned(e,d))}),W.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.Ur.br(i),W.resolve()}getMatchingKeysForTargetId(e,i){const s=this.Ur.vr(i);return W.resolve(s)}containsKey(e,i){return W.resolve(this.Ur.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(e,i){this.Wr={},this.overlays={},this.Gr=new bc(0),this.zr=!1,this.zr=!0,this.jr=new zR,this.referenceDelegate=e(this),this.Hr=new qR(this),this.indexManager=new wR,this.remoteDocumentCache=function(o){return new kR(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new bR(i),this.Yr=new LR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new PR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.Wr[e.toKey()];return s||(s=new BR(i,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,i,s){ot("MemoryPersistence","Starting transaction:",e);const o=new HR(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(c=>this.referenceDelegate.Xr(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}ei(e,i){return W.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,i)))}}class HR extends _1{constructor(e){super(),this.currentSequenceNumber=e}}class Zd{constructor(e){this.persistence=e,this.ti=new $d,this.ni=null}static ri(e){return new Zd(e)}get ii(){if(this.ni)return this.ni;throw Et()}addReference(e,i,s){return this.ti.addReference(s,i),this.ii.delete(s.toString()),W.resolve()}removeReference(e,i,s){return this.ti.removeReference(s,i),this.ii.add(s.toString()),W.resolve()}markPotentiallyOrphaned(e,i){return this.ii.add(i.toString()),W.resolve()}removeTarget(e,i){this.ti.br(i.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(c=>this.ii.add(c.toString()))}).next(()=>s.removeTargetData(e,i))}Zr(){this.ni=new Set}Xr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.ii,s=>{const o=gt.fromPath(s);return this.si(e,o).next(c=>{c||i.removeEntry(o,At.min())})}).next(()=>(this.ni=null,i.apply(e)))}updateLimboDocument(e,i){return this.si(e,i).next(s=>{s?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(e){return 0}si(e,i){return W.or([()=>W.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.ei(e,i)])}}class gc{constructor(e,i){this.persistence=e,this.oi=new pa(s=>T1(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=xR(this,i)}static ri(e,i){return new gc(e,i)}Zr(){}Xr(e){return W.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}nr(e){const i=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>i.next(o=>s+o))}sr(e){let i=0;return this.rr(e,s=>{i++}).next(()=>i)}rr(e,i){return W.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(c=>c?W.resolve():i(o)))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.qr(e,d=>this.ar(e,d,i).next(g=>{g||(s++,c.removeEntry(d,At.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,i){return this.oi.set(i,e.currentSequenceNumber),W.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.oi.set(s,e.currentSequenceNumber),W.resolve()}removeReference(e,i,s){return this.oi.set(s,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,i){return this.oi.set(i,e.currentSequenceNumber),W.resolve()}Jr(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Zu(e.data.value)),i}ar(e,i,s){return W.or([()=>this.persistence.ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.oi.get(i);return W.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Hi=s,this.Ji=o}static Yi(e,i){let s=xt(),o=xt();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Jd(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return BS()?8:v1(PS())>0?6:4}()}initialize(e,i){this.ns=e,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(e,i,s,o){const c={result:null};return this.rs(e,i).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.ss(e,i,o,s).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new GR;return this._s(e,i,d).next(g=>{if(c.result=g,this.Xi)return this.us(e,i,d,g.size)})}).next(()=>c.result)}us(e,i,s,o){return s.documentReadCount<this.es?(hs()<=Pt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",fs(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),W.resolve()):(hs()<=Pt.DEBUG&&ot("QueryEngine","Query:",fs(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(hs()<=Pt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",fs(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ni(i))):W.resolve())}rs(e,i){if(T_(i))return W.resolve(null);let s=ni(i);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=yd(i,null,"F"),s=ni(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const d=xt(...c);return this.ns.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,s).next(p=>{const y=this.cs(i,g);return this.ls(i,y,d,p.readTime)?this.rs(e,yd(i,null,"F")):this.hs(e,y,i,p)}))})))}ss(e,i,s,o){return T_(i)||o.isEqual(At.min())?W.resolve(null):this.ns.getDocuments(e,s).next(c=>{const d=this.cs(i,c);return this.ls(i,d,s,o)?W.resolve(null):(hs()<=Pt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),fs(i)),this.hs(e,d,i,m1(o,ro)).next(g=>g))})}cs(e,i){let s=new we(nE(e));return i.forEach((o,c)=>{Dc(e,c)&&(s=s.add(c))}),s}ls(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}_s(e,i,s){return hs()<=Pt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",fs(i)),this.ns.getDocumentsMatchingQuery(e,i,vr.min(),s)}hs(e,i,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(c=>(i.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd="LocalStore",FR=3e8;class YR{constructor(e,i,s,o){this.persistence=e,this.Ps=i,this.serializer=o,this.Ts=new re(Ct),this.Is=new pa(c=>Hd(c),Gd),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UR(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ts))}}function KR(a,e,i,s){return new YR(a,e,i,s)}async function wE(a,e){const i=St(a);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(c=>(o=c,i.As(e),i.mutationQueue.getAllMutationBatches(s))).next(c=>{const d=[],g=[];let p=xt();for(const y of o){d.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of c){g.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return i.localDocuments.getDocuments(s,p).next(y=>({Rs:y,removedBatchIds:d,addedBatchIds:g}))})})}function XR(a,e){const i=St(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),c=i.ds.newChangeBuffer({trackRemovals:!0});return function(g,p,y,E){const S=y.batch,C=S.keys();let U=W.resolve();return C.forEach(L=>{U=U.next(()=>E.getEntry(p,L)).next(Y=>{const G=y.docVersions.get(L);qt(G!==null),Y.version.compareTo(G)<0&&(S.applyToRemoteDocument(Y,y),Y.isValidDocument()&&(Y.setReadTime(y.commitVersion),E.addEntry(Y)))})}),U.next(()=>g.mutationQueue.removeMutationBatch(p,S))}(i,s,e,c).next(()=>c.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let p=xt();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(p=p.add(g.batch.mutations[y].key));return p}(e))).next(()=>i.localDocuments.getDocuments(s,o))})}function CE(a){const e=St(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Hr.getLastRemoteSnapshotVersion(i))}function $R(a,e){const i=St(a),s=e.snapshotVersion;let o=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=i.ds.newChangeBuffer({trackRemovals:!0});o=i.Ts;const g=[];e.targetChanges.forEach((E,S)=>{const C=o.get(S);if(!C)return;g.push(i.Hr.removeMatchingKeys(c,E.removedDocuments,S).next(()=>i.Hr.addMatchingKeys(c,E.addedDocuments,S)));let U=C.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?U=U.withResumeToken(je.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):E.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(E.resumeToken,s)),o=o.insert(S,U),function(Y,G,Z){return Y.resumeToken.approximateByteSize()===0||G.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=FR?!0:Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0}(C,U,E)&&g.push(i.Hr.updateTargetData(c,U))});let p=Pi(),y=xt();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))}),g.push(ZR(c,d,e.documentUpdates).next(E=>{p=E.Vs,y=E.fs})),!s.isEqual(At.min())){const E=i.Hr.getLastRemoteSnapshotVersion(c).next(S=>i.Hr.setTargetsMetadata(c,c.currentSequenceNumber,s));g.push(E)}return W.waitFor(g).next(()=>d.apply(c)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,p,y)).next(()=>p)}).then(c=>(i.Ts=o,c))}function ZR(a,e,i){let s=xt(),o=xt();return i.forEach(c=>s=s.add(c)),e.getEntries(a,s).next(c=>{let d=Pi();return i.forEach((g,p)=>{const y=c.get(g);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(g)),p.isNoDocument()&&p.version.isEqual(At.min())?(e.removeEntry(g,p.readTime),d=d.insert(g,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),d=d.insert(g,p)):ot(Wd,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",p.version)}),{Vs:d,fs:o}})}function JR(a,e){const i=St(a);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=kd),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function WR(a,e){const i=St(a);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return i.Hr.getTargetData(s,e).next(c=>c?(o=c,W.resolve(o)):i.Hr.allocateTargetId(s).next(d=>(o=new mr(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=i.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(s.targetId,s),i.Is.set(e,s.targetId)),s})}async function Ad(a,e,i){const s=St(a),o=s.Ts.get(e),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,d=>s.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!xs(d))throw d;ot(Wd,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function M_(a,e,i){const s=St(a);let o=At.min(),c=xt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(p,y,E){const S=St(p),C=S.Is.get(E);return C!==void 0?W.resolve(S.Ts.get(C)):S.Hr.getTargetData(y,E)}(s,d,ni(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(d,g.targetId).next(p=>{c=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(d,e,i?o:At.min(),i?c:xt())).next(g=>(tw(s,k1(e),g),{documents:g,gs:c})))}function tw(a,e,i){let s=a.Es.get(e)||At.min();i.forEach((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),a.Es.set(e,s)}class U_{constructor(){this.activeTargetIds=F1()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ew{constructor(){this.ho=new U_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,i,s){this.Po[e]=i}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new U_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_="ConnectivityMonitor";class P_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ot(L_,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ot(L_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yu=null;function Sd(){return Yu===null?Yu=function(){return 268435456+Math.round(2147483648*Math.random())}():Yu++,"0x"+Yu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td="RestConnection",iw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class rw{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=i+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===oc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,i,s,o,c){const d=Sd(),g=this.bo(e,i.toUriEncodedString());ot(td,`Sending RPC '${e}' ${d}:`,g,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,c),this.vo(e,g,p,s).then(y=>(ot(td,`Received RPC '${e}' ${d}: `,y),y),y=>{throw _s(td,`RPC '${e}' ${d} failed with error: `,y,"url: ",g,"request:",s),y})}Co(e,i,s,o,c,d){return this.So(e,i,s,o,c)}Do(e,i,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Is}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,c)=>e[c]=o),s&&s.headers.forEach((o,c)=>e[c]=o)}bo(e,i){const s=iw[e];return`${this.po}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qe="WebChannelConnection";class sw extends rw{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,i,s,o){const c=Sd();return new Promise((d,g)=>{const p=new Iv;p.setWithCredentials(!0),p.listenOnce(Vv.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case $u.NO_ERROR:const E=p.getResponseJson();ot(Qe,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(E)),d(E);break;case $u.TIMEOUT:ot(Qe,`RPC '${e}' ${c} timed out`),g(new ut(tt.DEADLINE_EXCEEDED,"Request time out"));break;case $u.HTTP_ERROR:const S=p.getStatus();if(ot(Qe,`RPC '${e}' ${c} failed with status:`,S,"response text:",p.getResponseText()),S>0){let C=p.getResponseJson();Array.isArray(C)&&(C=C[0]);const U=C==null?void 0:C.error;if(U&&U.status&&U.message){const L=function(G){const Z=G.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(Z)>=0?Z:tt.UNKNOWN}(U.status);g(new ut(L,U.message))}else g(new ut(tt.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new ut(tt.UNAVAILABLE,"Connection failed."));break;default:Et()}}finally{ot(Qe,`RPC '${e}' ${c} completed.`)}});const y=JSON.stringify(o);ot(Qe,`RPC '${e}' ${c} sending request:`,o),p.send(i,"POST",y,s,15)})}Wo(e,i,s){const o=Sd(),c=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Mv(),g=Ov(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,i,s),p.encodeInitMessageHeaders=!0;const E=c.join("");ot(Qe,`Creating RPC '${e}' stream ${o}: ${E}`,p);const S=d.createWebChannel(E,p);let C=!1,U=!1;const L=new aw({Fo:G=>{U?ot(Qe,`Not sending because RPC '${e}' stream ${o} is closed:`,G):(C||(ot(Qe,`Opening RPC '${e}' stream ${o} transport.`),S.open(),C=!0),ot(Qe,`RPC '${e}' stream ${o} sending:`,G),S.send(G))},Mo:()=>S.close()}),Y=(G,Z,rt)=>{G.listen(Z,nt=>{try{rt(nt)}catch(mt){setTimeout(()=>{throw mt},0)}})};return Y(S,Yl.EventType.OPEN,()=>{U||(ot(Qe,`RPC '${e}' stream ${o} transport opened.`),L.Qo())}),Y(S,Yl.EventType.CLOSE,()=>{U||(U=!0,ot(Qe,`RPC '${e}' stream ${o} transport closed`),L.Uo())}),Y(S,Yl.EventType.ERROR,G=>{U||(U=!0,_s(Qe,`RPC '${e}' stream ${o} transport errored:`,G),L.Uo(new ut(tt.UNAVAILABLE,"The operation could not be completed")))}),Y(S,Yl.EventType.MESSAGE,G=>{var Z;if(!U){const rt=G.data[0];qt(!!rt);const nt=rt,mt=(nt==null?void 0:nt.error)||((Z=nt[0])===null||Z===void 0?void 0:Z.error);if(mt){ot(Qe,`RPC '${e}' stream ${o} received error:`,mt);const ht=mt.status;let Rt=function(R){const D=_e[R];if(D!==void 0)return mE(D)}(ht),x=mt.message;Rt===void 0&&(Rt=tt.INTERNAL,x="Unknown error status: "+ht+" with message "+mt.message),U=!0,L.Uo(new ut(Rt,x)),S.close()}else ot(Qe,`RPC '${e}' stream ${o} received:`,rt),L.Ko(rt)}}),Y(g,xv.STAT_EVENT,G=>{G.stat===cd.PROXY?ot(Qe,`RPC '${e}' stream ${o} detected buffering proxy`):G.stat===cd.NOPROXY&&ot(Qe,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{L.$o()},0),L}}function ed(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(a){return new cR(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(e,i,s=1e3,o=1.5,c=6e4){this.Ti=e,this.timerId=i,this.Go=s,this.zo=o,this.jo=c,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const i=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,i-s);o>0&&ot("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_="PersistentStream";class NE{constructor(e,i,s,o,c,d,g,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new DE(e,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():i&&i.code===tt.RESOURCE_EXHAUSTED?(Li(i.toString()),Li("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===tt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===i&&this.V_(s,o)},s=>{e(()=>{const o=new ut(tt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,i){const s=this.R_(this.i_);this.stream=this.f_(e,i),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ot(z_,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return i=>{this.Ti.enqueueAndForget(()=>this.i_===e?i():(ot(z_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class lw extends NE{constructor(e,i,s,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}f_(e,i){return this.connection.Wo("Listen",e,i)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const i=dR(this.serializer,e),s=function(c){if(!("targetChange"in c))return At.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?At.min():d.readTime?ii(d.readTime):At.min()}(e);return this.listener.p_(i,s)}y_(e){const i={};i.database=Td(this.serializer),i.addTarget=function(c,d){let g;const p=d.target;if(g=gd(p)?{documents:pR(c,p)}:{query:yR(c,p).ht},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=yE(c,d.resumeToken);const y=_d(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(At.min())>0){g.readTime=mc(c,d.snapshotVersion.toTimestamp());const y=_d(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g}(this.serializer,e);const s=vR(this.serializer,e);s&&(i.labels=s),this.I_(i)}w_(e){const i={};i.database=Td(this.serializer),i.removeTarget=e,this.I_(i)}}class ow extends NE{constructor(e,i,s,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,i){return this.connection.Wo("Write",e,i)}g_(e){return qt(!!e.streamToken),this.lastStreamToken=e.streamToken,qt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){qt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const i=gR(e.writeResults,e.commitTime),s=ii(e.commitTime);return this.listener.v_(s,i)}C_(){const e={};e.database=Td(this.serializer),this.I_(e)}b_(e){const i={streamToken:this.lastStreamToken,writes:e.map(s=>mR(this.serializer,s))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{}class cw extends uw{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new ut(tt.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,i,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.So(e,vd(i,s),o,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ut(tt.UNKNOWN,c.toString())})}Co(e,i,s,o,c){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Co(e,vd(i,s),o,d,g,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ut(tt.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class hw{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Li(i),this.N_=!1):ot("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa="RemoteStore";class fw{constructor(e,i,s,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=c,this.z_.To(d=>{s.enqueueAndForget(async()=>{_a(this)&&(ot(fa,"Restarting streams for network reachability change."),await async function(p){const y=St(p);y.W_.add(4),await po(y),y.j_.set("Unknown"),y.W_.delete(4),await Oc(y)}(this))})}),this.j_=new hw(s,o)}}async function Oc(a){if(_a(a))for(const e of a.G_)await e(!0)}async function po(a){for(const e of a.G_)await e(!1)}function IE(a,e){const i=St(a);i.K_.has(e.targetId)||(i.K_.set(e.targetId,e),im(i)?nm(i):Os(i).c_()&&em(i,e))}function tm(a,e){const i=St(a),s=Os(i);i.K_.delete(e),s.c_()&&VE(i,e),i.K_.size===0&&(s.c_()?s.P_():_a(i)&&i.j_.set("Unknown"))}function em(a,e){if(a.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(At.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Os(a).y_(e)}function VE(a,e){a.H_.Ne(e),Os(a).w_(e)}function nm(a){a.H_=new sR({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>a.K_.get(e)||null,it:()=>a.datastore.serializer.databaseId}),Os(a).start(),a.j_.B_()}function im(a){return _a(a)&&!Os(a).u_()&&a.K_.size>0}function _a(a){return St(a).W_.size===0}function xE(a){a.H_=void 0}async function dw(a){a.j_.set("Online")}async function mw(a){a.K_.forEach((e,i)=>{em(a,e)})}async function gw(a,e){xE(a),im(a)?(a.j_.q_(e),nm(a)):a.j_.set("Unknown")}async function pw(a,e,i){if(a.j_.set("Online"),e instanceof pE&&e.state===2&&e.cause)try{await async function(o,c){const d=c.cause;for(const g of c.targetIds)o.K_.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.K_.delete(g),o.H_.removeTarget(g))}(a,e)}catch(s){ot(fa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await pc(a,s)}else if(e instanceof tc?a.H_.We(e):e instanceof gE?a.H_.Ze(e):a.H_.je(e),!i.isEqual(At.min()))try{const s=await CE(a.localStore);i.compareTo(s)>=0&&await function(c,d){const g=c.H_.ot(d);return g.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=c.K_.get(y);E&&c.K_.set(y,E.withResumeToken(p.resumeToken,d))}}),g.targetMismatches.forEach((p,y)=>{const E=c.K_.get(p);if(!E)return;c.K_.set(p,E.withResumeToken(je.EMPTY_BYTE_STRING,E.snapshotVersion)),VE(c,p);const S=new mr(E.target,p,y,E.sequenceNumber);em(c,S)}),c.remoteSyncer.applyRemoteEvent(g)}(a,i)}catch(s){ot(fa,"Failed to raise snapshot:",s),await pc(a,s)}}async function pc(a,e,i){if(!xs(e))throw e;a.W_.add(1),await po(a),a.j_.set("Offline"),i||(i=()=>CE(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{ot(fa,"Retrying IndexedDB access"),await i(),a.W_.delete(1),await Oc(a)})}function OE(a,e){return e().catch(i=>pc(a,i,e))}async function Mc(a){const e=St(a),i=Sr(e);let s=e.U_.length>0?e.U_[e.U_.length-1].batchId:kd;for(;yw(e);)try{const o=await JR(e.localStore,s);if(o===null){e.U_.length===0&&i.P_();break}s=o.batchId,_w(e,o)}catch(o){await pc(e,o)}ME(e)&&UE(e)}function yw(a){return _a(a)&&a.U_.length<10}function _w(a,e){a.U_.push(e);const i=Sr(a);i.c_()&&i.S_&&i.b_(e.mutations)}function ME(a){return _a(a)&&!Sr(a).u_()&&a.U_.length>0}function UE(a){Sr(a).start()}async function vw(a){Sr(a).C_()}async function Ew(a){const e=Sr(a);for(const i of a.U_)e.b_(i.mutations)}async function Tw(a,e,i){const s=a.U_.shift(),o=Yd.from(s,e,i);await OE(a,()=>a.remoteSyncer.applySuccessfulWrite(o)),await Mc(a)}async function Aw(a,e){e&&Sr(a).S_&&await async function(s,o){if(function(d){return rR(d)&&d!==tt.ABORTED}(o.code)){const c=s.U_.shift();Sr(s).h_(),await OE(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o)),await Mc(s)}}(a,e),ME(a)&&UE(a)}async function B_(a,e){const i=St(a);i.asyncQueue.verifyOperationInProgress(),ot(fa,"RemoteStore received new credentials");const s=_a(i);i.W_.add(3),await po(i),s&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.W_.delete(3),await Oc(i)}async function Sw(a,e){const i=St(a);e?(i.W_.delete(2),await Oc(i)):e||(i.W_.add(2),await po(i),i.j_.set("Unknown"))}function Os(a){return a.J_||(a.J_=function(i,s,o){const c=St(i);return c.M_(),new lw(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(a.datastore,a.asyncQueue,{xo:dw.bind(null,a),No:mw.bind(null,a),Lo:gw.bind(null,a),p_:pw.bind(null,a)}),a.G_.push(async e=>{e?(a.J_.h_(),im(a)?nm(a):a.j_.set("Unknown")):(await a.J_.stop(),xE(a))})),a.J_}function Sr(a){return a.Y_||(a.Y_=function(i,s,o){const c=St(i);return c.M_(),new ow(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(a.datastore,a.asyncQueue,{xo:()=>Promise.resolve(),No:vw.bind(null,a),Lo:Aw.bind(null,a),D_:Ew.bind(null,a),v_:Tw.bind(null,a)}),a.G_.push(async e=>{e?(a.Y_.h_(),await Mc(a)):(await a.Y_.stop(),a.U_.length>0&&(ot(fa,`Stopping write stream with ${a.U_.length} pending writes`),a.U_=[]))})),a.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e,i,s,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,c){const d=Date.now()+s,g=new rm(e,i,d,o,c);return g.start(s),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(tt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function am(a,e){if(Li("AsyncQueue",`${e}: ${a}`),xs(a))return new ut(tt.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{static emptySet(e){return new ps(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||gt.comparator(i.key,s.key):(i,s)=>gt.comparator(i.key,s.key),this.keyedMap=Kl(),this.sortedSet=new re(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,s)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ps)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new ps;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(){this.Z_=new re(gt.comparator)}track(e){const i=e.doc.key,s=this.Z_.get(i);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(i,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(i):e.type===1&&s.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):Et():this.Z_=this.Z_.insert(i,e)}X_(){const e=[];return this.Z_.inorderTraversal((i,s)=>{e.push(s)}),e}}class Ss{constructor(e,i,s,o,c,d,g,p,y){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,i,s,o,c){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new Ss(e,i,ps.emptySet(i),d,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class Rw{constructor(){this.queries=j_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,s){const o=St(i),c=o.queries;o.queries=j_(),c.forEach((d,g)=>{for(const p of g.ta)p.onError(s)})})(this,new ut(tt.ABORTED,"Firestore shutting down"))}}function j_(){return new pa(a=>eE(a),Cc)}async function LE(a,e){const i=St(a);let s=3;const o=e.query;let c=i.queries.get(o);c?!c.na()&&e.ra()&&(s=2):(c=new bw,s=e.ra()?0:1);try{switch(s){case 0:c.ea=await i.onListen(o,!0);break;case 1:c.ea=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=am(d,`Initialization of query '${fs(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,c),c.ta.push(e),e.sa(i.onlineState),c.ea&&e.oa(c.ea)&&sm(i)}async function PE(a,e){const i=St(a),s=e.query;let o=3;const c=i.queries.get(s);if(c){const d=c.ta.indexOf(e);d>=0&&(c.ta.splice(d,1),c.ta.length===0?o=e.ra()?0:1:!c.na()&&e.ra()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function ww(a,e){const i=St(a);let s=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.ta)g.oa(o)&&(s=!0);d.ea=o}}s&&sm(i)}function Cw(a,e,i){const s=St(a),o=s.queries.get(e);if(o)for(const c of o.ta)c.onError(i);s.queries.delete(e)}function sm(a){a.ia.forEach(e=>{e.next()})}var bd,q_;(q_=bd||(bd={}))._a="default",q_.Cache="cache";class zE{constructor(e,i,s){this.query=e,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ss(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.ua?this.la(e)&&(this.aa.next(e),i=!0):this.ha(e,this.onlineState)&&(this.Pa(e),i=!0),this.ca=e,i}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),i=!0),i}ha(e,i){if(!e.fromCache||!this.ra())return!0;const s=i!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}la(e){if(e.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(e){e=Ss.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==bd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(e){this.key=e}}class kE{constructor(e){this.key=e}}class Dw{constructor(e,i){this.query=e,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=xt(),this.mutatedKeys=xt(),this.ya=nE(e),this.wa=new ps(this.ya)}get Sa(){return this.fa}ba(e,i){const s=i?i.Da:new k_,o=i?i.wa:this.wa;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,S)=>{const C=o.get(E),U=Dc(this.query,S)?S:null,L=!!C&&this.mutatedKeys.has(C.key),Y=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let G=!1;C&&U?C.data.isEqual(U.data)?L!==Y&&(s.track({type:3,doc:U}),G=!0):this.va(C,U)||(s.track({type:2,doc:U}),G=!0,(p&&this.ya(U,p)>0||y&&this.ya(U,y)<0)&&(g=!0)):!C&&U?(s.track({type:0,doc:U}),G=!0):C&&!U&&(s.track({type:1,doc:C}),G=!0,(p||y)&&(g=!0)),G&&(U?(d=d.add(U),c=Y?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),s.track({type:1,doc:E})}return{wa:d,Da:s,ls:g,mutatedKeys:c}}va(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const c=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const d=e.Da.X_();d.sort((E,S)=>function(U,L){const Y=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et()}};return Y(U)-Y(L)}(E.type,S.type)||this.ya(E.doc,S.doc)),this.Ca(s),o=o!=null&&o;const g=i&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,y=p!==this.ga;return this.ga=p,d.length!==0||y?{snapshot:new Ss(this.query,e.wa,c,d,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:g}:{Ma:g}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new k_,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=xt(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const i=[];return e.forEach(s=>{this.pa.has(s)||i.push(new kE(s))}),this.pa.forEach(s=>{e.has(s)||i.push(new BE(s))}),i}Oa(e){this.fa=e.gs,this.pa=xt();const i=this.ba(e.documents);return this.applyChanges(i,!0)}Na(){return Ss.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const lm="SyncEngine";class Nw{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class Iw{constructor(e){this.key=e,this.Ba=!1}}class Vw{constructor(e,i,s,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new pa(g=>eE(g),Cc),this.qa=new Map,this.Qa=new Set,this.$a=new re(gt.comparator),this.Ua=new Map,this.Ka=new $d,this.Wa={},this.Ga=new Map,this.za=As.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function xw(a,e,i=!0){const s=FE(a);let o;const c=s.ka.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.Na()):o=await jE(s,e,i,!0),o}async function Ow(a,e){const i=FE(a);await jE(i,e,!0,!1)}async function jE(a,e,i,s){const o=await WR(a.localStore,ni(e)),c=o.targetId,d=a.sharedClientState.addLocalQueryTarget(c,i);let g;return s&&(g=await Mw(a,e,c,d==="current",o.resumeToken)),a.isPrimaryClient&&i&&IE(a.remoteStore,o),g}async function Mw(a,e,i,s,o){a.Ha=(S,C,U)=>async function(Y,G,Z,rt){let nt=G.view.ba(Z);nt.ls&&(nt=await M_(Y.localStore,G.query,!1).then(({documents:x})=>G.view.ba(x,nt)));const mt=rt&&rt.targetChanges.get(G.targetId),ht=rt&&rt.targetMismatches.get(G.targetId)!=null,Rt=G.view.applyChanges(nt,Y.isPrimaryClient,mt,ht);return G_(Y,G.targetId,Rt.Ma),Rt.snapshot}(a,S,C,U);const c=await M_(a.localStore,e,!0),d=new Dw(e,c.gs),g=d.ba(c.documents),p=go.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",o),y=d.applyChanges(g,a.isPrimaryClient,p);G_(a,i,y.Ma);const E=new Nw(e,i,d);return a.ka.set(e,E),a.qa.has(i)?a.qa.get(i).push(e):a.qa.set(i,[e]),y.snapshot}async function Uw(a,e,i){const s=St(a),o=s.ka.get(e),c=s.qa.get(o.targetId);if(c.length>1)return s.qa.set(o.targetId,c.filter(d=>!Cc(d,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Ad(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),i&&tm(s.remoteStore,o.targetId),Rd(s,o.targetId)}).catch(Vs)):(Rd(s,o.targetId),await Ad(s.localStore,o.targetId,!0))}async function Lw(a,e){const i=St(a),s=i.ka.get(e),o=i.qa.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),tm(i.remoteStore,s.targetId))}async function Pw(a,e,i){const s=Gw(a);try{const o=await function(d,g){const p=St(d),y=Re.now(),E=g.reduce((U,L)=>U.add(L.key),xt());let S,C;return p.persistence.runTransaction("Locally write mutations","readwrite",U=>{let L=Pi(),Y=xt();return p.ds.getEntries(U,E).next(G=>{L=G,L.forEach((Z,rt)=>{rt.isValidDocument()||(Y=Y.add(Z))})}).next(()=>p.localDocuments.getOverlayedDocuments(U,L)).next(G=>{S=G;const Z=[];for(const rt of g){const nt=W1(rt,S.get(rt.key).overlayedDocument);nt!=null&&Z.push(new ya(rt.key,nt,Yv(nt.value.mapValue),Oi.exists(!0)))}return p.mutationQueue.addMutationBatch(U,y,Z,g)}).next(G=>{C=G;const Z=G.applyToLocalDocumentSet(S,Y);return p.documentOverlayCache.saveOverlays(U,G.batchId,Z)})}).then(()=>({batchId:C.batchId,changes:rE(S)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(d,g,p){let y=d.Wa[d.currentUser.toKey()];y||(y=new re(Ct)),y=y.insert(g,p),d.Wa[d.currentUser.toKey()]=y}(s,o.batchId,i),await yo(s,o.changes),await Mc(s.remoteStore)}catch(o){const c=am(o,"Failed to persist write");i.reject(c)}}async function qE(a,e){const i=St(a);try{const s=await $R(i.localStore,e);e.targetChanges.forEach((o,c)=>{const d=i.Ua.get(c);d&&(qt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.Ba=!0:o.modifiedDocuments.size>0?qt(d.Ba):o.removedDocuments.size>0&&(qt(d.Ba),d.Ba=!1))}),await yo(i,s,e)}catch(s){await Vs(s)}}function H_(a,e,i){const s=St(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.ka.forEach((c,d)=>{const g=d.view.sa(e);g.snapshot&&o.push(g.snapshot)}),function(d,g){const p=St(d);p.onlineState=g;let y=!1;p.queries.forEach((E,S)=>{for(const C of S.ta)C.sa(g)&&(y=!0)}),y&&sm(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function zw(a,e,i){const s=St(a);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Ua.get(e),c=o&&o.key;if(c){let d=new re(gt.comparator);d=d.insert(c,Ye.newNoDocument(c,At.min()));const g=xt().add(c),p=new Vc(At.min(),new Map,new re(Ct),d,g);await qE(s,p),s.$a=s.$a.remove(c),s.Ua.delete(e),om(s)}else await Ad(s.localStore,e,!1).then(()=>Rd(s,e,i)).catch(Vs)}async function Bw(a,e){const i=St(a),s=e.batch.batchId;try{const o=await XR(i.localStore,e);GE(i,s,null),HE(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await yo(i,o)}catch(o){await Vs(o)}}async function kw(a,e,i){const s=St(a);try{const o=await function(d,g){const p=St(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return p.mutationQueue.lookupMutationBatch(y,g).next(S=>(qt(S!==null),E=S.keys(),p.mutationQueue.removeMutationBatch(y,S))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>p.localDocuments.getDocuments(y,E))})}(s.localStore,e);GE(s,e,i),HE(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await yo(s,o)}catch(o){await Vs(o)}}function HE(a,e){(a.Ga.get(e)||[]).forEach(i=>{i.resolve()}),a.Ga.delete(e)}function GE(a,e,i){const s=St(a);let o=s.Wa[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function Rd(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.qa.get(e))a.ka.delete(s),i&&a.La.Ja(s,i);a.qa.delete(e),a.isPrimaryClient&&a.Ka.br(e).forEach(s=>{a.Ka.containsKey(s)||QE(a,s)})}function QE(a,e){a.Qa.delete(e.path.canonicalString());const i=a.$a.get(e);i!==null&&(tm(a.remoteStore,i),a.$a=a.$a.remove(e),a.Ua.delete(i),om(a))}function G_(a,e,i){for(const s of i)s instanceof BE?(a.Ka.addReference(s.key,e),jw(a,s)):s instanceof kE?(ot(lm,"Document no longer in limbo: "+s.key),a.Ka.removeReference(s.key,e),a.Ka.containsKey(s.key)||QE(a,s.key)):Et()}function jw(a,e){const i=e.key,s=i.path.canonicalString();a.$a.get(i)||a.Qa.has(s)||(ot(lm,"New document in limbo: "+i),a.Qa.add(s),om(a))}function om(a){for(;a.Qa.size>0&&a.$a.size<a.maxConcurrentLimboResolutions;){const e=a.Qa.values().next().value;a.Qa.delete(e);const i=new gt(Wt.fromString(e)),s=a.za.next();a.Ua.set(s,new Iw(i)),a.$a=a.$a.insert(i,s),IE(a.remoteStore,new mr(ni(Qd(i.path)),s,"TargetPurposeLimboResolution",bc.ae))}}async function yo(a,e,i){const s=St(a),o=[],c=[],d=[];s.ka.isEmpty()||(s.ka.forEach((g,p)=>{d.push(s.Ha(p,e,i).then(y=>{var E;if((y||i)&&s.isPrimaryClient){const S=y?!y.fromCache:(E=i==null?void 0:i.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,S?"current":"not-current")}if(y){o.push(y);const S=Jd.Yi(p.targetId,y);c.push(S)}}))}),await Promise.all(d),s.La.p_(o),await async function(p,y){const E=St(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>W.forEach(y,C=>W.forEach(C.Hi,U=>E.persistence.referenceDelegate.addReference(S,C.targetId,U)).next(()=>W.forEach(C.Ji,U=>E.persistence.referenceDelegate.removeReference(S,C.targetId,U)))))}catch(S){if(!xs(S))throw S;ot(Wd,"Failed to update sequence numbers: "+S)}for(const S of y){const C=S.targetId;if(!S.fromCache){const U=E.Ts.get(C),L=U.snapshotVersion,Y=U.withLastLimboFreeSnapshotVersion(L);E.Ts=E.Ts.insert(C,Y)}}}(s.localStore,c))}async function qw(a,e){const i=St(a);if(!i.currentUser.isEqual(e)){ot(lm,"User change. New user:",e.toKey());const s=await wE(i.localStore,e);i.currentUser=e,function(c,d){c.Ga.forEach(g=>{g.forEach(p=>{p.reject(new ut(tt.CANCELLED,d))})}),c.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await yo(i,s.Rs)}}function Hw(a,e){const i=St(a),s=i.Ua.get(e);if(s&&s.Ba)return xt().add(s.key);{let o=xt();const c=i.qa.get(e);if(!c)return o;for(const d of c){const g=i.ka.get(d);o=o.unionWith(g.view.Sa)}return o}}function FE(a){const e=St(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=qE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Hw.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zw.bind(null,e),e.La.p_=ww.bind(null,e.eventManager),e.La.Ja=Cw.bind(null,e.eventManager),e}function Gw(a){const e=St(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Bw.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kw.bind(null,e),e}class yc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xc(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,i){return null}nu(e,i){return null}eu(e){return KR(this.persistence,new QR,e.initialUser,this.serializer)}Xa(e){return new RE(Zd.ri,this.serializer)}Za(e){return new ew}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yc.provider={build:()=>new yc};class Qw extends yc{constructor(e){super(),this.cacheSizeBytes=e}tu(e,i){qt(this.persistence.referenceDelegate instanceof gc);const s=this.persistence.referenceDelegate.garbageCollector;return new IR(s,e.asyncQueue,i)}Xa(e){const i=this.cacheSizeBytes!==void 0?en.withCacheSize(this.cacheSizeBytes):en.DEFAULT;return new RE(s=>gc.ri(s,i),this.serializer)}}class wd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>H_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=qw.bind(null,this.syncEngine),await Sw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Rw}()}createDatastore(e){const i=xc(e.databaseInfo.databaseId),s=function(c){return new sw(c)}(e.databaseInfo);return function(c,d,g,p){return new cw(c,d,g,p)}(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return function(s,o,c,d,g){return new fw(s,o,c,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>H_(this.syncEngine,i,0),function(){return P_.D()?new P_:new nw}())}createSyncEngine(e,i){return function(o,c,d,g,p,y,E){const S=new Vw(o,c,d,g,p,y);return E&&(S.ja=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(o){const c=St(o);ot(fa,"RemoteStore shutting down."),c.W_.add(5),await po(c),c.z_.shutdown(),c.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}wd.provider={build:()=>new wd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Li("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br="FirestoreClient";class Fw{constructor(e,i,s,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Fe.UNAUTHENTICATED,this.clientId=Pv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async d=>{ot(br,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(ot(br,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=am(i,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function nd(a,e){a.asyncQueue.verifyOperationInProgress(),ot(br,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let s=i.initialUser;a.setCredentialChangeListener(async o=>{s.isEqual(o)||(await wE(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=e}async function Q_(a,e){a.asyncQueue.verifyOperationInProgress();const i=await Yw(a);ot(br,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener(s=>B_(e.remoteStore,s)),a.setAppCheckTokenChangeListener((s,o)=>B_(e.remoteStore,o)),a._onlineComponents=e}async function Yw(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){ot(br,"Using user provided OfflineComponentProvider");try{await nd(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===tt.FAILED_PRECONDITION||o.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;_s("Error using user provided cache. Falling back to memory cache: "+i),await nd(a,new yc)}}else ot(br,"Using default OfflineComponentProvider"),await nd(a,new Qw(void 0));return a._offlineComponents}async function KE(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(ot(br,"Using user provided OnlineComponentProvider"),await Q_(a,a._uninitializedComponentsProvider._online)):(ot(br,"Using default OnlineComponentProvider"),await Q_(a,new wd))),a._onlineComponents}function Kw(a){return KE(a).then(e=>e.syncEngine)}async function XE(a){const e=await KE(a),i=e.eventManager;return i.onListen=xw.bind(null,e.syncEngine),i.onUnlisten=Uw.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=Ow.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=Lw.bind(null,e.syncEngine),i}function Xw(a,e,i={}){const s=new xi;return a.asyncQueue.enqueueAndForget(async()=>function(c,d,g,p,y){const E=new YE({next:C=>{E.su(),d.enqueueAndForget(()=>PE(c,S));const U=C.docs.has(g);!U&&C.fromCache?y.reject(new ut(tt.UNAVAILABLE,"Failed to get document because the client is offline.")):U&&C.fromCache&&p&&p.source==="server"?y.reject(new ut(tt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(C)},error:C=>y.reject(C)}),S=new zE(Qd(g.path),E,{includeMetadataChanges:!0,Ta:!0});return LE(c,S)}(await XE(a),a.asyncQueue,e,i,s)),s.promise}function $w(a,e,i={}){const s=new xi;return a.asyncQueue.enqueueAndForget(async()=>function(c,d,g,p,y){const E=new YE({next:C=>{E.su(),d.enqueueAndForget(()=>PE(c,S)),C.fromCache&&p.source==="server"?y.reject(new ut(tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(C)},error:C=>y.reject(C)}),S=new zE(g,E,{includeMetadataChanges:!0,Ta:!0});return LE(c,S)}(await XE(a),a.asyncQueue,e,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(a,e,i){if(!i)throw new ut(tt.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function Zw(a,e,i,s){if(e===!0&&s===!0)throw new ut(tt.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function Y_(a){if(!gt.isDocumentKey(a))throw new ut(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function K_(a){if(gt.isDocumentKey(a))throw new ut(tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function Uc(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":Et()}function bs(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new ut(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Uc(a);throw new ut(tt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="firestore.googleapis.com",X_=!0;class $_{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ut(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=JE,this.ssl=X_}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:X_;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=bE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<DR)throw new ut(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Zw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$E((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new ut(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ut(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ut(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lc{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ut(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new a1;switch(s.type){case"firstParty":return new u1(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ut(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=F_.get(i);s&&(ot("ComponentProvider","Removing Datastore"),F_.delete(i),s.terminate())}(this),Promise.resolve()}}function Jw(a,e,i,s={}){var o;const c=(a=bs(a,Lc))._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:a._getEmulatorOptions()}),g=`${e}:${i}`;c.host!==JE&&c.host!==g&&_s("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},c),{host:g,ssl:!1,emulatorOptions:s});if(!rc(p,d)&&(a._setSettings(p),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=Fe.MOCK_USER;else{y=LS(s.mockUserToken,(o=a._app)===null||o===void 0?void 0:o.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new ut(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Fe(S)}a._authCredentials=new s1(new Uv(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ms(this.firestore,e,this._query)}}class fn{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _r(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fn(this.firestore,e,this._key)}}class _r extends Ms{constructor(e,i,s){super(e,i,Qd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fn(this.firestore,null,new gt(e))}withConverter(e){return new _r(this.firestore,e,this._path)}}function _c(a,e,...i){if(a=ys(a),ZE("collection","path",e),a instanceof Lc){const s=Wt.fromString(e,...i);return K_(s),new _r(a,null,s)}{if(!(a instanceof fn||a instanceof _r))throw new ut(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Wt.fromString(e,...i));return K_(s),new _r(a.firestore,null,s)}}function vc(a,e,...i){if(a=ys(a),arguments.length===1&&(e=Pv.newId()),ZE("doc","path",e),a instanceof Lc){const s=Wt.fromString(e,...i);return Y_(s),new fn(a,null,new gt(s))}{if(!(a instanceof fn||a instanceof _r))throw new ut(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Wt.fromString(e,...i));return Y_(s),new fn(a.firestore,a instanceof _r?a.converter:null,new gt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_="AsyncQueue";class J_{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new DE(this,"async_queue_retry"),this.Su=()=>{const s=ed();s&&ot(Z_,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const i=ed();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const i=ed();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const i=new xi;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!xs(e))throw e;ot(Z_,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const i=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),g}(s);throw Li("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=i,i}enqueueAfterDelay(e,i,s){this.Du(),this.wu.indexOf(e)>-1&&(i=0);const o=rm.createAndSchedule(this,e,i,s,c=>this.Fu(c));return this.fu.push(o),o}Du(){this.gu&&Et()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const i of this.fu)if(i.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const i=this.fu.indexOf(e);this.fu.splice(i,1)}}class Pc extends Lc{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new J_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new J_(e),this._firestoreClient=void 0,await e}}}function Ww(a,e){const i=typeof a=="object"?a:Fb(),s=typeof a=="string"?a:oc,o=jb(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=MS("firestore");c&&Jw(o,...c)}return o}function um(a){if(a._terminated)throw new ut(tt.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||t2(a),a._firestoreClient}function t2(a){var e,i,s;const o=a._freezeSettings(),c=function(g,p,y,E){return new b1(g,p,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,$E(E.experimentalLongPollingOptions),E.useFetchStreams)}(a._databaseId,((e=a._app)===null||e===void 0?void 0:e.options.appId)||"",a._persistenceKey,o);a._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(a._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),a._firestoreClient=new Fw(a._authCredentials,a._appCheckCredentials,a._queue,c,a._componentsProvider&&function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}}(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Rs(je.fromBase64String(e))}catch(i){throw new ut(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Rs(je.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ut(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ke(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ut(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ut(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ct(this._lat,e._lat)||Ct(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2=/^__.*__$/;class n2{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new ya(e,this.data,this.fieldMask,i,this.fieldTransforms):new mo(e,this.data,i,this.fieldTransforms)}}function t0(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et()}}class dm{constructor(e,i,s,o,c,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Bu(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new dm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Uu(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Ec(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(t0(this.Lu)&&e2.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class i2{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||xc(e)}ju(e,i,s,o=!1){return new dm({Lu:e,methodName:i,zu:s,path:ke.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function e0(a){const e=a._freezeSettings(),i=xc(a._databaseId);return new i2(a._databaseId,!!e.ignoreUndefinedProperties,i)}function r2(a,e,i,s,o,c={}){const d=a.ju(c.merge||c.mergeFields?2:0,e,i,o);r0("Data must be an object, but it was:",d,s);const g=n0(s,d);let p,y;if(c.merge)p=new Mn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const S of c.mergeFields){const C=s2(e,S,i);if(!d.contains(C))throw new ut(tt.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);o2(E,C)||E.push(C)}p=new Mn(E),y=d.fieldTransforms.filter(S=>p.covers(S.field))}else p=null,y=d.fieldTransforms;return new n2(new wn(g),p,y)}function a2(a,e,i,s=!1){return mm(i,a.ju(s?4:3,e))}function mm(a,e){if(i0(a=ys(a)))return r0("Unsupported field value:",e,a),n0(a,e);if(a instanceof WE)return function(s,o){if(!t0(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const c=[];let d=0;for(const g of s){let p=mm(g,o.Ku(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}}(a,e)}return function(s,o){if((s=ys(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Y1(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=Re.fromDate(s);return{timestampValue:mc(o.serializer,c)}}if(s instanceof Re){const c=new Re(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:mc(o.serializer,c)}}if(s instanceof hm)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Rs)return{bytesValue:yE(o.serializer,s._byteString)};if(s instanceof fn){const c=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw o.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Xd(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof fm)return function(d,g){return{mapValue:{fields:{[Qv]:{stringValue:Fv},[uc]:{arrayValue:{values:d.toArray().map(y=>{if(typeof y!="number")throw g.Wu("VectorValues must only contain numeric values.");return Fd(g.serializer,y)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${Uc(s)}`)}(a,e)}function n0(a,e){const i={};return Bv(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ga(a,(s,o)=>{const c=mm(o,e.qu(s));c!=null&&(i[s]=c)}),{mapValue:{fields:i}}}function i0(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof Re||a instanceof hm||a instanceof Rs||a instanceof fn||a instanceof WE||a instanceof fm)}function r0(a,e,i){if(!i0(i)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(i)){const s=Uc(i);throw s==="an object"?e.Wu(a+" a custom object"):e.Wu(a+" "+s)}}function s2(a,e,i){if((e=ys(e))instanceof cm)return e._internalPath;if(typeof e=="string")return a0(a,e);throw Ec("Field path arguments must be of type string or ",a,!1,void 0,i)}const l2=new RegExp("[~\\*/\\[\\]]");function a0(a,e,i){if(e.search(l2)>=0)throw Ec(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new cm(...e.split("."))._internalPath}catch{throw Ec(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function Ec(a,e,i,s,o){const c=s&&!s.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${s}`),d&&(p+=` in document ${o}`),p+=")"),new ut(tt.INVALID_ARGUMENT,g+a+p)}function o2(a,e){return a.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(e,i,s,o,c){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new u2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(gm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class u2 extends s0{data(){return super.data()}}function gm(a,e){return typeof e=="string"?a0(a,e):e instanceof cm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new ut(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pm{}class h2 extends pm{}function l0(a,e,...i){let s=[];e instanceof pm&&s.push(e),s=s.concat(i),function(c){const d=c.filter(p=>p instanceof ym).length,g=c.filter(p=>p instanceof zc).length;if(d>1||d>0&&g>0)throw new ut(tt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)a=o._apply(a);return a}class zc extends h2{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new zc(e,i,s)}_apply(e){const i=this._parse(e);return o0(e._query,i),new Ms(e.firestore,e.converter,pd(e._query,i))}_parse(e){const i=e0(e.firestore);return function(c,d,g,p,y,E,S){let C;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ut(tt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){tv(S,E);const L=[];for(const Y of S)L.push(W_(p,c,Y));C={arrayValue:{values:L}}}else C=W_(p,c,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||tv(S,E),C=a2(g,d,S,E==="in"||E==="not-in");return ve.create(y,E,C)}(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function Cd(a,e,i){const s=e,o=gm("where",a);return zc._create(o,s,i)}class ym extends pm{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new ym(e,i)}_parse(e){const i=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return i.length===1?i[0]:Un.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:(function(o,c){let d=o;const g=c.getFlattenedFilters();for(const p of g)o0(d,p),d=pd(d,p)}(e._query,i),new Ms(e.firestore,e.converter,pd(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function W_(a,e,i){if(typeof(i=ys(i))=="string"){if(i==="")throw new ut(tt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tE(e)&&i.indexOf("/")!==-1)throw new ut(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(Wt.fromString(i));if(!gt.isDocumentKey(s))throw new ut(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return g_(a,new gt(s))}if(i instanceof fn)return g_(a,i._key);throw new ut(tt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Uc(i)}.`)}function tv(a,e){if(!Array.isArray(a)||a.length===0)throw new ut(tt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function o0(a,e){const i=function(o,c){for(const d of o)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null}(a.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(i!==null)throw i===e.op?new ut(tt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ut(tt.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class f2{convertValue(e,i="none"){switch(Ar(e)){case 0:return null;case 1:return e.booleanValue;case 2:return de(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Tr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Et()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return ga(e,(o,c)=>{s[o]=this.convertValue(c,i)}),s}convertVectorValue(e){var i,s,o;const c=(o=(s=(i=e.fields)===null||i===void 0?void 0:i[uc].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(d=>de(d.doubleValue));return new fm(c)}convertGeoPoint(e){return new hm(de(e.latitude),de(e.longitude))}convertArray(e,i){return(e.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(e,i){switch(i){case"previous":const s=wc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(ao(e));default:return null}}convertTimestamp(e){const i=Er(e);return new Re(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=Wt.fromString(e);qt(SE(s));const o=new so(s.get(1),s.get(3)),c=new gt(s.popFirst(5));return o.isEqual(i)||Li(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(a,e,i){let s;return s=a?a.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class u0 extends s0{constructor(e,i,s,o,c,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new ec(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(gm("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class ec extends u0{data(e={}){return super.data(e)}}class m2{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new $l(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(s=>{e.call(i,new ec(this._firestore,this._userDataWriter,s.key,s,new $l(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ut(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>{const p=new ec(o._firestore,o._userDataWriter,g.doc.key,g.doc,new $l(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const p=new ec(o._firestore,o._userDataWriter,g.doc.key,g.doc,new $l(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),E=d.indexOf(g.doc.key)),{type:g2(g.type),doc:p,oldIndex:y,newIndex:E}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function g2(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dd(a){a=bs(a,fn);const e=bs(a.firestore,Pc);return Xw(um(e),a._key).then(i=>_2(e,a,i))}class c0 extends f2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rs(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new fn(this.firestore,null,i)}}function _m(a){a=bs(a,Ms);const e=bs(a.firestore,Pc),i=um(e),s=new c0(e);return c2(a._query),$w(i,a._query).then(o=>new m2(e,s,a,o))}function p2(a,e){const i=bs(a.firestore,Pc),s=vc(a),o=d2(a.converter,e);return y2(i,[r2(e0(a.firestore),"addDoc",s._key,o,a.converter!==null,{}).toMutation(s._key,Oi.exists(!1))]).then(()=>s)}function y2(a,e){return function(s,o){const c=new xi;return s.asyncQueue.enqueueAndForget(async()=>Pw(await Kw(s),o,c)),c.promise}(um(a),e)}function _2(a,e,i){const s=i.docs.get(e._key),o=new c0(a);return new u0(a,o,e._key,s,new $l(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){Is=o})(Qb),sc(new no("firestore",(s,{instanceIdentifier:o,options:c})=>{const d=s.getProvider("app").getImmediate(),g=new Pc(new l1(s.getProvider("auth-internal")),new c1(d,s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ut(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new so(y.options.projectId,E)}(d,o),d);return c=Object.assign({useFetchStreams:i},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),gs(i_,r_,e),gs(i_,r_,"esm2017")})();const v2={apiKey:"AIzaSyCnay_U8JXu4KqQKIVCPVMnLFF1SAn31fQ",authDomain:"stal-b1faa.firebaseapp.com",projectId:"stal-b1faa",storageBucket:"stal-b1faa.firebasestorage.app",messagingSenderId:"138725395926",appId:"1:138725395926:web:4547791578080370dfe877",measurementId:"G-TFZM26ZGSD"},E2=wv(v2),da=Ww(E2),T2="/assets/line3-DkF1AC-t.png",h0=()=>{const[a,e]=Q.useState([]),[i,s]=Q.useState(""),o=Ds();Q.useEffect(()=>{(async()=>{try{const g=_c(da,"courses"),y=(await _m(g)).docs.map(E=>({id:E.id,name:E.data().name}));e(y)}catch(g){console.error("Ошибка при получении курсов: ",g),s("Не удалось загрузить курсы")}})()},[]);const c=d=>{o(`/courses/${d}`)};return B.jsxs("section",{className:"main-programm",id:"programm",children:[B.jsx("h2",{className:"common-title",id:"programms",children:"Программы переподготовки"}),B.jsx("img",{src:T2,alt:"line",className:"line3"})," ",B.jsxs("div",{className:"container",children:[i&&B.jsx("p",{children:i})," ",B.jsx("ul",{className:"programms",children:a.map(d=>B.jsx("li",{className:"programm",children:B.jsxs("div",{className:"programm__text",onClick:()=>c(d.id),children:[B.jsx("span",{children:d.name})," "]})},d.id))})]})]})},A2=()=>{const[a,e]=Q.useState(0),i=[{className:"gallery_image_title"},{className:"gallery_image_second"},{className:"gallery_image_third"},{className:"gallery_image_fourth"},{className:"gallery_image_five"}];return Q.useEffect(()=>{const s=setInterval(()=>{e(o=>(o+1)%i.length)},3e3);return()=>clearInterval(s)},[i.length]),B.jsx("section",{className:"love",id:"love",children:B.jsxs("div",{className:"container",children:[B.jsx("h2",{className:"common-title",children:"Уральская сталь"}),B.jsxs("ul",{className:"galleries",children:[B.jsxs("li",{className:"gallery gallery-item-orange",children:[B.jsx("div",{className:"gallery-item-title",children:"Уральская сталь — это металлургический комбинат"}),B.jsx("div",{className:"gallery-item-text",children:"Это один из ведущих производителей чёрной металлургии в России. Уральская сталь имеет богатую историю и множество достижений. Комбинат активно внедряет современные технологии и инновации, что позволяет ему оставаться конкурентоспособным на мировом рынке. Уральская сталь экспортирует свою продукцию в различные страны мира, обеспечивая рабочие места и развитие экономики региона."})]}),B.jsx("li",{className:"gallery",children:B.jsx("div",{className:"gallery__slides",children:i.map((s,o)=>B.jsx("div",{className:`gallery__slide ${a===o?"gallery__slide_active":""}`,style:{transform:a===o?"translateX(0)":"translateX(-100%)",opacity:a===o?"1":"0"},"data-testid":`slide-${o}`,children:B.jsx("div",{className:`gallery_box ${s.className}`})},o))})})]})]})})},S2=()=>B.jsxs("div",{className:"container",children:[B.jsx("h2",{className:"contact",children:"Свяжитесь с нами"}),B.jsxs("div",{className:"contacts__block",children:[B.jsx("a",{className:"contacts-phone",href:"tel:+73537662153",children:"+7 (3537) 66 21 53"}),B.jsx("a",{className:"contacts-mail",href:"mailto:info@uralsteel.com",children:"info@uralsteel.com"})]})]}),b2=()=>B.jsx("div",{className:"help",title:"Помощь",id:"helping",children:"?"}),R2=({onLoginClick:a})=>B.jsxs("main",{className:"main",children:[B.jsx(b2,{}),B.jsx(ES,{}),B.jsx(SS,{}),B.jsx(h0,{}),B.jsx(A2,{}),B.jsx(S2,{})]}),f0="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAAAXNSR0IArs4c6QAAAnVJREFUeF7t3FFSgmAUxfGPndRS2khlvbiLbBe8YNBKWoo7oWEcRlSQD/TjnMs9PWtX/z8uJsyUBf1AC2TQ6RoeBAA+CAQgAHAB8HhtgADABcDjtQECABcAj9cGCABcADxeGyAAcAHweG2AAMAFwOO1AQKYX+Dtc/tT1+Hwu8+/5/8W7DPNbkATP4Tw3uSr67CzimASoBu/PX6tIpgD6ItvGcEUwK34VhHMAMTEbxGyOmzKfV5iP17jppsAmBI/hPBXFflL3NvHP4oeYM3xG35qgLXHpwbwEJ8WwEt8SgBP8ekAvMWnAvAYnwbAa3wKAM/x4QDe40MBFP94GQTyTVjxT9egFgdQ/PMLgIsCKP711dfFABS//9L3IgCKP3zfITmA4t++6ZMUQPHH77glA1D88fjJvgcoflz8JACKHx//4QAT4097paSPror8rtP4XU/uNvEYv3n/FABe41MAeI5PAfD6sf3KsrAjPUUnf1kUpyDPCBQAzWHmFYEGwCsCFcAMhENV5M/JT9TEAx72PaD7HieejlwjJAHQJsSvXDIAIcQhJAUQwjhCcgAhAO+I6YOZZAPal6G/jq5BFjkFaROGN2FxAH0mnGNAAIRwQoABCOGIAAUQAgGAdwT4Bnj/E5UGwOsmUAF4RKAD8IZACeAJgRbACwI1gAcEeoC1I5gAmIpg6X+ImgGYgFBWRb4ZvxXC8QhTABEIpuJTXIybcxwO3FkzF98sQM8mmIxvGqCD8GTpnH+58eY+A+acspifIwCwjgAEAC4AHq8NEAC4AHi8NkAA4ALg8doAAYALgMdrAwQALgAerw0QALgAeLw2QADgAuDx/1WRRHADhx4JAAAAAElFTkSuQmCC",w2=({setUserId:a})=>{const[e,i]=Q.useState(""),[s,o]=Q.useState(""),[c,d]=Q.useState(""),g=Ds(),p=async E=>{E.preventDefault();try{const S=_c(da,"employees"),C=l0(S,Cd("login","==",e),Cd("password","==",s)),U=await _m(C);if(U.empty)d("Неверные логин или пароль");else{const L=U.docs[0];a(L.id),g("/profile")}}catch(S){console.error("Ошибка при входе: ",S),d("Произошла ошибка")}},y=()=>{g("/")};return B.jsxs("div",{children:[B.jsxs("div",{className:"Arrow-back",onClick:y,children:[B.jsx("img",{className:"backImage",src:f0,alt:"Назад"}),B.jsx("h3",{className:"back",children:"Назад"})]}),B.jsx("div",{className:"LoginContainer",children:B.jsxs("form",{onSubmit:p,children:[B.jsx("h2",{className:"OpenLog",children:"Вход"}),B.jsx("div",{className:"form_item",children:B.jsx("input",{type:"email",className:"form__name form",name:"email",placeholder:"Адрес эл. почты",value:e,onChange:E=>i(E.target.value),required:!0})}),B.jsx("div",{className:"form_item",children:B.jsx("input",{type:"password",className:"form__name form",name:"password",placeholder:"Пароль",value:s,onChange:E=>o(E.target.value),required:!0})}),B.jsx("button",{className:"Open",type:"submit",children:"Войти"}),c&&B.jsx("p",{children:c})," "]})})]})},C2=({userId:a})=>{const[e,i]=Q.useState(null),[s,o]=Q.useState(null),[c,d]=Q.useState(!0),g=Ds();return Q.useEffect(()=>{(async()=>{if(d(!0),!a){console.error("userId не предоставлен"),d(!1);return}try{const y=vc(da,"employees",a),E=await Dd(y);if(E.exists()){const S=E.data();if(i(S),S.courseId){const C=vc(da,"courses",S.courseId),U=await Dd(C);if(U.exists()){const L=U.data();L.startDate&&L.startDate.seconds&&(L.startDate=new Date(L.startDate.seconds*1e3).toLocaleDateString()),o(L)}else console.log("Курс не существует")}}else console.error("Документ сотрудников не существует")}catch(y){console.error("Ошибка при получении данных:",y)}finally{d(!1)}})()},[a]),c?B.jsx("p",{children:"Загрузка..."}):B.jsxs("div",{className:"profile-container",children:[B.jsx("h2",{className:"PersonalAccount",children:"Личный кабинет"}),e?B.jsxs("div",{className:"profile-info",children:[B.jsxs("p",{children:[B.jsx("strong",{children:"Имя:"})," ",e.firstName]}),B.jsxs("p",{children:[B.jsx("strong",{children:"Фамилия:"})," ",e.lastName]}),B.jsxs("p",{children:[B.jsx("strong",{children:"Отчество:"})," ",e.middleName]}),B.jsxs("p",{children:[B.jsx("strong",{children:"Курс:"})," ",e.courseName]}),B.jsxs("p",{children:[B.jsx("strong",{children:"Статус заявки:"})," ",e.statusCourse]}),s&&B.jsxs(B.Fragment,{children:[B.jsxs("p",{children:[B.jsx("strong",{children:"Дата начала:"})," ",s.startDate]})," ",B.jsxs("p",{children:[B.jsx("strong",{children:"Место проведения:"})," ",s.location]})," "]})]}):B.jsx("p",{children:"Информация о пользователе недоступна."}),B.jsx("button",{onClick:()=>g("/"),className:"go-home-button",children:"На главную страницу"})]})},d0=({isOpen:a,onClose:e,course:i})=>{const[s,o]=Q.useState(""),[c,d]=Q.useState(""),[g,p]=Q.useState(""),[y,E]=Q.useState(""),[S,C]=Q.useState(""),[U,L]=Q.useState(""),[Y,G]=Q.useState({}),[Z,rt]=Q.useState(""),[nt,mt]=Q.useState(!1),[ht,Rt]=Q.useState(!1),[x,b]=Q.useState(!1);if(!a)return null;const R=async()=>{const D={};if(s||(D.firstName="Пожалуйста, введите имя."),c||(D.lastName="Пожалуйста, введите фамилию."),g||(D.middleName="Пожалуйста, введите отчество."),y||(D.email="Пожалуйста, введите адрес электронной почты."),S||(D.password="Пожалуйста, введите пароль."),U||(D.confirmPassword="Пожалуйста, подтвердите пароль."),!i){alert("Ошибка: недоступен курс.");return}if(S!==U&&(D.confirmPassword="Пароли не совпадают."),S.length<6&&(D.password="Пароль должен содержать не менее 6 символов."),x||(D.checkbox="Пожалуйста, подтвердите данные."),Object.keys(D).length>0){G(D);return}const O=_c(da,"employees"),P=l0(O,Cd("email","==",y));if(!(await _m(P)).empty){D.email="Пользователь с таким логином уже существует. Пожалуйста, выберите другой логин.",G(D);return}try{const ue=await p2(_c(da,"employees"),{firstName:s,lastName:c,middleName:g,email:y,password:S,courseId:i.id,courseName:i.name,statusCourse:"На рассмотрении"});console.log("Документ успешно записан с ID: ",ue.id),rt("Вашу заявку успешно отправили!"),o(""),d(""),p(""),E(""),C(""),L(""),G({}),setTimeout(()=>{e(),rt("")},2e3)}catch(ue){console.error("Ошибка при добавлении документа: ",ue),alert("Произошла ошибка при отправке формы. Пожалуйста, попробуйте позже.")}};return B.jsx("div",{className:"popup popup_open",children:B.jsxs("div",{className:"popup__content",children:[B.jsx("p",{className:"popup__title",children:"Записаться на курс"}),B.jsx("p",{className:"popup__text",children:"Заполните форму, мы рассмотрим вашу заявку"}),Z&&B.jsx("p",{className:"success-message",children:Z}),B.jsx("input",{className:"input",type:"text",placeholder:"Имя",value:s,onChange:D=>o(D.target.value)}),Y.firstName&&B.jsx("p",{className:"error-message",children:Y.firstName}),B.jsx("input",{className:"input",type:"text",placeholder:"Фамилия",value:c,onChange:D=>d(D.target.value)}),Y.lastName&&B.jsx("p",{className:"error-message",children:Y.lastName}),B.jsx("input",{className:"input",type:"text",placeholder:"Отчество",value:g,onChange:D=>p(D.target.value)}),Y.middleName&&B.jsx("p",{className:"error-message",children:Y.middleName}),B.jsx("input",{className:"input",type:"text",placeholder:"Адрес электронной почты",value:y,onChange:D=>E(D.target.value)}),Y.email&&B.jsx("p",{className:"error-message",children:Y.email}),B.jsxs("div",{className:"password-container",children:[B.jsx("input",{className:"input",type:nt?"text":"password",placeholder:"Пароль",value:S,onChange:D=>C(D.target.value)}),B.jsx("button",{type:"button",onClick:()=>mt(D=>!D),className:"toggle-password",children:nt?"Скрыть":"Показать"})]}),Y.password&&B.jsx("p",{className:"error-message",children:Y.password}),B.jsxs("div",{className:"password-container",children:[B.jsx("input",{className:"input",type:ht?"text":"password",placeholder:"Повтор пароля",value:U,onChange:D=>L(D.target.value)}),B.jsx("button",{type:"button",onClick:()=>Rt(D=>!D),className:"toggle-password",children:ht?"Скрыть":"Показать"})]}),Y.confirmPassword&&B.jsx("p",{className:"error-message",children:Y.confirmPassword}),B.jsxs("label",{className:"checkbox-label",children:[B.jsx("input",{type:"checkbox",className:"checkbox-input",checked:x,onChange:D=>b(D.target.checked)}),"Подтверждаю данные"]}),Y.checkbox&&B.jsx("p",{className:"error-message",children:Y.checkbox})," ",B.jsx("button",{onClick:R,className:"widthBtn_popup",children:"Отправить"}),B.jsx("div",{className:"popup__close-btn",onClick:e,children:B.jsx("img",{src:_v,className:"popup__close-btn",alt:"Закрыть"})})]})})},D2="/assets/CourseDetails-Ds9jRGbN.png",N2=()=>{const{id:a}=bA(),e=Ds(),[i,s]=Q.useState(null),[o,c]=Q.useState(""),[d,g]=Q.useState(!1);if(Q.useEffect(()=>{(async()=>{try{const S=vc(da,"courses",a),C=await Dd(S);C.exists()?s({id:C.id,...C.data()}):c("Курс не найден")}catch(S){console.error("Ошибка при получении данных курса: ",S),c("Не удалось загрузить данные курса")}})()},[a]),o)return B.jsx("p",{className:"error-message",children:o});if(!i)return B.jsx("p",{className:"loading-message",children:"Загрузка..."});const p=()=>{g(E=>{const S=!E;return S?document.body.classList.add("body_fixed"):document.body.classList.remove("body_fixed"),S})},y=()=>{e("/")};return B.jsxs("div",{children:[B.jsxs("div",{className:"Arrow-back",onClick:y,children:[B.jsx("img",{className:"backImage",src:f0,alt:"Назад"}),B.jsx("h3",{className:"back",children:"Назад"})]}),B.jsxs("div",{className:"course-details container",children:[B.jsx("h1",{className:"common-title",children:i.name}),B.jsx("img",{src:D2,className:"CourseDetailsImage",alt:"Курс"}),B.jsx("p",{className:"course-text",children:i.text}),B.jsx("button",{className:"widthBtn widthBtn_inverted",onClick:p,children:"Зарегистрироваться на курс"}),B.jsx(d0,{isOpen:d,onClose:p,course:i})]})]})},I2=()=>{const[a,e]=Q.useState(null);return B.jsx(oS,{basename:"/",children:B.jsxs(BA,{children:[B.jsx(dr,{path:"/",element:B.jsx(R2,{})}),B.jsx(dr,{path:"/login",element:B.jsx(w2,{setUserId:e})}),B.jsx(dr,{path:"/profile",element:a?B.jsx(C2,{userId:a}):B.jsx(Gy,{to:"/login",replace:!0})}),B.jsx(dr,{path:"*",element:B.jsx(Gy,{to:"/",replace:!0})}),B.jsx(dr,{path:"/programs",element:B.jsx(h0,{})}),B.jsx(dr,{path:"/courses/:id",element:B.jsx(N2,{})})," ",B.jsx(dr,{path:"/popup",element:B.jsx(d0,{})})]})})},V2=KT.createRoot(document.getElementById("root"));V2.render(B.jsx(nv.StrictMode,{children:B.jsx(I2,{})}));
